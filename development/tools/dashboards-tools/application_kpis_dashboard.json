{
  "title": "Tableau de bord des KPIs applicatifs",
  "description": "Vue d'ensemble des indicateurs clés de performance applicatifs",
  "refresh": "1m",
  "time": {
    "from": "now-24h",
    "to": "now"
  },
  "panels": [
    {
      "id": "app_overview",
      "title": "Vue d'ensemble des applications",
      "type": "stat-panel",
      "gridPos": {
        "x": 0,
        "y": 0,
        "w": 24,
        "h": 3
      },
      "options": {
        "colorMode": "value",
        "graphMode": "area",
        "justifyMode": "auto"
      },
      "targets": [
        {
          "kpi": "APP_HEALTH_INDEX",
          "label": "Santé applicative"
        },
        {
          "kpi": "N8N_HEALTH_INDEX",
          "label": "Santé n8n"
        },
        {
          "kpi": "API_HEALTH_INDEX",
          "label": "Santé API"
        }
      ]
    },
    {
      "id": "performance_panel",
      "title": "Performance",
      "type": "section",
      "gridPos": {
        "x": 0,
        "y": 3,
        "w": 24,
        "h": 1
      }
    },
    {
      "id": "response_time_panel",
      "title": "Temps de réponse",
      "type": "gauge",
      "gridPos": {
        "x": 0,
        "y": 4,
        "w": 8,
        "h": 8
      },
      "options": {
        "min": 0,
        "max": 2000,
        "thresholds": [
          { "value": 0, "color": "green" },
          { "value": 500, "color": "orange" },
          { "value": 1000, "color": "red" }
        ]
      },
      "targets": [
        {
          "kpi": "APP_RESPONSE_TIME",
          "label": "Temps de réponse (ms)"
        }
      ]
    },
    {
      "id": "throughput_panel",
      "title": "Débit de requêtes",
      "type": "gauge",
      "gridPos": {
        "x": 8,
        "y": 4,
        "w": 8,
        "h": 8
      },
      "options": {
        "min": 0,
        "max": 300,
        "thresholds": [
          { "value": 0, "color": "green" },
          { "value": 100, "color": "orange" },
          { "value": 200, "color": "red" }
        ]
      },
      "targets": [
        {
          "kpi": "APP_THROUGHPUT",
          "label": "Débit (req/s)"
        }
      ]
    },
    {
      "id": "users_panel",
      "title": "Utilisateurs concurrents",
      "type": "gauge",
      "gridPos": {
        "x": 16,
        "y": 4,
        "w": 8,
        "h": 8
      },
      "options": {
        "min": 0,
        "max": 150,
        "thresholds": [
          { "value": 0, "color": "green" },
          { "value": 50, "color": "orange" },
          { "value": 100, "color": "red" }
        ]
      },
      "targets": [
        {
          "kpi": "APP_CONCURRENT_USERS",
          "label": "Utilisateurs"
        }
      ]
    },
    {
      "id": "reliability_panel",
      "title": "Fiabilité",
      "type": "section",
      "gridPos": {
        "x": 0,
        "y": 12,
        "w": 24,
        "h": 1
      }
    },
    {
      "id": "error_rate_panel",
      "title": "Taux d'erreur",
      "type": "gauge",
      "gridPos": {
        "x": 0,
        "y": 13,
        "w": 8,
        "h": 8
      },
      "options": {
        "min": 0,
        "max": 10,
        "thresholds": [
          { "value": 0, "color": "green" },
          { "value": 1, "color": "orange" },
          { "value": 5, "color": "red" }
        ]
      },
      "targets": [
        {
          "kpi": "APP_ERROR_RATE",
          "label": "Taux d'erreur (%)"
        }
      ]
    },
    {
      "id": "workflow_success_panel",
      "title": "Taux de succès des workflows",
      "type": "gauge",
      "gridPos": {
        "x": 8,
        "y": 13,
        "w": 8,
        "h": 8
      },
      "options": {
        "min": 0,
        "max": 100,
        "thresholds": [
          { "value": 0, "color": "red" },
          { "value": 90, "color": "orange" },
          { "value": 95, "color": "green" }
        ]
      },
      "targets": [
        {
          "kpi": "N8N_WORKFLOW_SUCCESS_RATE",
          "label": "Taux de succès (%)"
        }
      ]
    },
    {
      "id": "api_success_panel",
      "title": "Taux de succès des API",
      "type": "gauge",
      "gridPos": {
        "x": 16,
        "y": 13,
        "w": 8,
        "h": 8
      },
      "options": {
        "min": 0,
        "max": 100,
        "thresholds": [
          { "value": 0, "color": "red" },
          { "value": 95, "color": "orange" },
          { "value": 98, "color": "green" }
        ]
      },
      "targets": [
        {
          "kpi": "API_SUCCESS_RATE",
          "label": "Taux de succès (%)"
        }
      ]
    },
    {
      "id": "n8n_panel",
      "title": "n8n",
      "type": "section",
      "gridPos": {
        "x": 0,
        "y": 21,
        "w": 24,
        "h": 1
      }
    },
    {
      "id": "workflow_execution_panel",
      "title": "Temps d'exécution des workflows",
      "type": "graph",
      "gridPos": {
        "x": 0,
        "y": 22,
        "w": 12,
        "h": 8
      },
      "options": {
        "legend": {
          "show": true,
          "values": true,
          "min": true,
          "max": true,
          "avg": true
        }
      },
      "targets": [
        {
          "kpi": "N8N_WORKFLOW_EXECUTION_TIME",
          "label": "Temps d'exécution (s)"
        }
      ]
    },
    {
      "id": "active_workflows_panel",
      "title": "Workflows actifs",
      "type": "graph",
      "gridPos": {
        "x": 12,
        "y": 22,
        "w": 12,
        "h": 8
      },
      "options": {
        "legend": {
          "show": true,
          "values": true,
          "min": true,
          "max": true,
          "avg": true
        }
      },
      "targets": [
        {
          "kpi": "N8N_ACTIVE_WORKFLOWS",
          "label": "Workflows actifs"
        }
      ]
    },
    {
      "id": "api_panel",
      "title": "API",
      "type": "section",
      "gridPos": {
        "x": 0,
        "y": 30,
        "w": 24,
        "h": 1
      }
    },
    {
      "id": "api_response_time_panel",
      "title": "Temps de réponse API",
      "type": "graph",
      "gridPos": {
        "x": 0,
        "y": 31,
        "w": 12,
        "h": 8
      },
      "options": {
        "legend": {
          "show": true,
          "values": true,
          "min": true,
          "max": true,
          "avg": true
        }
      },
      "targets": [
        {
          "kpi": "API_RESPONSE_TIME",
          "label": "Temps de réponse (ms)"
        }
      ]
    },
    {
      "id": "api_rate_limit_panel",
      "title": "Utilisation des limites d'API",
      "type": "graph",
      "gridPos": {
        "x": 12,
        "y": 31,
        "w": 12,
        "h": 8
      },
      "options": {
        "legend": {
          "show": true,
          "values": true,
          "min": true,
          "max": true,
          "avg": true
        }
      },
      "targets": [
        {
          "kpi": "API_RATE_LIMIT",
          "label": "Utilisation (%)"
        }
      ]
    },
    {
      "id": "scripts_panel",
      "title": "Scripts PowerShell",
      "type": "section",
      "gridPos": {
        "x": 0,
        "y": 39,
        "w": 24,
        "h": 1
      }
    },
    {
      "id": "script_execution_panel",
      "title": "Temps d'exécution des scripts",
      "type": "graph",
      "gridPos": {
        "x": 0,
        "y": 40,
        "w": 8,
        "h": 8
      },
      "options": {
        "legend": {
          "show": true,
          "values": true,
          "min": true,
          "max": true,
          "avg": true
        }
      },
      "targets": [
        {
          "kpi": "SCRIPT_EXECUTION_TIME",
          "label": "Temps d'exécution (s)"
        }
      ]
    },
    {
      "id": "script_error_panel",
      "title": "Taux d'erreur des scripts",
      "type": "graph",
      "gridPos": {
        "x": 8,
        "y": 40,
        "w": 8,
        "h": 8
      },
      "options": {
        "legend": {
          "show": true,
          "values": true,
          "min": true,
          "max": true,
          "avg": true
        }
      },
      "targets": [
        {
          "kpi": "SCRIPT_ERROR_RATE",
          "label": "Taux d'erreur (%)"
        }
      ]
    },
    {
      "id": "script_cpu_panel",
      "title": "Utilisation CPU par les scripts",
      "type": "graph",
      "gridPos": {
        "x": 16,
        "y": 40,
        "w": 8,
        "h": 8
      },
      "options": {
        "legend": {
          "show": true,
          "values": true,
          "min": true,
          "max": true,
          "avg": true
        }
      },
      "targets": [
        {
          "kpi": "SCRIPT_CPU_USAGE",
          "label": "Utilisation CPU (%)"
        }
      ]
    },
    {
      "id": "resources_panel",
      "title": "Ressources",
      "type": "section",
      "gridPos": {
        "x": 0,
        "y": 48,
        "w": 24,
        "h": 1
      }
    },
    {
      "id": "app_cpu_panel",
      "title": "Utilisation CPU par l'application",
      "type": "graph",
      "gridPos": {
        "x": 0,
        "y": 49,
        "w": 12,
        "h": 8
      },
      "options": {
        "legend": {
          "show": true,
          "values": true,
          "min": true,
          "max": true,
          "avg": true
        }
      },
      "targets": [
        {
          "kpi": "APP_CPU_USAGE",
          "label": "Utilisation CPU (%)"
        }
      ]
    },
    {
      "id": "app_memory_panel",
      "title": "Utilisation mémoire par l'application",
      "type": "graph",
      "gridPos": {
        "x": 12,
        "y": 49,
        "w": 12,
        "h": 8
      },
      "options": {
        "legend": {
          "show": true,
          "values": true,
          "min": true,
          "max": true,
          "avg": true
        }
      },
      "targets": [
        {
          "kpi": "APP_MEMORY_USAGE",
          "label": "Utilisation mémoire (MB)"
        }
      ]
    }
  ]
}
