/**
 * Styles pour la visualisation "ligne de métro" cognitive
 */

/* Variables */
:root {
  --cosmos-color: #1a237e;
  --galaxy-color: #7b1fa2;
  --stellar-system-color: #d32f2f;
  --planet-color: #ff9800;
  --continent-color: #ffc107;
  --region-color: #4caf50;
  --locality-color: #00bcd4;
  --district-color: #2196f3;
  --building-color: #3f51b5;
  --foundation-color: #212121;
  
  --temporal-color: #2196f3;
  --cognitive-color: #9c27b0;
  --organizational-color: #4caf50;
  --strategic-color: #f44336;
  
  --planned-color: #2196f3;
  --in-progress-color: #ff9800;
  --completed-color: #4caf50;
  --blocked-color: #f44336;
  --cancelled-color: #9e9e9e;
  
  --primary-color: #3498db;
  --secondary-color: #2ecc71;
  --danger-color: #e74c3c;
  --dark-color: #2c3e50;
  --light-color: #ecf0f1;
  --border-radius: 4px;
  --box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
}

/* Conteneur principal */
.metro-map-container {
  width: 100%;
  height: 100%;
  position: relative;
  overflow: hidden;
  background-color: #f8f9fa;
}

/* Légende */
.metro-map-legend {
  position: absolute;
  bottom: 20px;
  right: 20px;
  background-color: rgba(255, 255, 255, 0.9);
  border-radius: var(--border-radius);
  box-shadow: var(--box-shadow);
  padding: 10px;
  z-index: 10;
  max-width: 300px;
  font-size: 12px;
}

.metro-map-legend h3 {
  margin-top: 0;
  margin-bottom: 10px;
  font-size: 14px;
  border-bottom: 1px solid #eee;
  padding-bottom: 5px;
}

.legend-item {
  display: flex;
  align-items: center;
  margin-bottom: 5px;
}

.legend-color {
  width: 15px;
  height: 15px;
  border-radius: 50%;
  margin-right: 10px;
}

/* Couleurs des niveaux hiérarchiques */
.legend-cosmos { background-color: var(--cosmos-color); }
.legend-galaxy { background-color: var(--galaxy-color); }
.legend-stellar-system { background-color: var(--stellar-system-color); }
.legend-planet { background-color: var(--planet-color); }
.legend-continent { background-color: var(--continent-color); }
.legend-region { background-color: var(--region-color); }
.legend-locality { background-color: var(--locality-color); }
.legend-district { background-color: var(--district-color); }
.legend-building { background-color: var(--building-color); }
.legend-foundation { background-color: var(--foundation-color); }

/* Couleurs des dimensions */
.legend-temporal { background-color: var(--temporal-color); }
.legend-cognitive { background-color: var(--cognitive-color); }
.legend-organizational { background-color: var(--organizational-color); }
.legend-strategic { background-color: var(--strategic-color); }

/* Couleurs des statuts */
.legend-planned { background-color: var(--planned-color); }
.legend-in-progress { background-color: var(--in-progress-color); }
.legend-completed { background-color: var(--completed-color); }
.legend-blocked { background-color: var(--blocked-color); }
.legend-cancelled { background-color: var(--cancelled-color); }

/* Types de lignes */
.legend-line {
  width: 30px;
  height: 2px;
  margin-right: 10px;
}

.legend-hierarchical {
  border-top: 3px solid #333;
}

.legend-dependency {
  border-top: 2px dashed #333;
}

.legend-dimensional {
  border-top: 2px dotted #333;
}

/* Contrôles de navigation */
.metro-map-controls {
  position: absolute;
  top: 20px;
  left: 20px;
  z-index: 10;
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.metro-map-control-btn {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  background-color: white;
  border: none;
  box-shadow: var(--box-shadow);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 18px;
  transition: background-color 0.3s;
}

.metro-map-control-btn:hover {
  background-color: #f0f0f0;
}

/* Tooltip */
.metro-map-tooltip {
  background-color: rgba(0, 0, 0, 0.8);
  color: white;
  padding: 8px;
  border-radius: 4px;
  font-size: 12px;
  max-width: 200px;
  z-index: 1000;
  pointer-events: none;
}

/* Modal */
.metro-map-modal {
  display: block;
  position: fixed;
  z-index: 1000;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.5);
}

.metro-map-modal-content {
  background-color: white;
  margin: 10% auto;
  padding: 20px;
  border-radius: var(--border-radius);
  width: 80%;
  max-width: 600px;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
  position: relative;
}

.metro-map-modal-close {
  position: absolute;
  top: 10px;
  right: 20px;
  font-size: 28px;
  font-weight: bold;
  cursor: pointer;
}

.metro-map-modal-actions {
  margin-top: 20px;
  display: flex;
  justify-content: flex-end;
  gap: 10px;
}

.metro-map-btn {
  padding: 8px 16px;
  border: none;
  border-radius: var(--border-radius);
  cursor: pointer;
  font-weight: bold;
}

.metro-map-btn-edit {
  background-color: var(--primary-color);
  color: white;
}

.metro-map-btn-expand {
  background-color: var(--secondary-color);
  color: white;
}

.metro-map-modal-metadata {
  margin-top: 15px;
  border-top: 1px solid #eee;
  padding-top: 15px;
}

.metro-map-modal-dimensions {
  display: flex;
  flex-wrap: wrap;
  gap: 20px;
  margin-top: 10px;
}

.dimension-section {
  flex: 1;
  min-width: 200px;
}

.dimension-section h4 {
  margin-bottom: 5px;
}

.dimension-section ul {
  list-style: none;
  padding-left: 10px;
}

.dimension-section li {
  margin-bottom: 3px;
}

/* Styles pour les nœuds et les liens dans Cytoscape */
.metro-node {
  width: 30px;
  height: 30px;
  background-color: white;
  border: 3px solid;
  border-radius: 50%;
  text-align: center;
  line-height: 24px;
  font-weight: bold;
  cursor: pointer;
}

.metro-node-cosmos { border-color: var(--cosmos-color); }
.metro-node-galaxy { border-color: var(--galaxy-color); }
.metro-node-stellar-system { border-color: var(--stellar-system-color); }
.metro-node-planet { border-color: var(--planet-color); }
.metro-node-continent { border-color: var(--continent-color); }
.metro-node-region { border-color: var(--region-color); }
.metro-node-locality { border-color: var(--locality-color); }
.metro-node-district { border-color: var(--district-color); }
.metro-node-building { border-color: var(--building-color); }
.metro-node-foundation { border-color: var(--foundation-color); }

.metro-node-planned { background-color: var(--planned-color); }
.metro-node-in-progress { background-color: var(--in-progress-color); }
.metro-node-completed { background-color: var(--completed-color); }
.metro-node-blocked { background-color: var(--blocked-color); }
.metro-node-cancelled { background-color: var(--cancelled-color); opacity: 0.6; }

.metro-edge {
  width: 4px;
  cursor: pointer;
}

.metro-edge-hierarchical {
  width: 6px;
}

.metro-edge-dependency {
  width: 3px;
  border-style: dashed;
}

.metro-edge-dimensional {
  width: 2px;
  border-style: dotted;
}

/* Styles pour les nœuds sélectionnés */
.metro-node-selected {
  box-shadow: 0 0 10px rgba(255, 193, 7, 0.8);
  border-width: 5px;
  border-color: #ffc107;
}

/* Styles pour les nœuds survolés */
.metro-node-hover {
  border-width: 5px;
}

/* Styles pour les nœuds connectés */
.metro-node-connected {
  border-width: 4px;
}

/* Styles pour les liens survolés */
.metro-edge-hover {
  width: 6px;
}

/* Styles pour les filtres actifs */
.filter-badge {
  display: inline-block;
  padding: 3px 8px;
  background-color: var(--primary-color);
  color: white;
  border-radius: 12px;
  font-size: 12px;
  margin-right: 5px;
}

.filter-badge-close {
  margin-left: 5px;
  cursor: pointer;
}

/* Styles pour la légende des filtres */
.filter-legend {
  margin-top: 10px;
  display: flex;
  flex-wrap: wrap;
  gap: 5px;
}

/* Styles pour les différents modes d'affichage */
.view-mode-selector {
  margin-bottom: 10px;
}

.view-mode-btn {
  padding: 5px 10px;
  border: 1px solid #ddd;
  background-color: white;
  border-radius: var(--border-radius);
  cursor: pointer;
  margin-right: 5px;
}

.view-mode-btn.active {
  background-color: var(--primary-color);
  color: white;
  border-color: var(--primary-color);
}

/* Styles pour les différentes dispositions */
.layout-selector {
  margin-bottom: 10px;
}

.layout-btn {
  padding: 5px 10px;
  border: 1px solid #ddd;
  background-color: white;
  border-radius: var(--border-radius);
  cursor: pointer;
  margin-right: 5px;
}

.layout-btn.active {
  background-color: var(--primary-color);
  color: white;
  border-color: var(--primary-color);
}

/* Styles pour les différents thèmes */
.theme-selector {
  margin-bottom: 10px;
}

.theme-btn {
  width: 20px;
  height: 20px;
  border-radius: 50%;
  border: 1px solid #ddd;
  cursor: pointer;
  margin-right: 5px;
  display: inline-block;
}

.theme-light {
  background-color: #f8f9fa;
}

.theme-dark {
  background-color: #343a40;
}

.theme-blue {
  background-color: #e3f2fd;
}

.theme-green {
  background-color: #e8f5e9;
}

.theme-btn.active {
  border: 2px solid var(--primary-color);
}

/* Responsive */
@media (max-width: 768px) {
  .metro-map-legend {
    bottom: 10px;
    right: 10px;
    max-width: 200px;
    font-size: 10px;
  }
  
  .metro-map-controls {
    top: 10px;
    left: 10px;
  }
  
  .metro-map-control-btn {
    width: 30px;
    height: 30px;
    font-size: 14px;
  }
  
  .metro-map-modal-content {
    width: 95%;
    margin: 5% auto;
  }
}
