

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Plan Magistral V5 : Écosystème Intégré N8N &amp; CMS pour Agence Musicale (Booking, Management, Production) - Propulsé par 8 Équipes IA - Focus Utilisabilité &amp; RH &mdash; EMAIL_SENDER_1 1.0.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css?v=4ae1632d" />

  
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=8d563738"></script>
      <script src="../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            EMAIL_SENDER_1
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contenu:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../api/index.html">Documentation des API</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">EMAIL_SENDER_1</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Plan Magistral V5 : Écosystème Intégré N8N &amp; CMS pour Agence Musicale (Booking, Management, Production) - Propulsé par 8 Équipes IA - Focus Utilisabilité &amp; RH</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/plans/magistral/Plan Magistral V5.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="plan-magistral-v5-ecosysteme-integre-n8n-cms-pour-agence-musicale-booking-management-production-propulse-par-8-equipes-ia-focus-utilisabilite-rh">
<h1>Plan Magistral V5 : Écosystème Intégré N8N &amp; CMS pour Agence Musicale (Booking, Management, Production) - Propulsé par 8 Équipes IA - Focus Utilisabilité &amp; RH<a class="headerlink" href="#plan-magistral-v5-ecosysteme-integre-n8n-cms-pour-agence-musicale-booking-management-production-propulse-par-8-equipes-ia-focus-utilisabilite-rh" title="Link to this heading"></a></h1>
<p><strong>Vision Globale :</strong> (Inchangée mais renforcée) Établir un système nerveux centralisé et intelligent pour une agence musicale moderne (gestion ~10+ artistes), fusionnant un CMS métier sur mesure avec un moteur d’automatisation N8N robuste et modulaire. Ce système optimisera et intégrera de manière transparente les opérations de booking, management, production, promotion, <strong>RH</strong>, et <strong>collaboration musicien</strong>. Il s’appuiera sur Notion comme hub de données dynamique et validé, Google Workspace pour la collaboration documentaire et calendaire, et 8 équipes d’agents IA spécialisées (via OpenRouter avec rotation de clés sécurisée) pour décupler l’intelligence, l’efficacité opérationnelle et la satisfaction de toutes les parties prenantes (agence, artistes, partenaires).</p>
<hr class="docutils" />
<p><strong>PILIER 1 : La Donnée Stratégique - Centralisée, Structurée, Validée, Sécurisée et Accessible (Fondation Notion &amp; Extensions)</strong></p>
<ol class="simple">
<li><p><strong>Hub de Données Notion (Le Cerveau Opérationnel et Relationnel de l’Agence) :</strong></p>
<ul class="simple">
<li><p><strong>1.1. Base “Artistes” (Master List - Référentiel Central Absolu) :</strong></p>
<ul>
<li><p><em>Rôle :</em> Clé de voûte. Source unique de vérité pour les paramètres de chaque artiste géré.</p></li>
<li><p><em>Champs Critiques (Exemples étendus) :</em></p>
<ul>
<li><p>Nom Artiste (Titre, Unique)</p></li>
<li><p>Statut Agence (Select : Prospect, Actif, En Pause, Archive)</p></li>
<li><p>Manager Référent (Relation -&gt; Agence_Équipe)</p></li>
<li><p>Booker Principal (Relation -&gt; Agence_Équipe)</p></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ol>
<p>N8N Config (Texte multiligne - JSON) :<br />{<br />”artistId”: “InternalUUID”, // Pour clés Redis/Logs<br />”notionDbBookingPrefix”: “[Artiste]_LOT_”, // Préfixe pour LOT1, LOT2…<br />”notionDbAgenda”: “ID_Base_Agenda”,<br />”notionDbDispo”: “ID_Base_Dispo”,<br />”notionDbProjets”: “ID_Base_Projets”,<br />”notionDbContrats”: “ID_Base_Contrats”,<br />”notionDbMerch”: “ID_Base_Merch”, // Nouveau<br />”gCalBookingId”: “ID_Google_Calendar_Booking”,<br />”gCalIndispoId”: “ID_Google_Calendar_Indispo”,<br />”gDriveFolderId”: “ID_Dossier_GDrive_Artiste”,<br />”gmailCredentialName”: “Nom_Credential_Gmail_Artiste”, // Si spécifique<br />”signalGroupId”: “ID_Groupe_Signal_Artiste”, // Nouveau<br />”telegramChatId”: “ID_Chat_Telegram_Artiste”, // Nouveau<br />”aiTeamStaticDataPrefix”: “aiApiKeys_[Artiste]_” // Si rotation par artiste<br />}</p>
<ul class="simple">
<li><ul>
<li><p>Lien Espace Notion (URL)</p>
<ul>
<li><p>Lien Dossier GDrive (URL)</p>
<ul>
<li><p>Lien Portail CMS (URL) - (Futur)</p></li>
<li><p>Contrat Management (Relation -&gt; [Artiste]_Contrats)</p></li>
<li><p>Résumé Financier Clé (Rollup -&gt; Agence_Finance)</p></li>
</ul>
</li>
<li></li>
<li><p><em>Importance :</em> Permet la paramétrisation dynamique et l’isolation des workflows N8N via WF-Core-Config. Assure la scalabilité.</p></li>
</ul>
</li>
<li></li>
<li><p><strong>1.2. Espaces Notion par Artiste (Isolation &amp; Collaboration Opérationnelle) :</strong></p>
<ul>
<li><p><em>Structure :</em> Espace dédié par artiste, partagé avec l’artiste (accès limité/contrôlé) et l’équipe agence concernée.</p></li>
<li><p><em>Bases Types par Artiste (Exemples étendus) :</em></p>
<ul>
<li><p>[Artiste]_LOT_Booking : Champs étendus -&gt; AI Sentiment Réponse (Select), AI Résumé Réponse (Texte), Lien GCal Event (URL, si DEAL), Commission Booker (Nombre), Statut Paiement Dépôt (Select).</p></li>
<li><p>[Artiste]_Agenda_Booking : Champs étendus -&gt; Heure Arrivée, Heure Soundcheck, Heure Repas, Heure Show, Contact Lieu Jour J (Texte), Lien Itinéraire (URL), Statut Logistique (Select : A faire, En cours, OK), Feedback Post-Concert (Relation -&gt; [Artiste]_Feedback).</p></li>
<li><p>[Artiste]_Dispo_Membres : Champs étendus -&gt; Validé Par Manager (Checkbox), Impact Booking (Select : Bloquant, Flexible).</p></li>
<li><p>[Artiste]_Projets : Champs étendus -&gt; Objectifs Clés (Texte), Budget Prévisionnel vs Réel (Formule), Tâches Principales (Relation -&gt; [Artiste]_Tâches), Fichiers Clés (Relation -&gt; GDrive via N8N).</p></li>
<li><p>[Artiste]_Contrats : Champs étendus -&gt; Date Expiration, Renouvellement Auto (Checkbox), Alertes Clés (Date), Parties Signataires (Texte).</p></li>
<li><p>[Artiste]_Tâches (Nouveau) : Base de tâches partagée (Agence/Artiste). Champs -&gt; Tâche, Responsable (Relation -&gt; Agence_Équipe / Artiste_Membres), Échéance, Statut (A faire, En cours, Fait), Projet Lié (Relation -&gt; [Artiste]_Projets), Priorité. <em>N8N peut envoyer des rappels.</em></p></li>
<li><p>[Artiste]_Merch (Nouveau) : Suivi stock merchandising. Champs -&gt; Article, Taille/Type, Stock Actuel, Prix Vente, Seuil Alerte Stock.</p></li>
<li><p>[Artiste]_Social_Content (Nouveau) : Calendrier éditorial. Champs -&gt; Date Publication, Plateforme (Select), Contenu (Texte), Visuel/Vidéo (Fichier/Lien), Statut (Idée, Prêt, Publié), Performance (Texte).</p></li>
<li><p>[Artiste]_Feedback (Nouveau) : Retours post-concert/projet. Champs -&gt; Date, Type (Concert, Projet), Source (Artiste, Public, Pro), Note (Nombre), Commentaire.</p></li>
</ul>
</li>
<li></li>
</ul>
</li>
<li></li>
<li><p><strong>1.3. Bases de Données Métier Transversales (Vision 360° Agence) :</strong></p>
<ul>
<li><p>Agence_Contacts : Champs étendus -&gt; Source Contact (Select), Date Dernier Contact N8N (Date), Consentement GDPR (Checkbox/Date), Préférences Communication (Multi-Select: Email, Tel, Signal), Notes Confidentielles (Accès restreint?).</p></li>
<li><p>Agence_Lieux_Structures : Champs étendus -&gt; Contact Booking (Relation), Contact Technique (Relation), Contact Com (Relation), Lien Fiche Technique (URL), Conditions Accueil Détaillées (Texte), Historique Incidents (Texte), Accessibilité PMR (Select), Notes Internes Booker, Notes Internes Tech.</p></li>
<li><p>Agence_Équipe : Champs étendus -&gt; Spécialisations (Multi-Select), Accès CMS/Notion (Texte), Contact Urgence (Texte), Date Entrée/Sortie. <em>Liée à Agence_HR_Personnel.</em></p></li>
<li><p>Artiste_Membres : Champs étendus -&gt; Contact Principal (Email/Tel), Rôle Scène (Texte), Rôle Admin/Compo (Texte), Allergies/Régime (Pour catering), Préférences Communication (Select). <em>Liée à Agence_HR_Personnel si contrat direct.</em></p></li>
<li><p>Agence_Monitoring_N8N : Champs étendus -&gt; Workflow ID, Execution ID, Sévérité (Info, Warning, Error, Critical), Données Contextuelles (JSON), Action Corrective Prise (Texte).</p></li>
<li><p>Agence_Finance : Champs étendus -&gt; Facture Liée (Fichier/Lien), Centre de Coût (Select: Booking, Prod, Promo, Admin), Statut Facturation (A facturer, Facturé, Payé), Méthode Paiement.</p></li>
<li><p>Agence_HR_Personnel (Nouveau - CRUCIAL) : Base centrale RH (accès restreint). Champs -&gt; Nom Complet, Type Contrat (CDI, CDD, Intermittent, Freelance…), Date Début/Fin Contrat, Poste/Rôle, Manager Direct (Relation -&gt; Agence_Équipe), Coordonnées Perso (sécurisé), Contact Urgence, IBAN (sécurisé), Num Sécu (sécurisé), Statut Congés/Absences (Rollup), Date Prochaine Révision Perf, Documents RH (Relation -&gt; GDrive), Préférences Communication Interne. <em>Concerne équipe agence ET potentiellement musiciens sous contrat.</em></p></li>
<li><p>Agence_Templates (Nouveau) : Stocke modèles de contrats, emails types, checklists… Champs -&gt; Nom Template, Type (Contrat Booking, Email Prospection, Checklist Logistique…), Contenu (Texte/Fichier).</p></li>
</ul>
</li>
<li></li>
<li><p><strong>1.4. Relations Notion Cohérentes et Stratégiques (Exemples étendus) :</strong></p>
<ul>
<li><p>Agence_Lieux_Structures &lt;-&gt; [Artiste]_Agenda_Booking (Rollup: Nombre de concerts de l’agence dans ce lieu).</p></li>
<li><p>Agence_Contacts &lt;-&gt; [Artiste]_LOT_Booking (Rollup: Taux de réponse de ce contact aux campagnes).</p></li>
<li><p>Agence_HR_Personnel &lt;-&gt; [Artiste]_Tâches (Assignation tâches RH).</p></li>
<li><p>Agence_Finance &lt;-&gt; [Artiste]_Projets (Suivi budget projet).</p></li>
</ul>
</li>
<li></li>
<li><p><strong>1.5. Conventions de Nommage, Validation Rigoureuse &amp; Qualité Données :</strong></p>
<ul>
<li><p><em>Nommage :</em> Documenter et appliquer strictement.</p></li>
<li><p><em>Validation Notion :</em> Utiliser “Person” pour relations vers Équipe/Membres. Utiliser des formules pour vérifier cohérence dates.</p></li>
<li><p><em>Validation N8N :</em> Workflow WF-Data-Quality-Checker (périodique) qui scanne les bases clés (Contacts, Lieux…) pour détecter anomalies (emails invalides, relations manquantes, doublons potentiels) et crée des tâches de correction dans Agence_Tâches_Admin.</p></li>
<li><p><em>Qualité Données :</em> Responsabiliser les équipes (Bookers pour Contacts/Lieux, Managers pour Artistes…). Mettre en place des vues Notion “Données à compléter/valider”.</p></li>
</ul>
</li>
<li></li>
<li><p><strong>1.6. Sécurité et Gestion Fine des Accès Notion :</strong></p>
<ul>
<li><p>Utiliser les permissions Notion au niveau Espace, Page, Base de données.</p></li>
<li><p>Créer des groupes d’utilisateurs (Booking Team, Managers, Artiste X Access…).</p></li>
<li><p>Limiter l’accès des intégrations N8N aux seules bases nécessaires via le partage d’intégration.</p></li>
<li><p>Auditer régulièrement les permissions.</p></li>
</ul>
</li>
<li></li>
</ul>
</li>
</ul>
<p><strong>Diagramme ASCII simplifié des Relations Notion Clés :</strong><br />graph TD<br />subgraph Agence Transversal<br />A[Agence_Artistes]<br />B(Agence_Contacts)<br />C(Agence_Lieux_Structures)<br />D(Agence_Équipe)<br />E(Agence_HR_Personnel)<br />F(Agence_Finance)<br />G(Agence_Monitoring_N8N)<br />H(Agence_Templates)<br />end</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">subgraph</span> <span class="n">Espace</span> <span class="n">Artiste</span> <span class="n">X</span>  
    <span class="n">X</span>\<span class="n">_LOT</span><span class="p">(</span><span class="n">ArtisteX</span>\<span class="n">_LOT</span>\<span class="n">_Booking</span><span class="p">)</span>  
    <span class="n">X</span>\<span class="n">_Agenda</span><span class="p">(</span><span class="n">ArtisteX</span>\<span class="n">_Agenda</span>\<span class="n">_Booking</span><span class="p">)</span>  
    <span class="n">X</span>\<span class="n">_Dispo</span><span class="p">(</span><span class="n">ArtisteX</span>\<span class="n">_Dispo</span>\<span class="n">_Membres</span><span class="p">)</span>  
    <span class="n">X</span>\<span class="n">_Projets</span><span class="p">(</span><span class="n">ArtisteX</span>\<span class="n">_Projets</span><span class="p">)</span>  
    <span class="n">X</span>\<span class="n">_Contrats</span><span class="p">(</span><span class="n">ArtisteX</span>\<span class="n">_Contrats</span><span class="p">)</span>  
    <span class="n">X</span>\<span class="n">_Taches</span><span class="p">(</span><span class="n">ArtisteX</span>\<span class="n">_Taches</span><span class="p">)</span>  
    <span class="n">X</span>\<span class="n">_Membres</span><span class="p">(</span><span class="n">ArtisteX</span>\<span class="n">_Membres</span><span class="p">)</span>  
<span class="n">end</span>

<span class="n">A</span> \<span class="o">--</span> <span class="n">Contient</span> <span class="n">Config</span> <span class="n">pour</span> \<span class="o">--</span>\<span class="o">&gt;</span> <span class="n">X</span>\<span class="n">_LOT</span> <span class="o">&amp;</span> <span class="n">X</span>\<span class="n">_Agenda</span> <span class="o">&amp;</span> <span class="n">X</span>\<span class="n">_Dispo</span> <span class="o">&amp;</span> <span class="n">X</span>\<span class="n">_Projets</span> <span class="o">&amp;</span> <span class="n">X</span>\<span class="n">_Contrats</span> <span class="o">&amp;</span> <span class="n">X</span>\<span class="n">_Taches</span>  
<span class="n">A</span> \<span class="o">--</span> <span class="n">Géré</span> <span class="n">par</span> \<span class="o">--</span>\<span class="o">&gt;</span> <span class="n">D</span>  
<span class="n">A</span> \<span class="o">--</span> <span class="n">Musiciens</span> \<span class="o">--</span>\<span class="o">&gt;</span> <span class="n">X</span>\<span class="n">_Membres</span>

<span class="n">X</span>\<span class="n">_LOT</span> \<span class="o">--</span> <span class="n">Contact</span> \<span class="o">--</span>\<span class="o">&gt;</span> <span class="n">B</span>  
<span class="n">X</span>\<span class="n">_LOT</span> \<span class="o">--</span> <span class="n">Lieu</span> \<span class="o">--</span>\<span class="o">&gt;</span> <span class="n">C</span>  
<span class="n">X</span>\<span class="n">_Agenda</span> \<span class="o">--</span> <span class="n">Lieu</span> \<span class="o">--</span>\<span class="o">&gt;</span> <span class="n">C</span>  
<span class="n">X</span>\<span class="n">_Agenda</span> \<span class="o">--</span> <span class="n">Contrat</span> <span class="n">lié</span> \<span class="o">--</span>\<span class="o">&gt;</span> <span class="n">X</span>\<span class="n">_Contrats</span>  
<span class="n">X</span>\<span class="n">_Dispo</span> \<span class="o">--</span> <span class="n">Membre</span> \<span class="o">--</span>\<span class="o">&gt;</span> <span class="n">X</span>\<span class="n">_Membres</span>  
<span class="n">X</span>\<span class="n">_Projets</span> \<span class="o">--</span> <span class="n">Tâches</span> \<span class="o">--</span>\<span class="o">&gt;</span> <span class="n">X</span>\<span class="n">_Taches</span>  
<span class="n">X</span>\<span class="n">_Contrats</span> \<span class="o">--</span> <span class="n">Partie</span> <span class="n">Tierce</span> \<span class="o">--</span>\<span class="o">&gt;</span> <span class="n">B</span> <span class="o">&amp;</span> <span class="n">C</span>  
<span class="n">X</span>\<span class="n">_Taches</span> \<span class="o">--</span> <span class="n">Responsable</span> \<span class="o">--</span>\<span class="o">&gt;</span> <span class="n">D</span> <span class="o">&amp;</span> <span class="n">X</span>\<span class="n">_Membres</span>  
<span class="n">X</span>\<span class="n">_Membres</span> \<span class="o">--</span> <span class="n">Infos</span> <span class="n">RH</span> <span class="n">si</span> <span class="n">contrat</span> \<span class="o">--</span>\<span class="o">&gt;</span> <span class="n">E</span>

<span class="n">D</span> \<span class="o">--</span> <span class="n">Infos</span> <span class="n">RH</span> \<span class="o">--</span>\<span class="o">&gt;</span> <span class="n">E</span>  
<span class="n">F</span> \<span class="o">--</span> <span class="n">Lié</span> <span class="n">à</span> <span class="n">Projet</span><span class="o">/</span><span class="n">Concert</span> \<span class="o">--</span>\<span class="o">&gt;</span> <span class="n">X</span>\<span class="n">_Projets</span> <span class="o">&amp;</span> <span class="n">X</span>\<span class="n">_Agenda</span>  
<span class="n">G</span> \<span class="o">--</span> <span class="n">Concerne</span> <span class="n">Artiste</span> \<span class="o">--</span>\<span class="o">&gt;</span> <span class="n">A</span>

<span class="n">B</span> \<span class="o">--</span> <span class="n">Travaille</span> <span class="n">chez</span> \<span class="o">--</span>\<span class="o">&gt;</span> <span class="n">C</span>  
<span class="n">B</span> \<span class="o">--</span> <span class="n">Interagit</span> <span class="n">avec</span> \<span class="o">--</span>\<span class="o">&gt;</span> <span class="n">A</span>

<span class="n">H</span> \<span class="o">--</span> <span class="n">Utilisé</span> <span class="n">par</span> <span class="n">Workflows</span> \<span class="o">--</span>\<span class="o">&gt;</span> <span class="n">G</span><span class="p">(</span><span class="n">N8N</span><span class="p">)</span>
</pre></div>
</div>
<ul class="simple">
<li><p>IGNORE_WHEN_COPYING_START<br />content_copy download<br />Use code <a class="reference external" href="https://support.google.com/legal/answer/13505487">with caution</a>.Mermaid<br />IGNORE_WHEN_COPYING_END</p></li>
</ul>
<ol class="simple">
<li></li>
<li><p><strong>Stockage Documentaire Centralisé et Structuré (Google Drive) :</strong></p>
<ul class="simple">
<li><p><strong>2.1. Arborescence Logique (Détaillée) :</strong></p>
<ul>
<li><p>Agence/</p>
<ul>
<li><p>Admin_Finance/ (Factures, Bilans…)</p></li>
<li><p>Admin_HR/ (Contrats équipe, Politiques…)</p></li>
<li><p>Admin_Legal/ (Statuts, Assurances…)</p></li>
<li><p>Marketing_Templates/ (Logos, Chartes…)</p></li>
<li><p>Artistes/</p>
<ul>
<li><p>[Nom Artiste]/</p>
<ul>
<li><p>01_Booking/ (Offres, Contrats signés, Riders…)</p></li>
<li><p>02_Production/</p>
<ul>
<li><p>[Nom Projet Album]/ (Masters, Textes, Crédits…)</p></li>
<li><p>[Nom Projet Clip]/ (Rushs, Storyboard…)</p></li>
</ul>
</li>
<li></li>
<li><p>03_Promotion/ (Press Kits, Photos HD, Logos Artiste, Communiqués…)</p></li>
<li><p>04_Technique/ (Fiches Tech, Plans de scène…)</p></li>
<li><p>05_Legal_Admin/ (Contrats Label/Edition, Sacem…)</p></li>
<li><p>06_Archives/</p></li>
</ul>
</li>
<li></li>
</ul>
</li>
<li></li>
</ul>
</li>
<li></li>
</ul>
</li>
<li></li>
<li><p><strong>2.2. Nommage Cohérent &amp; Versioning :</strong> Utiliser des noms clairs + dates + versions (V1, V2). Ex: Gribitch_FicheTech_V3.2_2024-10-26.pdf.</p></li>
<li><p><strong>2.3. Intégration N8N Robuste :</strong></p>
<ul>
<li><p>WF-Contract-Archiver : Déclenché par statut “Signé” dans [Artiste]_Contrats. Vérifie existence dossier GDrive, crée si besoin, upload le fichier depuis Notion, récupère le lien GDrive permanent, met à jour la page Notion. Loggue dans Agence_Monitoring_N8N.</p></li>
<li><p>WF-PressKit-Generator : Déclenché manuellement (CMS/Notion). Récupère bio (Notion), photos HD (GDrive), fiche tech (GDrive), liens streaming (Notion). Assemble un PDF (via API externe?) ou un dossier ZIP. Stocke dans Artistes/[Nom Artiste]/03_Promotion/PressKits/. Met à jour un lien “Dernier Press Kit” dans Agence_Artistes.</p></li>
<li><p>WF-GDrive-Permissions-Manager : (Avancé) Workflow pour ajuster les permissions GDrive lors de l’onboarding/offboarding d’un membre d’équipe ou d’un artiste.</p></li>
</ul>
</li>
<li></li>
</ul>
</li>
<li></li>
</ol>
<hr class="docutils" />
<p><strong>PILIER 2 : Le Moteur de Processus - Modulaire, Robuste, Intelligent et Orienté Utilisateur (Workflows N8N)</strong></p>
<ol class="simple">
<li><p><strong>Architecture N8N Modulaire (Micro-services Fonctionnels Étendus) :</strong></p>
<ul class="simple">
<li><p><strong>3.1. Workflows Utilitaires Fondamentaux (Étendus) :</strong></p>
<ul>
<li><p>WF-Core-Config : Ajout validation : si artiste non trouvé, retourne erreur claire et loggue dans Agence_Monitoring_N8N. Peut retourner des infos de Agence_Équipe (manager, booker) associées.</p></li>
<li><p>WF-Monitoring : Ajout Sévérité. Si Critical, envoie notification immédiate via WF-Notification-Dispatcher. Peut créer une tâche urgente dans Agence_Tâches_Admin.</p></li>
<li><p>WF-API-Key-Selector : (Détaillé en Pilier 3) Logique de gestion des failedKeys affinée (TTL configurable par équipe?).</p></li>
<li><p>WF-API-Retry-Logic : Ajout paramètre maxRetries. Loggue chaque tentative et l’échec final dans Agence_Monitoring_N8N.</p></li>
<li><p>WF-Notification-Dispatcher (Nouveau) :</p>
<ul>
<li><p><em>Input :</em> { “userId”: “ID_Notion_HR_Personnel”, “message”: “…”, “channelPreference”: “Auto/Signal/Email/Telegram”, “severity”: “Info/Urgent” }.</p></li>
<li><p><em>Logique :</em> Lit Agence_HR_Personnel (ou Agence_Contacts) pour trouver les coordonnées et la préférence de canal. Route vers le bon nœud d’envoi (Signal Send, Gmail Send, Telegram Bot). Gère les fallbacks si canal préféré échoue.</p></li>
</ul>
</li>
<li></li>
<li><p>WF-Data-Quality-Checker (Nouveau) : Scan périodique (Cron) des bases Notion clés. Utilise des règles prédéfinies (regex email, vérif relations, détection doublons simples). Crée des tâches dans Agence_Tâches_Admin pour correction manuelle.</p></li>
<li><p>WF-Notion-Helper (Nouveau) : Sous-workflow utilitaire pour des opérations Notion répétitives et robustes (ex: trouver une page par ID GCal, mettre à jour un statut avec vérification préalable).</p></li>
</ul>
</li>
<li></li>
<li><p><strong>3.2. Workflows Métier Principaux (Orchestrateurs Étendus) :</strong></p>
<ul>
<li><p>WF-Booking-Manager : Gère le cycle de vie complet d’une opportunité de booking. Appelle les sous-workflows appropriés en fonction des triggers (Manuel, Horaire, Webhook CMS, Changement Statut Notion). Passe la config artiste à chaque sous-workflow.</p></li>
<li><p>WF-Promotion-Manager : Orchestre la création et diffusion de contenu promo. Déclencheurs : Manuel (CMS), Date (Calendrier [Artiste]_Social_Content), Événement (Sortie projet). Appelle WF-PressKit-Generator, WF-Social-Post-Scheduler, WF-Newsletter-Sender.</p></li>
<li><p>WF-Production-Manager : Suit l’avancement des projets. Déclencheurs : Changement statut [Artiste]_Projets, Échéance tâche [Artiste]_Tâches. Appelle WF-Task-Reminder, WF-Production-Report-Generator.</p></li>
<li><p>WF-HR-Manager (Nouveau) : Orchestre les processus RH. Déclencheurs : Webhook CMS (Nouvel employé), Changement Statut Agence_HR_Personnel, Date (Rappel Review/Contrat). Appelle WF-HR-Onboarding, WF-HR-Leave-Processor, WF-HR-Performance-Reminder.</p></li>
</ul>
</li>
<li></li>
<li><p><strong>3.3. Sous-Workflows Spécialisés (Exécutants Détaillés) :</strong></p>
<ul>
<li><p>WF-Disponibilites : Utilise Merge node pour combiner GCal et Notion. Gère les fuseaux horaires. Output inclut potentiellement les motifs d’indispo si pertinent.</p></li>
<li><p>WF-Booking-Prospection :</p>
<ul>
<li><p>Appel IA (Team 1) pour message base.</p></li>
<li><p>Récupère contacts (Notion Get Many avec filtres complexes).</p></li>
<li><p><em>Boucle SplitInBatches (Batch size configurable via WF-Core-Config?) :</em></p>
<ul>
<li><p>Appel IA (Team 2) pour personnalisation (Input: msg base + données contact/lieu enrichies depuis Notion).</p></li>
<li><p>Récupère template (Notion Get Page depuis Agence_Templates ou Gmail Get Draft).</p></li>
<li><p>Injecte (Code node, gestion HTML/Texte).</p></li>
<li><p>Crée Brouillon (Gmail Create Draft).</p></li>
<li><p>Met à jour Notion (WF-Notion-Helper pour robustesse).</p></li>
<li><p>Attend (Wait node, délai randomisé entre min/max config).</p></li>
</ul>
</li>
<li></li>
<li><p>Loggue résumé campagne dans Agence_Monitoring_N8N.</p></li>
</ul>
</li>
<li></li>
<li><p>WF-Booking-Response-Handler :</p>
<ul>
<li><p>Trigger Gmail - On Message (filtré) ou scan périodique.</p></li>
<li><p>Identifie thread/contact/artiste (Code node, recherche dans Notion).</p></li>
<li><p>Met à jour statut Notion (”Réponse reçue”).</p></li>
<li><p>Appel IA (Team 1/3) pour analyse sentiment/résumé. Stocke résultat dans champs Notion dédiés.</p></li>
<li><p>Met à jour statut final (”Négo”, “Refus”…).</p></li>
<li><p>Appelle WF-Notification-Dispatcher pour alerter Booker/Manager.</p></li>
</ul>
</li>
<li></li>
<li><p>WF-Booking-Deal-Processor :</p>
<ul>
<li><p>Appelle WF-Notion-Helper pour màj statut LOT -&gt; “DEAL”.</p></li>
<li><p>Vérifie existence GCal event (Google Calendar Get Many avec ID unique?). Crée si besoin (Google Calendar Create). Stocke GCal Event ID.</p></li>
<li><p>Vérifie existence page Agenda Notion. Crée/Met à jour (WF-Notion-Helper).</p></li>
<li><p>Peut déclencher création tâche logistique dans [Artiste]_Tâches.</p></li>
</ul>
</li>
<li></li>
<li><p>WF-Booking-Logistics-Reminder : Déclenché par GCal Event (rappel J-10) ou Cron scannant [Artiste]_Agenda_Booking. Appelle WF-Notification-Dispatcher vers Manager/Booker. Peut générer checklist logistique dans [Artiste]_Tâches basée sur Agence_Templates et infos Agence_Lieux_Structures.</p></li>
<li><p>WF-Booking-Post-Concert : Déclenché par Cron (J+1). Récupère infos concert/lieu/contacts. Appel IA (Team 2) pour email remerciement personnalisé. Envoie email (Gmail Send). Crée tâche feedback dans [Artiste]_Tâches pour l’artiste.</p></li>
<li><p>WF-AI-Team-Executor : Gère la logique d’appel IA complète (sélection clé, appel HTTP, parsing réponse, gestion erreurs basiques, monitoring appel).</p></li>
<li><p>WF-Musician-Availability-Reminder (Nouveau) : Cron (ex: tous les lundis). Vérifie si des membres n’ont pas soumis leurs dispos pour les X prochains mois. Appelle WF-Notification-Dispatcher vers les membres concernés (via Artiste_Membres -&gt; Agence_HR_Personnel pour prefs).</p></li>
<li><p>WF-Musician-Itinerary-Sender (Nouveau) : Déclenché par Cron (J-3 avant départ) ou màj Agenda. Récupère détails [Artiste]_Agenda_Booking (horaires, adresses, contacts J). Formatte un message clair. Appelle WF-Notification-Dispatcher vers tous les membres du groupe (Artiste_Membres).</p></li>
<li><p>WF-Task-Reminder (Nouveau) : Cron (quotidien). Scan [Artiste]_Tâches et Agence_Tâches_Admin pour échéances proches. Appelle WF-Notification-Dispatcher vers le responsable de la tâche.</p></li>
<li><p>WF-HR-Onboarding (Nouveau) : Déclenché par Webhook CMS/Notion. Crée comptes (si API dispo), assigne tâches onboarding (Notion), envoie email bienvenue (via Team 2?), planifie rappels check-in.</p></li>
<li><p>WF-HR-Payroll-Prep (Nouveau) : Cron (mensuel). Récupère données booking/projets, calcule commissions/primes (logique complexe dans Code node ou via Team 6?), génère fichier/email pour compta.</p></li>
</ul>
</li>
<li></li>
</ul>
</li>
</ol>
<p><strong>Diagramme ASCII simplifié du Flux Booking Prospection :</strong><br />graph LR<br />A[Trigger: Lancer Campagne LOT1 Gribitch] --&gt; B(WF-Booking-Manager);<br />B --&gt; C{Appel WF-Core-Config};<br />C --&gt; D[Config Gribitch OK];<br />B --&gt; E{Appel WF-Disponibilites};<br />E --&gt; F[Dates Dispos OK];<br />B --&gt; G{Appel WF-Booking-Prospection};</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">subgraph</span> <span class="n">WF</span><span class="o">-</span><span class="n">Booking</span><span class="o">-</span><span class="n">Prospection</span>  
    <span class="n">G</span> \<span class="o">--</span>\<span class="o">&gt;</span> <span class="n">H</span><span class="p">{</span><span class="n">Appel</span> <span class="n">WF</span><span class="o">-</span><span class="n">AI</span><span class="o">-</span><span class="n">Team</span><span class="o">-</span><span class="n">Executor</span> <span class="p">(</span><span class="n">Team</span> <span class="mi">1</span><span class="p">)};</span>  
    <span class="n">H</span> \<span class="o">--</span>\<span class="o">&gt;</span> <span class="n">I</span>\<span class="p">[</span><span class="n">Message</span> <span class="n">Base</span> <span class="n">OK</span>\<span class="p">];</span>  
    <span class="n">G</span> \<span class="o">--</span>\<span class="o">&gt;</span> <span class="n">J</span><span class="p">(</span><span class="n">Notion</span><span class="p">:</span> <span class="n">Get</span> <span class="n">Contacts</span> <span class="n">LOT1</span> <span class="s1">&#39;A Envoyer&#39;</span><span class="p">);</span>  
    <span class="n">J</span> \<span class="o">--</span>\<span class="o">&gt;</span> <span class="n">K</span><span class="p">{</span><span class="n">SplitInBatches</span><span class="p">};</span>  
    <span class="n">K</span> \<span class="o">--</span> <span class="n">Batch</span> \<span class="o">--</span>\<span class="o">&gt;</span> <span class="n">L</span><span class="p">{</span><span class="n">Appel</span> <span class="n">WF</span><span class="o">-</span><span class="n">AI</span><span class="o">-</span><span class="n">Team</span><span class="o">-</span><span class="n">Executor</span> <span class="p">(</span><span class="n">Team</span> <span class="mi">2</span><span class="p">)};</span>  
    <span class="n">L</span> \<span class="o">--</span>\<span class="o">&gt;</span> <span class="n">M</span>\<span class="p">[</span><span class="n">Msg</span> <span class="n">Personnalisé</span> <span class="n">OK</span>\<span class="p">];</span>  
    <span class="n">M</span> \<span class="o">--</span>\<span class="o">&gt;</span> <span class="n">N</span><span class="p">(</span><span class="n">Gmail</span><span class="p">:</span> <span class="n">Get</span> <span class="n">Template</span><span class="p">);</span>  
    <span class="n">N</span> \<span class="o">--</span>\<span class="o">&gt;</span> <span class="n">O</span><span class="p">(</span><span class="n">Code</span><span class="p">:</span> <span class="n">Inject</span> <span class="n">Content</span><span class="p">);</span>  
    <span class="n">O</span> \<span class="o">--</span>\<span class="o">&gt;</span> <span class="n">P</span><span class="p">(</span><span class="n">Gmail</span><span class="p">:</span> <span class="n">Create</span> <span class="n">Draft</span><span class="p">);</span>  
    <span class="n">P</span> \<span class="o">--</span>\<span class="o">&gt;</span> <span class="n">Q</span><span class="p">{</span><span class="n">Appel</span> <span class="n">WF</span><span class="o">-</span><span class="n">Notion</span><span class="o">-</span><span class="n">Helper</span> <span class="p">(</span><span class="n">Update</span> <span class="n">LOT1</span><span class="p">)};</span>  
    <span class="n">Q</span> \<span class="o">--</span>\<span class="o">&gt;</span> <span class="n">R</span><span class="p">(</span><span class="n">Wait</span><span class="p">:</span> <span class="n">Délai</span> <span class="n">Random</span><span class="p">);</span>  
    <span class="n">R</span> \<span class="o">--</span>\<span class="o">&gt;</span> <span class="n">K</span><span class="p">;</span>  
    <span class="n">K</span> \<span class="o">--</span> <span class="n">Fin</span> <span class="n">Batches</span> \<span class="o">--</span>\<span class="o">&gt;</span> <span class="n">S</span><span class="p">(</span><span class="n">Log</span><span class="p">:</span> <span class="n">Campagne</span> <span class="n">Lancée</span><span class="p">);</span>  
<span class="n">end</span>

<span class="n">G</span> \<span class="o">--</span>\<span class="o">&gt;</span> <span class="n">T</span><span class="p">(</span><span class="n">Output</span><span class="p">:</span> <span class="n">Résumé</span> <span class="n">Campagne</span><span class="p">);</span>  
<span class="n">T</span> \<span class="o">--</span>\<span class="o">&gt;</span> <span class="n">B</span><span class="p">;</span>  
<span class="n">B</span> \<span class="o">--</span>\<span class="o">&gt;</span> <span class="n">U</span><span class="p">(</span><span class="n">Fin</span> <span class="n">Workflow</span> <span class="n">Manager</span><span class="p">);</span>

<span class="o">%%</span> <span class="n">Error</span> <span class="n">Handling</span> <span class="n">Links</span> <span class="p">(</span><span class="n">Simplified</span><span class="p">)</span>  
<span class="n">H</span> \<span class="o">--</span> <span class="n">Error</span> \<span class="o">--</span>\<span class="o">&gt;</span> <span class="n">Monitor</span><span class="p">(</span><span class="n">WF</span><span class="o">-</span><span class="n">Monitoring</span><span class="p">)</span>  
<span class="n">L</span> \<span class="o">--</span> <span class="n">Error</span> \<span class="o">--</span>\<span class="o">&gt;</span> <span class="n">Monitor</span>  
<span class="n">P</span> \<span class="o">--</span> <span class="n">Error</span> \<span class="o">--</span>\<span class="o">&gt;</span> <span class="n">Monitor</span>  
<span class="n">Q</span> \<span class="o">--</span> <span class="n">Error</span> \<span class="o">--</span>\<span class="o">&gt;</span> <span class="n">Monitor</span>
</pre></div>
</div>
<ul class="simple">
<li><p>IGNORE_WHEN_COPYING_START<br />content_copy download<br />Use code <a class="reference external" href="https://support.google.com/legal/answer/13505487">with caution</a>.Mermaid<br />IGNORE_WHEN_COPYING_END</p></li>
</ul>
<ol class="simple">
<li></li>
<li><p><strong>Robustesse, Tests et Documentation (Intégrés et Approfondis) :</strong></p>
<ul class="simple">
<li><p><strong>4.1. Gestion d’Erreurs Systématique et Graduée :</strong></p>
<ul>
<li><p>Utilisation de try…catch dans les nœuds Code critiques.</p></li>
<li><p>Sorties “Error” connectées :</p>
<ul>
<li><p>Erreur API Externe (Notion, GCal, Gmail…) -&gt; WF-API-Retry-Logic (si pertinent, ex: 5xx temporaire) OU WF-Monitoring (si 4xx client error).</p></li>
<li><p>Erreur Appel IA (429 non géré, 5xx) -&gt; Marquer clé échouée via WF-Mark-Key-Failed -&gt; WF-API-Retry-Logic (pour essayer autre clé/prochain batch) OU WF-Monitoring.</p></li>
<li><p>Erreur Logique Interne (Data invalide…) -&gt; WF-Monitoring (Severity: Error/Critical).</p></li>
</ul>
</li>
<li></li>
<li><p>Error Trigger global pointe vers WF-Monitoring (Severity: Critical).</p></li>
</ul>
</li>
<li></li>
<li><p><strong>4.2. Idempotence Renforcée :</strong></p>
<ul>
<li><p>Utiliser des identifiants uniques (ex: bookingId généré par N8N ou Notion) pour tracer les opérations. Avant de créer/envoyer, vérifier si une opération avec cet ID a déjà réussi (check statut Notion, log Monitoring).</p></li>
</ul>
</li>
<li></li>
<li><p><strong>4.3. Validation des Données Stricte (Schémas) :</strong></p>
<ul>
<li><p>Utiliser le nœud Schema Validation (si disponible ou via Code node avec librairie comme Zod/Ajv) pour valider les inputs/outputs des workflows/nœuds critiques contre un schéma JSON défini. Évite erreurs dues à des données mal formatées.</p></li>
</ul>
</li>
<li></li>
<li><p><strong>4.4. Stratégie de Test Multi-Niveaux (Détaillée) :</strong></p>
<ul>
<li><p><em>Unitaire :</em> “Test Step” avec différents jeux de données (cas nominal, cas limite, cas d’erreur).</p></li>
<li><p><em>Intégration (Sous-Workflows) :</em> Utiliser des “Mock Data” (Set node) pour simuler les inputs et vérifier les outputs et les effets de bord (création Notion, brouillon Gmail…).</p></li>
<li><p><em>Intégration (Workflows Managers) :</em> Scénarios de bout en bout pour chaque trigger/fonctionnalité clé. Ex: “Lancer campagne -&gt; Recevoir réponse positive -&gt; Valider Deal -&gt; Recevoir rappel logistique -&gt; Envoyer remerciement”. Utiliser un artiste “Test” dédié avec des données réelles mais non critiques.</p></li>
<li><p><em>Tests de Charge (Basique) :</em> Simuler l’arrivée de nombreuses réponses email ou le traitement d’un grand LOT pour vérifier la performance de SplitInBatches et la gestion de la rotation des clés IA.</p></li>
<li><p><em>Tests Utilisateur (UAT) :</em> Impliquer l’équipe agence (et musiciens pour leurs interfaces) dans les tests sur un environnement de pré-production (Staging).</p></li>
</ul>
</li>
<li></li>
<li><p><strong>4.5. Documentation Vivante et Accessible :</strong></p>
<ul>
<li><p><em>Sticky Notes :</em> Standardiser le format (ex: // OBJECTIF: …, // INPUT: …, // OUTPUT: …, // LOGIQUE CLÉ: …).</p></li>
<li><p><em>Nommage :</em> Utiliser des préfixes clairs (Notion_, GCal_, AI_, Util_).</p></li>
<li><p><em>Organisation Visuelle :</em> Utiliser des cadres (Sticky Note large) pour délimiter les phases logiques au sein d’un workflow.</p></li>
<li><p><em>Documentation Externe (Notion Base Agence_Documentation) :</em></p>
<ul>
<li><p>Diagrammes d’architecture (Mermaid intégré dans Notion).</p></li>
<li><p>Fiches détaillées par workflow (avec lien vers N8N Editor).</p></li>
<li><p>Guide des conventions.</p></li>
<li><p>Documentation API (si CMS Option 2).</p></li>
<li><p>Glossaire des termes métier et techniques.</p></li>
<li><p><em>Versionner la documentation en parallèle des workflows.</em></p></li>
</ul>
</li>
<li></li>
</ul>
</li>
<li></li>
<li><p><strong>Matrices de Responsabilités (ACRI - Accountable, Consulted, Responsible, Informed) :</strong></p>
<ul>
<li><p><strong>Processus : Lancement Campagne Booking</strong><br />| Rôle | WF-Booking-Prospection | Définition Cible LOT | Validation Message Base IA | Suivi Campagne |<br />| :————— | :———————–: | :——————: | :————————: | :————: |<br />| Booker | R (Déclenche/Supervise) | A | C | R |<br />| Manager Artiste | I | C | A | C |<br />| N8N System | A (Exécute) | - | R (Génère) | A (Loggue) |<br />| Équipe IA (1 &amp; 2)| R (Génère/Personnalise) | - | R | - |<br />| Artiste | I | I | I | I |</p></li>
<li><p><strong>Processus : Validation d’un Deal Booking</strong><br />| Rôle | MàJ Statut LOT (N8N) | Création GCal Event (N8N) | Création Agenda Notion (N8N) | Notification Équipe/Artiste (N8N) | Validation Finale Contrat |<br />| :————— | :——————–: | :———————–: | :————————–: | :——————————-: | :———————–: |<br />| Booker | C | C | C | C | R |<br />| Manager Artiste | A | A | A | A | A |<br />| N8N System | R | R | R | R | - |<br />| Artiste | I | I | I | I | C |<br />| Service Légal | I | I | I | I | C |</p></li>
<li><p><strong>Processus : Onboarding Nouvel Employé Agence</strong><br />| Rôle | Création Compte CMS/Notion | Assignation Matériel | Présentation Équipe | Formation Outils | Validation Période Essai |<br />| :————— | :————————: | :——————: | :—————–: | :————–: | :———————-: |<br />| Manager RH | A | A | C | A | A |<br />| N8N System (WF-HR-Onboarding) | R (partiel) | I | R (notif) | R (assigne tâche)| I |<br />| Manager Direct | I | R | R | R | R |<br />| Équipe IT/Admin | R | R | I | C | I |<br />| Nouvel Employé | I | I | I | I | I |</p></li>
<li><p><strong>Processus : Mise à Jour Disponibilité Musicien</strong><br />| Rôle | Soumission Indispo (Notion Form/GCal) | Validation Manager (Notion) | Synchro N8N vers [Artiste]_Dispo_Membres | Notification Booker (N8N) | Impact Analyse Booking |<br />| :————— | :———————————–: | :————————-: | :—————————————-: | :———————–: | :——————–: |<br />| Musicien | R | I | I | I | I |<br />| Manager Artiste | C | A | C | C | A |<br />| N8N System | I | I | R | R | R (via WF-Dispo) |<br />| Booker | I | I | I | I | C |</p></li>
</ul>
</li>
<li></li>
</ul>
</li>
<li></li>
</ol>
<hr class="docutils" />
<p><strong>PILIER 3 : L’Intelligence Augmentée - Équipes IA, Optimisation, Analytics et Éthique</strong></p>
<ol class="simple">
<li><p><strong>Équipes d’Agents IA Spécialisées (8 Équipes x 3 Modèles OpenRouter - Missions Affinées) :</strong></p>
<ul class="simple">
<li><p><strong>5.1. Architecture Technique Commune :</strong> (Inchangée - WF-AI-Team-Executor + WF-API-Key-Selector + staticData par équipe/artiste). <em>Ajout :</em> Possibilité de définir des modèles IA différents pour les 3 clés d’une même équipe (ex: 1 modèle puissant, 2 modèles rapides/économiques pour fallback).</p></li>
<li><p><strong>5.2. Définition des 8 Équipes IA (Détaillée) :</strong></p>
<ul>
<li><p><strong>Équipe 1 : Booking Intelligence &amp; Qualification</strong></p>
<ul>
<li><p><em>Mission :</em> Maximiser l’efficacité de la prospection et la pertinence des leads.</p></li>
<li><p><em>Tâches Détaillées :</em> Générer message base V1 (incluant dispos, style artiste, ref lieu si pertinent), Analyser réponse email (Sentiment précis: Enthousiaste, Intéressé, Neutre, Poli Refus, Sec Refus; Intention: Demande infos, Propose dates, Négocie cachet, Refuse; Extraction: Dates proposées, Contact clé, Questions posées), Suggérer prochaine action (Relance personnalisée, Préparer offre, Classer sans suite), Évaluer adéquation lieu/artiste (RAG: historique agence, data externe type capacité/style vs profil artiste), Identifier contacts clés dans structure complexe.</p></li>
<li><p><em>Inputs Clés :</em> Config artiste, historique contact/lieu, dispos, email réponse.</p></li>
<li><p><em>Outputs Clés :</em> Brouillon email base, JSON analyse réponse, suggestion action.</p></li>
<li><p><em>RAG/Cache :</em> Cache analyse emails similaires, RAG sur fiches lieux/contacts Notion.</p></li>
</ul>
</li>
<li></li>
<li><p><strong>Équipe 2 : Communication &amp; Rédaction Créative</strong></p>
<ul>
<li><p><em>Mission :</em> Produire des contenus textuels engageants et adaptés à la cible.</p></li>
<li><p><em>Tâches Détaillées :</em> Personnaliser email prospection (ton, arguments spécifiques au lieu/prog), Rédiger email remerciement post-concert (incluant anecdotes si fournies?), Générer brouillons posts réseaux sociaux (formats variés: annonce concert, coulisses, sortie single…), Rédiger/Mettre à jour bio artiste (différents formats: court, long, presse), Ébaucher communiqués de presse (structurés), Générer newsletter artiste/agence.</p></li>
<li><p><em>Inputs Clés :</em> Message base, données contact/lieu/événement, infos artiste, objectif com.</p></li>
<li><p><em>Outputs Clés :</em> Texte final (HTML/Markdown), brouillon post structuré.</p></li>
<li><p><em>RAG/Cache :</em> RAG sur bios/discographies/articles presse précédents. Cache générations textes similaires.</p></li>
</ul>
</li>
<li></li>
<li><p><strong>Équipe 3 : Analyse &amp; Reporting Opérationnel</strong></p>
<ul>
<li><p><em>Mission :</em> Transformer les données brutes en insights actionnables pour l’agence.</p></li>
<li><p><em>Tâches Détaillées :</em> Analyser performance campagnes booking (Taux ouverture/réponse/deal par LOT/booker/région), Calculer ROI concerts/tournées (simplifié, basé sur Agence_Finance), Résumer activité hebdomadaire/mensuelle par artiste (concerts, promo, prod), Détecter anomalies (chute taux réponse, retard paiements récurrents), Analyser sentiment global feedback ([Artiste]_Feedback), Générer rapports pour CMS.</p></li>
<li><p><em>Inputs Clés :</em> Données Notion (LOTs, Agenda, Finance, Feedback, Monitoring).</p></li>
<li><p><em>Outputs Clés :</em> JSON structuré avec KPIs, résumés textuels, alertes.</p></li>
<li><p><em>RAG/Cache :</em> Cache rapports périodiques. RAG sur objectifs stratégiques agence.</p></li>
</ul>
</li>
<li></li>
<li><p><strong>Équipe 4 : Logistique &amp; Planification de Tournée</strong></p>
<ul>
<li><p><em>Mission :</em> Faciliter l’organisation complexe des déplacements et des aspects techniques.</p></li>
<li><p><em>Tâches Détaillées :</em> Suggérer itinéraires optimisés (multi-critères: distance, coût, cohérence géographique, jours off), Générer checklists logistiques détaillées (transport, hébergement, backline, catering, visas…) basées sur rider artiste et fiche technique lieu, Rédiger brouillons emails coordination technique (demande infos, confirmation détails), Extraire infos clés fiches techniques PDF (OCR + IA, <em>avancé</em>), Générer feuilles de route jour J.</p></li>
<li><p><em>Inputs Clés :</em> Dates tournée, lieux confirmés, rider artiste, fiches tech lieux, contraintes membres.</p></li>
<li><p><em>Outputs Clés :</em> Itinéraire suggéré, checklist Notion/texte, brouillon email, JSON infos extraites.</p></li>
<li><p><em>RAG/Cache :</em> RAG sur base lieux (conditions accueil), historique problèmes logistiques. Cache checklists similaires.</p></li>
</ul>
</li>
<li></li>
<li><p><strong>Équipe 5 : Production Musicale Assistée (Organisation)</strong></p>
<ul>
<li><p><em>Mission :</em> Structurer et suivre les projets de production musicale.</p></li>
<li><p><em>Tâches Détaillées :</em> Découper objectifs projet (album, EP) en phases/tâches standards (écriture, préprod, enregistrement, mix, master, artwork, distrib), Suggérer rétroplanning basé sur date sortie cible, Générer documentation projet (liste titres, crédits prévisionnels, besoins studio), Suivre avancement vs planning (alerte retards), Rédiger comptes-rendus sessions (si notes fournies).</p></li>
<li><p><em>Inputs Clés :</em> Brief projet, date sortie cible, infos artistes/intervenants.</p></li>
<li><p><em>Outputs Clés :</em> Plan projet Notion/texte, planning GANTT (simple), documentation projet.</p></li>
<li><p><em>RAG/Cache :</em> RAG sur processus production standards, contrats type studio/prod.</p></li>
</ul>
</li>
<li></li>
<li><p><strong>Équipe 6 : Support Administratif &amp; Conformité</strong></p>
<ul>
<li><p><em>Mission :</em> Alléger la charge administrative et assurer la conformité.</p></li>
<li><p><em>Tâches Détaillées :</em> Extraire infos clés contrats PDF (OCR + IA: parties, dates, clauses paiement, exclusivité, <em>avancé</em>), Catégoriser/Tagger documents GDrive (basé sur nom/contenu), Générer résumés réunions (si transcript audio/texte fourni), Vérifier cohérence données entre bases (ex: contact existe dans CRM avant ajout contrat), Rédiger brouillons courriers administratifs simples, Générer rappels échéances contrats/visas.</p></li>
<li><p><em>Inputs Clés :</em> Fichiers PDF/Texte, données Notion, règles de conformité.</p></li>
<li><p><em>Outputs Clés :</em> JSON données extraites, tags GDrive, résumés texte, brouillons emails/courriers.</p></li>
<li><p><em>RAG/Cache :</em> RAG sur base Agence_Templates (contrats, courriers), base légale interne.</p></li>
</ul>
</li>
<li></li>
<li><p><strong>Équipe 7 : Stratégie &amp; Intelligence Marché</strong></p>
<ul>
<li><p><em>Mission :</em> Éclairer les décisions stratégiques de l’agence et des artistes.</p></li>
<li><p><em>Tâches Détaillées :</em> Analyser tendances marché musical (genres, plateformes, régions - RAG sur articles/rapports externes), Identifier artistes/genres similaires pour positionnement/comparaison, Suggérer stratégies développement carrière artiste (basées sur profil, objectifs, data performance), Évaluer potentiel nouveaux marchés/territoires, Analyser positionnement concurrentiel agence.</p></li>
<li><p><em>Inputs Clés :</em> Objectifs artiste/agence, data performance artiste, sources externes (articles, rapports).</p></li>
<li><p><em>Outputs Clés :</em> Rapports analyse texte/JSON, recommandations stratégiques.</p></li>
<li><p><em>RAG/Cache :</em> RAG intensif sur veille sectorielle stockée (Notion/GDrive). Cache analyses similaires.</p></li>
</ul>
</li>
<li></li>
<li><p><strong>Équipe 8 : Monitoring Système &amp; Performance IA</strong></p>
<ul>
<li><p><em>Mission :</em> Assurer la santé et l’efficacité de l’écosystème N8N/IA.</p></li>
<li><p><em>Tâches Détaillées :</em> Analyser logs Agence_Monitoring_N8N (erreurs fréquentes, workflows lents), Détecter anomalies utilisation clés API (échecs répétés, consommation excessive), Évaluer qualité réponses IA (heuristiques: longueur, structure, présence mots clés attendus; ou via feedback utilisateur si implémenté), Alerter sur dérives de coût/performance, Suggérer optimisations prompts/workflows basées sur erreurs.</p></li>
<li><p><em>Inputs Clés :</em> Logs Agence_Monitoring_N8N, data staticData rotation clés, feedback utilisateur (futur).</p></li>
<li><p><em>Outputs Clés :</em> Alertes structurées, rapports santé système, suggestions optimisation.</p></li>
<li><p><em>RAG/Cache :</em> RAG sur documentation N8N/OpenRouter, bonnes pratiques IA.</p></li>
</ul>
</li>
<li></li>
</ul>
</li>
<li></li>
</ul>
</li>
<li></li>
<li><p><strong>Gestion Optimisée des API Keys (Rotation Détaillée &amp; Sécurisée) :</strong></p></li>
</ol>
<p><strong>StaticData Structure (aiApiKeys_[TeamName]) :</strong><br />{<br />”currentIndex”: 0,<br />”keys”: [<br />{ “name”: “CredentialName_TeamX_1”, “model”: “openai/gpt-4o”, “priority”: 1 },<br />{ “name”: “CredentialName_TeamX_2”, “model”: “anthropic/claude-3-haiku”, “priority”: 2 },<br />{ “name”: “CredentialName_TeamX_3”, “model”: “deepseek/deepseek-chat”, “priority”: 3 }<br />],<br />”failedKeys”: {<br />”CredentialName_TeamX_2”: { “timestamp”: 1678886400000, “errorCode”: 429 }<br />},<br />”config”: {<br />”failureTTL_seconds”: 3600 // 1 heure avant de retenter une clé échouée<br />}<br />}</p>
<ul class="simple">
<li><p>IGNORE_WHEN_COPYING_START<br />content_copy download<br />Use code <a class="reference external" href="https://support.google.com/legal/answer/13505487">with caution</a>.Json<br />IGNORE_WHEN_COPYING_END</p>
<ul>
<li><p><strong>Logique WF-API-Key-Selector Affinée :</strong></p>
<ul>
<li><p>Lit staticData.</p></li>
<li><p>Trie les clés par priority.</p></li>
<li><p>Itère sur les clés triées :</p>
<ul>
<li><p>Récupère le nom de la clé.</p></li>
<li><p>Vérifie si dans failedKeys.</p></li>
<li><p>Si oui, vérifie si Date.now() - failedKeys[keyName].timestamp &gt; config.failureTTL_seconds * 1000.</p></li>
<li><p>Si clé OK (pas dans failedKeys ou TTL expiré) :</p>
<ul>
<li><p>Supprime de failedKeys si présente (car on va la retenter).</p></li>
<li><p>Met à jour currentIndex (optionnel, la priorité gère).</p></li>
<li><p>Sauvegarde staticData.</p></li>
<li><p>Retourne { “apiKeyName”: keyName, “modelUsed”: keyModel }.</p></li>
</ul>
</li>
<li></li>
</ul>
</li>
<li></li>
<li><p>Si toutes les clés sont en échec récent : Retourne { “error”: “All keys for team [TeamName] are temporarily unavailable” }.</p></li>
</ul>
</li>
<li></li>
<li><p><strong>Workflow WF-Mark-Key-Failed :</strong></p>
<ul>
<li><p><em>Input :</em> { “aiTeamName”: “…”, “apiKeyName”: “…”, “errorCode”: 429/5xx }.</p></li>
<li><p><em>Logique :</em> Lit staticData, ajoute/met à jour l’entrée dans failedKeys avec le apiKeyName et timestamp: Date.now(), sauvegarde staticData.</p></li>
</ul>
</li>
<li></li>
</ul>
</li>
</ul>
<ol class="simple">
<li></li>
<li><p><strong>Intégration RAG et Caching (Stratégies Précises) :</strong></p>
<ul class="simple">
<li><p><strong>RAG Workflow (WF-RAG-Retriever) :</strong></p>
<ul>
<li><p><em>Input :</em> { “query”: “…”, “contextType”: “Lieu/Artiste/Contrat…”, “contextId”: “ID_Notion_…” }.</p></li>
<li><p><em>Logique :</em> Basé sur contextType, recherche dans les bases Notion pertinentes (ex: Agence_Lieux_Structures pour lieu, Agence_Artistes + [Artiste]_Projets pour artiste). Récupère les X infos les plus pertinentes (derniers concerts, bio, clauses clés…). Formatte en texte pour injection dans prompt IA.</p></li>
<li><p><em>Peut utiliser Vector Store (Pinecone/Supabase Vector) pour recherche sémantique avancée sur documents longs (contrats, articles).</em></p></li>
</ul>
</li>
<li></li>
<li><p><strong>Caching Stratégies (Redis via Code Node) :</strong></p>
<ul>
<li><p><em>Cache IA Responses :</em> Clé: cache:llm:[TeamName]:[hash(prompt+context)]. TTL court (minutes/heures). Utile si même requête exacte est refaite rapidement.</p></li>
<li><p><em>Cache Notion Data :</em> Clé: cache:notion:[BaseID]:[ItemID]. TTL moyen (heures/jour). Utile pour données peu volatiles (infos lieu, bio artiste).</p></li>
<li><p><em>Cache Computed Data :</em> Clé: cache:computed:disponibilites:[ArtisteID]:[DateRange]. TTL court/moyen. Utile pour résultats de calculs coûteux (dispos, rapports).</p></li>
<li><p><em>Invalidation :</em> Stratégie clé. Invalider le cache Notion quand N8N met à jour la donnée. TTL reste le fallback.</p></li>
</ul>
</li>
<li></li>
</ul>
</li>
<li></li>
<li><p><strong>Analytics &amp; Reporting Avancés (Pilotage Agence) :</strong></p>
<ul class="simple">
<li><p>WF-Reporting-Generator (hebdo/mensuel) :</p>
<ul>
<li><p>Agrège KPIs depuis Notion (Taux de deals, Revenu moyen/concert, Cycle de vente booking…).</p></li>
<li><p>Appelle Team 3 pour analyse qualitative et tendances.</p></li>
<li><p>Génère un rapport structuré (JSON/Markdown) stocké dans Agence_Documentation ou base Agence_Rapports.</p></li>
<li><p>Appelle WF-Notification-Dispatcher pour envoyer lien/résumé aux managers.</p></li>
</ul>
</li>
<li></li>
<li><p>Dashboards CMS lisent ces rapports structurés.</p></li>
</ul>
</li>
<li></li>
<li><p><strong>Considérations Éthiques IA :</strong></p>
<ul class="simple">
<li><p>Transparence : Indiquer quand un texte/analyse est généré par IA (interne/externe).</p></li>
<li><p>Biais : Surveiller les prompts et les outputs pour éviter biais (ex: dans évaluation lieux/artistes).</p></li>
<li><p>Confidentialité : S’assurer que les prompts n’envoient pas de données personnelles inutiles aux modèles IA externes. Anonymiser si possible. Vérifier politiques de confidentialité OpenRouter/modèles utilisés.</p></li>
</ul>
</li>
<li></li>
</ol>
<hr class="docutils" />
<p><strong>PILIER 4 : L’Interface Utilisateur - CMS Métier, Portail Artiste et Outils RH Intégrés</strong></p>
<ol class="simple">
<li><p><strong>Front-End CMS (Application Web Dédiée - Expérience Utilisateur Optimisée) :</strong></p>
<ul class="simple">
<li><p><strong>10.1. Technologies :</strong> (Inchangé - React/Vue/Svelte + UI Lib). <em>Ajout :</em> Backend dédié (Node.js/Python/Go) pour gérer logique CMS, API, sessions, permissions.</p></li>
<li><p><strong>10.2. Dashboards par Rôle (Détaillés) :</strong></p>
<ul>
<li><p><em>Manager :</em> Vue globale KPIs agence (configurable), Pipeline deals tous artistes, Calendrier agence, Alertes critiques (Monitoring N8N, RH), Accès rapide rapports Team 3/7, Validation workflows (congés, contrats…).</p></li>
<li><p><em>Booker :</em> Kanban/Liste LOTs (filtrable par artiste/statut), Calendrier dispo/confirmé interactif, Base Lieux/Contacts (avec historique Rollup), Formulaire lancement campagne N8N, Notifications réponses emails.</p></li>
<li><p><em>Artiste (Portail Dédié) :</em> Voir Section 12.</p></li>
<li><p><em>Prod Manager :</em> Vue GANTT/Kanban projets prod, Suivi budget vs réel, Assignation tâches équipe prod, Accès base [Artiste]_Projets.</p></li>
<li><p><em>Com Manager :</em> Calendrier éditorial ([Artiste]_Social_Content), Prévisualisation posts, Accès base Contacts (Presse/Media), Formulaire lancement newsletter N8N, Dashboard performance campagnes promo.</p></li>
<li><p><em>RH Manager :</em> Dashboard personnel (Agence_HR_Personnel), Gestion congés (validation), Suivi onboarding, Accès rapports RH, Lancement workflows WF-HR-*.</p></li>
<li><p><em>Employé Agence :</em> Vue perso Agence_HR_Personnel (congés, infos), Accès tâches assignées, Accès bases Notion pertinentes à son rôle.</p></li>
</ul>
</li>
<li></li>
<li><p><strong>10.3. Fonctionnalités Clés du CMS (Étendues) :</strong></p>
<ul>
<li><p>CRUD enrichi sur données Notion (formulaires intelligents, validation front-end).</p></li>
<li><p>Visualisation Graphes Relations (Contacts &lt;-&gt; Lieux &lt;-&gt; Artistes).</p></li>
<li><p>Carte interactive pour planification tournées (visualisation étapes, distances).</p></li>
<li><p>Génération PDF (Contrats types pré-remplis, Fiches promo, Feuilles de route).</p></li>
<li><p>Interface de déclenchement N8N (boutons “Lancer Campagne”, “Valider Deal”, “Générer Rapport”).</p></li>
<li><p>Affichage des rapports/analyses IA (graphiques, résumés).</p></li>
<li><p>Gestion fine utilisateurs/rôles/permissions CMS.</p></li>
<li><p>Système de notifications internes CMS (liées à N8N ou actions CMS).</p></li>
<li><p>Moteur de recherche global (ElasticSearch?) sur Notion/CMS data.</p></li>
</ul>
</li>
<li></li>
</ul>
</li>
</ol>
<p><strong>Diagramme ASCII simplifié Architecture CMS/N8N/Notion :</strong><br />graph LR<br />subgraph Navigateur Utilisateur<br />U[Interface CMS (React/Vue…)]<br />end</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">subgraph</span> <span class="n">Serveur</span> <span class="n">CMS</span>  
    <span class="n">API</span>\<span class="p">[</span><span class="n">API</span> <span class="n">Backend</span> <span class="n">CMS</span> <span class="p">(</span><span class="n">Node</span><span class="o">/</span><span class="n">Python</span><span class="o">...</span><span class="p">)</span>\<span class="p">]</span>  
    <span class="n">DB</span>\<span class="n">_CMS</span>\<span class="p">[(</span><span class="n">Base</span> <span class="n">Données</span> <span class="n">CMS</span> \<span class="o">-</span> <span class="n">Cache</span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">Sessions</span><span class="p">)</span>\<span class="p">]</span>  
<span class="n">end</span>

<span class="n">subgraph</span> <span class="n">Infrastructure</span> <span class="n">N8N</span>  
    <span class="n">N8N</span><span class="p">((</span><span class="n">N8N</span> <span class="n">Engine</span><span class="p">))</span>  
    <span class="n">WH</span>\<span class="n">_N8N</span><span class="p">{</span><span class="n">Webhooks</span> <span class="n">N8N</span><span class="p">}</span>  
    <span class="n">CredsN8N</span>\<span class="p">[</span><span class="o">/</span><span class="n">Credentials</span> <span class="n">N8N</span><span class="o">/</span>\<span class="p">]</span>  
    <span class="n">StaticN8N</span>\<span class="p">[</span><span class="o">/</span><span class="n">Static</span> <span class="n">Data</span> <span class="n">N8N</span><span class="o">/</span>\<span class="p">]</span>  
<span class="n">end</span>

<span class="n">subgraph</span> <span class="n">Services</span> <span class="n">Externes</span>  
    <span class="n">Notion</span>\<span class="p">[(</span><span class="n">Notion</span> <span class="n">API</span><span class="p">)</span>\<span class="p">]</span>  
    <span class="n">GCal</span>\<span class="p">[(</span><span class="n">Google</span> <span class="n">Calendar</span> <span class="n">API</span><span class="p">)</span>\<span class="p">]</span>  
    <span class="n">GDrive</span>\<span class="p">[(</span><span class="n">Google</span> <span class="n">Drive</span> <span class="n">API</span><span class="p">)</span>\<span class="p">]</span>  
    <span class="n">Gmail</span>\<span class="p">[(</span><span class="n">Gmail</span> <span class="n">API</span><span class="p">)</span>\<span class="p">]</span>  
    <span class="n">OpenRouter</span>\<span class="p">[(</span><span class="n">OpenRouter</span> <span class="n">API</span><span class="p">)</span>\<span class="p">]</span>  
    <span class="n">Signal</span>\<span class="p">[(</span><span class="n">Signal</span> <span class="n">API</span> \<span class="o">-</span> <span class="n">via</span> <span class="n">n8n</span> <span class="n">node</span><span class="p">)</span>\<span class="p">]</span>  
    <span class="n">Telegram</span>\<span class="p">[(</span><span class="n">Telegram</span> <span class="n">Bot</span> <span class="n">API</span><span class="p">)</span>\<span class="p">]</span>  
    <span class="n">Redis</span>\<span class="p">[(</span><span class="n">Redis</span> <span class="n">Cache</span><span class="p">)</span>\<span class="p">]</span>  
<span class="n">end</span>

<span class="n">U</span> \<span class="o">&lt;--</span> <span class="n">HTTPS</span> \<span class="o">--</span>\<span class="o">&gt;</span> <span class="n">API</span><span class="p">;</span>  
<span class="n">API</span> \<span class="o">&lt;--</span>\<span class="o">&gt;</span> <span class="n">DB</span>\<span class="n">_CMS</span><span class="p">;</span>

<span class="o">%%</span> <span class="n">CMS</span> \<span class="o">-</span>\<span class="o">&gt;</span> <span class="n">N8N</span>  
<span class="n">API</span> \<span class="o">--</span> <span class="n">Appel</span> <span class="n">Webhook</span> \<span class="o">--</span>\<span class="o">&gt;</span> <span class="n">WH</span>\<span class="n">_N8N</span><span class="p">;</span>

<span class="o">%%</span> <span class="n">N8N</span> \<span class="o">-</span>\<span class="o">&gt;</span> <span class="n">CMS</span> <span class="p">(</span><span class="n">Option</span> <span class="mi">2</span><span class="p">:</span> <span class="n">API</span><span class="p">)</span>  
<span class="n">N8N</span> \<span class="o">--</span> <span class="n">Appel</span> <span class="n">API</span> \<span class="o">--</span>\<span class="o">&gt;</span> <span class="n">API</span><span class="p">;</span>

<span class="o">%%</span> <span class="n">N8N</span> \<span class="o">-</span>\<span class="o">&gt;</span> <span class="n">Services</span> <span class="n">Externes</span>  
<span class="n">N8N</span> \<span class="o">--</span> <span class="n">Use</span> \<span class="o">--</span>\<span class="o">&gt;</span> <span class="n">CredsN8N</span><span class="p">;</span>  
<span class="n">N8N</span> \<span class="o">--</span> <span class="n">Use</span> \<span class="o">--</span>\<span class="o">&gt;</span> <span class="n">StaticN8N</span><span class="p">;</span>  
<span class="n">N8N</span> \<span class="o">--</span> <span class="n">API</span> <span class="n">Calls</span> \<span class="o">--</span>\<span class="o">&gt;</span> <span class="n">Notion</span><span class="p">;</span>  
<span class="n">N8N</span> \<span class="o">--</span> <span class="n">API</span> <span class="n">Calls</span> \<span class="o">--</span>\<span class="o">&gt;</span> <span class="n">GCal</span><span class="p">;</span>  
<span class="n">N8N</span> \<span class="o">--</span> <span class="n">API</span> <span class="n">Calls</span> \<span class="o">--</span>\<span class="o">&gt;</span> <span class="n">GDrive</span><span class="p">;</span>  
<span class="n">N8N</span> \<span class="o">--</span> <span class="n">API</span> <span class="n">Calls</span> \<span class="o">--</span>\<span class="o">&gt;</span> <span class="n">Gmail</span><span class="p">;</span>  
<span class="n">N8N</span> \<span class="o">--</span> <span class="n">API</span> <span class="n">Calls</span> \<span class="o">--</span>\<span class="o">&gt;</span> <span class="n">OpenRouter</span><span class="p">;</span>  
<span class="n">N8N</span> \<span class="o">--</span> <span class="n">API</span> <span class="n">Calls</span> \<span class="o">--</span>\<span class="o">&gt;</span> <span class="n">Signal</span><span class="p">;</span>  
<span class="n">N8N</span> \<span class="o">--</span> <span class="n">API</span> <span class="n">Calls</span> \<span class="o">--</span>\<span class="o">&gt;</span> <span class="n">Telegram</span><span class="p">;</span>  
<span class="n">N8N</span> \<span class="o">--</span> <span class="n">Read</span><span class="o">/</span><span class="n">Write</span> \<span class="o">--</span>\<span class="o">&gt;</span> <span class="n">Redis</span><span class="p">;</span>

<span class="o">%%</span> <span class="n">CMS</span> \<span class="o">-</span>\<span class="o">&gt;</span> <span class="n">Notion</span> <span class="p">(</span><span class="n">Option</span> <span class="mi">1</span><span class="p">:</span> <span class="n">Lecture</span> <span class="n">directe</span> <span class="n">ou</span> <span class="n">via</span> <span class="n">API</span> <span class="n">CMS</span> <span class="n">qui</span> <span class="n">lit</span> <span class="n">Notion</span><span class="p">)</span>  
<span class="n">API</span> \<span class="o">--</span> <span class="n">API</span> <span class="n">Calls</span> \<span class="o">--</span>\<span class="o">&gt;</span> <span class="n">Notion</span><span class="p">;</span> <span class="o">%%</span> <span class="n">Ou</span> <span class="n">U</span> <span class="n">lit</span> <span class="n">directement</span> <span class="n">si</span> <span class="n">CMS</span> <span class="n">très</span> <span class="n">simple</span>
</pre></div>
</div>
<ul class="simple">
<li><p>IGNORE_WHEN_COPYING_START<br />content_copy download<br />Use code <a class="reference external" href="https://support.google.com/legal/answer/13505487">with caution</a>.Mermaid<br />IGNORE_WHEN_COPYING_END</p></li>
</ul>
<ol class="simple">
<li></li>
<li><p><strong>Intégration N8N &lt;-&gt; CMS (Robuste et Bidirectionnelle) :</strong></p>
<ul class="simple">
<li><p><strong>11.1. CMS -&gt; N8N (Webhooks Sécurisés) :</strong></p>
<ul>
<li><p>Utiliser des URLs de webhook non devinables.</p></li>
<li><p>Authentification via Header API Key (générée par N8N, stockée dans config CMS).</p></li>
<li><p>Payload standardisé : { “source”: “CMS”, “userEmail”: “…”, “action”: “…”, “data”: {…} }.</p></li>
<li><p>N8N vérifie le token et l’action avant de lancer le workflow approprié.</p></li>
</ul>
</li>
<li></li>
<li><p><strong>11.2. N8N -&gt; CMS (API CMS ou Lecture Notion) :</strong></p>
<ul>
<li><p><em>Option 1 (Lecture Notion par CMS) :</em> Simple mais peut avoir latence. CMS doit implémenter logique pour rafraîchir/poller Notion. OK pour dashboards non temps réel.</p></li>
<li><p><em>Option 2 (API CMS) :</em> Plus complexe mais plus robuste/temps réel. N8N appelle des endpoints CMS (ex: POST /api/notifications, PUT /api/deals/:id/status). API CMS sécurisée (JWT/OAuth). Permet notifications push via WebSockets depuis le backend CMS vers le front-end U. <em>Recommandé pour expérience utilisateur optimale.</em></p></li>
</ul>
</li>
<li></li>
<li><p><strong>11.3. Cohérence des Données :</strong> Stratégie claire sur qui est maître de quelle donnée (Notion souvent maître pour le contenu métier, CMS pour utilisateurs/sessions). Utiliser des webhooks Notion (si dispo/fiables) ou N8N pour propager les changements importants vers le CMS/Cache.</p></li>
</ul>
</li>
<li></li>
<li><p><strong>Expérience Utilisateur Musicien (Intégrée et Simplifiée) :</strong></p>
<ul class="simple">
<li><p><strong>12.1. Portail Artiste (Vue CMS dédiée) :</strong></p>
<ul>
<li><p><em>Accès :</em> Login/mot de passe géré par CMS/RH.</p></li>
<li><p><em>Dashboard :</em> Calendrier perso (confirmé + options), Prochains concerts/voyages clés, Tâches assignées (depuis [Artiste]_Tâches), Liens rapides (GDrive Promo, Fiche Tech), Notifications importantes.</p></li>
<li><p><em>Fonctions :</em> Soumettre indispos (formulaire simple -&gt; Notion), Consulter itinéraires (WF-Musician-Itinerary-Sender), Valider infos promo (bio, photos), Accéder contrats signés (lecture seule), Soumettre feedback post-concert ([Artiste]_Feedback).</p></li>
</ul>
</li>
<li></li>
<li><p><strong>12.2. Gestion des Disponibilités Simplifiée :</strong></p>
<ul>
<li><p>Formulaire Notion embarqué dans CMS ou lien direct.</p></li>
<li><p>WF-Musician-Availability-Reminder (Cron N8N) envoie rappel via canal préféré (Signal/Telegram/Email via WF-Notification-Dispatcher).</p></li>
</ul>
</li>
<li></li>
<li><p><strong>12.3. Itinéraires et Informations Clés via Canal Préféré :</strong></p>
<ul>
<li><p>WF-Musician-Itinerary-Sender (Cron N8N J-3) pousse infos claires (horaires, adresses, contacts J, lien GMap) via Signal/Telegram/Email. Format standardisé.</p></li>
</ul>
</li>
<li></li>
<li><p><strong>12.4. Gestion des Tâches (Collaboratif) :</strong></p>
<ul>
<li><p>Vue des tâches assignées dans Portail CMS (lecture [Artiste]_Tâches).</p></li>
<li><p>WF-Task-Reminder (Cron N8N) envoie rappels échéances via canal préféré.</p></li>
<li><p>Possibilité pour artiste de marquer tâche comme “Faite” via réponse simple (si bot Telegram/Signal avancé) ou via CMS.</p></li>
</ul>
</li>
<li></li>
<li><p><strong>12.5. Communication Centralisée (Canal Dédié) :</strong></p>
<ul>
<li><p>Groupe Signal/Telegram par artiste (créé/géré par N8N/RH?).</p></li>
<li><p>N8N (WF-Notification-Dispatcher) poste infos critiques (confirmations deal, changements planning urgents…).</p></li>
<li><p>Équipe agence utilise aussi ce canal pour communication directe.</p></li>
</ul>
</li>
<li></li>
<li><p><strong>12.6. Feedback Simplifié :</strong></p>
<ul>
<li><p>Lien vers formulaire Notion/Tally envoyé par WF-Booking-Post-Concert via canal préféré.</p></li>
</ul>
</li>
<li></li>
</ul>
</li>
<li></li>
<li><p><strong>Gestion RH Complète (Intégrée et Conforme) :</strong></p>
<ul class="simple">
<li><p><strong>13.1. Base Agence_HR_Personnel (Le Cœur RH) :</strong></p>
<ul>
<li><p>Centralise toutes les infos admin, contrats, congés, perfs pour équipe agence ET musiciens/techs sous contrat direct. Accès ultra-restreint.</p></li>
</ul>
</li>
<li></li>
<li><p><strong>13.2. Processus N8N Dédiés :</strong></p>
<ul>
<li><p>WF-HR-Onboarding/Offboarding : Automatise les tâches répétitives (création accès, checklists, notifications).</p></li>
<li><p>WF-HR-Leave-Processor : Déclenché par formulaire Notion/CMS. Vérifie solde congés (Agence_HR_Personnel), notifie manager pour validation, met à jour solde.</p></li>
<li><p>WF-HR-Payroll-Prep : Réduit erreurs et temps de préparation paie. Nécessite logique de calcul claire (commissions booking, heures intermittent…).</p></li>
<li><p>WF-HR-Performance-Reminder : Assure suivi régulier des entretiens.</p></li>
<li><p>WF-HR-Compliance-Reminder : Surveille échéances contrats, visas, formations obligatoires.</p></li>
</ul>
</li>
<li></li>
<li><p><strong>13.3. Intégration CMS :</strong></p>
<ul>
<li><p>Portail RH pour employés (consulter infos perso, demander congés, voir solde).</p></li>
<li><p>Interface RH Manager (valider congés, suivre onboarding, accéder dossiers personnel, lancer workflows N8N).</p></li>
</ul>
</li>
<li></li>
<li><p><strong>13.4. Conformité (GDPR / Droit du Travail) :</strong></p>
<ul>
<li><p>Gestion du consentement dans Agence_Contacts et Agence_HR_Personnel.</p></li>
<li><p>Anonymisation/Suppression données sur demande (processus manuel assisté par N8N?).</p></li>
<li><p>Sécurisation des données sensibles (champs cryptés? accès restreints).</p></li>
<li><p>Respect des durées légales de conservation.</p></li>
</ul>
</li>
<li></li>
</ul>
</li>
<li></li>
</ol>
<hr class="docutils" />
<p><strong>Stratégie d’Implémentation Progressive (Révisée et Détaillée) :</strong></p>
<ol class="simple">
<li><p><strong>Phase 1 : Fondation N8N &amp; Booking Gribitch V1 (Mois 1-4)</strong></p>
<ul class="simple">
<li><p><em>Objectifs :</em> Structure Notion base (Artistes, LOT1, Agenda, Dispo, Contacts, Lieux, Équipe, Monitoring), WF-Core-Config, WF-Disponibilites, WF-Booking-Prospection (Brouillons), WF-Monitoring (basique), WF-API-Key-Selector (1 équipe, 3 clés), WF-AI-Team-Executor, Conventions V1.</p></li>
<li><p><em>Focus User :</em> Booker Gribitch utilise N8N directement. Manager valide config.</p></li>
<li><p><em>Tests :</em> Paramétrisation Gribitch, Génération brouillons, Rotation clé basique, Logging erreurs.</p></li>
</ul>
</li>
<li></li>
<li><p><strong>Phase 2 : Cycle Booking Complet Gribitch &amp; Utilitaires N8N (Mois 5-8)</strong></p>
<ul class="simple">
<li><p><em>Objectifs :</em> Finaliser WF-Booking-Manager (Réponses, Deal, Logistique, Post-Concert) pour Gribitch. Développer WF-Notification-Dispatcher, WF-Notion-Helper, WF-API-Retry-Logic, WF-Mark-Key-Failed. Mettre en place rotation 8 équipes (config).</p></li>
<li><p><em>Focus User :</em> Booker/Manager Gribitch utilisent le cycle complet via N8N. Notifications via Signal/Email.</p></li>
<li><p><em>AI :</em> Intégrer Teams 1, 2, 3. Affiner prompts booking/analyse.</p></li>
<li><p><em>Tests :</em> Cycle booking complet. Robustesse notifications, retries, rotation multi-équipes. Qualité analyse sentiment.</p></li>
</ul>
</li>
<li></li>
<li><p><strong>Phase 3 : Onboarding Artiste 2 &amp; Début CMS + RH Base (Mois 9-12)</strong></p>
<ul class="simple">
<li><p><em>Objectifs :</em> Onboarder Artiste 2 (valider scalabilité config/workflows). Développer bases Notion transversales (HR_Personnel, Templates, Finance…). Début CMS (Auth, Dashboard Manager/Booker lisant Notion). Développer WF-HR-Onboarding (basique), WF-Musician-Availability-Reminder.</p></li>
<li><p><em>Focus User :</em> Artiste 2 onboardé. Équipe commence à utiliser CMS en lecture. RH Manager utilise Notion pour HR_Personnel. Musiciens reçoivent rappels dispo.</p></li>
<li><p><em>AI :</em> Intégrer Teams 4, 6, 8.</p></li>
<li><p><em>Tests :</em> Scalabilité onboarding artiste. Lecture Notion depuis CMS. Fonctionnement rappels musiciens. Analyse logs par Team 8.</p></li>
</ul>
</li>
<li></li>
<li><p><strong>Phase 4 : CMS V1 Fonctionnel &amp; Intégration N8N &lt;-&gt; CMS (Mois 13-16)</strong></p>
<ul class="simple">
<li><p><em>Objectifs :</em> CMS permet déclencher workflows N8N (Webhooks). API CMS pour notifications N8N-&gt;CMS (Option 2). Développer Portail Artiste V1 (Calendrier, Soumission Indispo). Développer WF-Promotion-Manager (Newsletter), WF-Task-Reminder, WF-HR-Leave-Processor.</p></li>
<li><p><em>Focus User :</em> Équipe utilise CMS pour visualiser ET déclencher actions booking/promo. Artistes utilisent portail pour dispo/calendrier. RH utilise CMS pour congés.</p></li>
<li><p><em>AI :</em> Intégrer Teams 5, 7. Affiner prompts pour toutes équipes. Implémenter RAG/Cache si besoin identifié.</p></li>
<li><p><em>Tests :</em> Intégration bidirectionnelle CMS&lt;-&gt;N8N. Fonctionnalités Portail Artiste. Workflow congés. Performance avec RAG/Cache.</p></li>
</ul>
</li>
<li></li>
<li><p><strong>Phase 5 : Déploiement Interne Complet &amp; UAT (Mois 17-18)</strong></p>
<ul class="simple">
<li><p><em>Objectifs :</em> Finaliser fonctionnalités CMS (Portail RH, Dashboards avancés). Déployer pour toute l’équipe et tous les artistes pilotes. Sessions de formation.</p></li>
<li><p><em>Focus User :</em> Toute l’agence et les artistes utilisent le système intégré.</p></li>
<li><p><em>Tests :</em> User Acceptance Testing intensif. Scénarios réels multi-utilisateurs. Validation conformité GDPR/RH.</p></li>
</ul>
</li>
<li></li>
<li><p><strong>Phase 6 : Optimisation &amp; Expansion Continue (Mois 19+)</strong></p>
<ul class="simple">
<li><p><em>Objectifs :</em> Recueillir feedback continu. Optimiser workflows N8N (performance, coût IA). Ajouter fonctionnalités (ex: module finance avancé, intégration billetterie…). Onboarder nouveaux artistes. Maintenance évolutive.</p></li>
<li><p><em>Focus User :</em> Amélioration continue basée sur retours équipe/artistes.</p></li>
</ul>
</li>
<li></li>
</ol>
<hr class="docutils" />
<p><strong>Success Metrics (Étendus) :</strong></p>
<ul class="simple">
<li><p><strong>Efficacité Booking :</strong> Temps moyen cycle Prospect -&gt; Deal, Taux de conversion par étape, % deals générés par IA, Satisfaction Booker (score).</p></li>
<li><p><strong>Efficacité Opérationnelle :</strong> Temps passé/semaine sur tâches admin automatisées, Nombre d’erreurs logistiques/mois, Taux d’utilisation des templates/checklists.</p></li>
<li><p><strong>Performance IA :</strong> Coût moyen / requête IA par équipe, Taux d’acceptation des suggestions IA, Score de pertinence des réponses IA (évalué par utilisateurs).</p></li>
<li><p><strong>Adoption Utilisateur :</strong> % utilisateurs actifs / semaine (CMS, Portail Artiste), Tâches complétées via système / total tâches, Score Net Promoter Score (NPS) interne.</p></li>
<li><p><strong>Satisfaction Musicien :</strong> Score satisfaction Portail/Communication, Réduction demandes admin directes, Ponctualité infos reçues (itinéraires…).</p></li>
<li><p><strong>Efficacité RH :</strong> Temps moyen onboarding, Taux d’erreur paie, Taux de complétion revues performance, Score satisfaction employés (liée aux outils RH).</p></li>
<li><p><strong>ROI :</strong> Comparaison coût total système (dev, abo, IA…) vs gains productivité estimés + augmentation potentielle revenus booking.</p></li>
</ul>
<hr class="docutils" />
<p><strong>Risques et Considérations Clés (Révisés) :</strong></p>
<ul class="simple">
<li><p><strong>Complexité &amp; Coût :</strong> Maintenir la maîtrise de la complexité technique et des coûts (IA, dev CMS, abos Notion/GSuite…).</p></li>
<li><p><strong>Adoption &amp; Change Management :</strong> Résistance au changement, nécessité formation continue et support utilisateur réactif (agence ET artistes).</p></li>
<li><p><strong>Dépendances Externes :</strong> Fiabilité/Coût/Évolution APIs (Notion, Google, OpenRouter). Plan de mitigation si API critique change.</p></li>
<li><p><strong>Sécurité &amp; Confidentialité :</strong> Protection données sensibles (RH, contrats, perso), gestion accès, conformité GDPR. Risque fuite clés API.</p></li>
<li><p><strong>Qualité &amp; Éthique IA :</strong> Gestion des biais, hallucinations, transparence. Maintenir la supervision humaine pour décisions critiques.</p></li>
<li><p><strong>Scalabilité Technique :</strong> Performance Notion/N8N/CMS avec 10+ artistes et gros volumes de données/exécutions.</p></li>
<li><p><strong>Maintenance Long Terme :</strong> Budget et ressources dédiées pour mises à jour, corrections, évolutions fonctionnelles et techniques.</p></li>
</ul>
<hr class="docutils" />
<p>Cette V5 représente un système extrêmement puissant et intégré. Son succès repose sur une exécution technique rigoureuse, une gestion de projet agile, une communication constante avec les utilisateurs finaux (équipe et artistes), et une volonté d’investir dans l’automatisation et l’intelligence comme leviers stratégiques pour l’agence.</p>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, EMAIL_SENDER_1 Team.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>