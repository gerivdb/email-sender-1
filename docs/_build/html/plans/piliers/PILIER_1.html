

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PILIER 1 : La Donnée Stratégique &mdash; EMAIL_SENDER_1 1.0.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css?v=4ae1632d" />

  
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=8d563738"></script>
      <script src="../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            EMAIL_SENDER_1
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contenu:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../api/index.html">Documentation des API</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">EMAIL_SENDER_1</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">PILIER 1 : La Donnée Stratégique</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/plans/piliers/PILIER_1.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="pilier-1-la-donnee-strategique">
<h1>PILIER 1 : La Donnée Stratégique<a class="headerlink" href="#pilier-1-la-donnee-strategique" title="Link to this heading"></a></h1>
<p><em>Centralisée, Structurée, Validée, Sécurisée et Accessible (Fondation Notion &amp; Extensions)</em></p>
<p>Ce pilier établit la fondation sur laquelle reposent tous les processus automatisés (Pilier 2), l’intelligence augmentée (Pilier 3) et les interfaces utilisateur (Pilier 4). Sa robustesse, sa cohérence et sa sécurité sont non négociables. Notion est choisi comme hub principal pour sa flexibilité et ses capacités relationnelles, complété par Google Drive pour le stockage documentaire structuré.</p>
<section id="hub-de-donnees-notion-le-cerveau-operationnel-et-relationnel-de-l-agence">
<h2>1. Hub de Données Notion (Le Cerveau Opérationnel et Relationnel de l’Agence)<a class="headerlink" href="#hub-de-donnees-notion-le-cerveau-operationnel-et-relationnel-de-l-agence" title="Link to this heading"></a></h2>
<p><strong>Objectif Technique :</strong> Modéliser les entités métier clés de l’agence (Artistes, Contacts, Lieux, Projets, RH…) sous forme de bases de données Notion interconnectées, fournissant une API implicite (via l’API Notion) pour les opérations CRUD et la lecture par N8N et le CMS.</p>
<section id="base-agence-artistes-master-list-referentiel-central-absolu">
<h3>1.1. Base Agence_Artistes (Master List - Référentiel Central Absolu)<a class="headerlink" href="#base-agence-artistes-master-list-referentiel-central-absolu" title="Link to this heading"></a></h3>
<p><strong>Rôle Technique :</strong> Table de configuration paramétrique pour l’ensemble de l’écosystème par artiste. Sert de point d’entrée pour WF-Core-Config afin d’initialiser les workflows N8N spécifiques à un artiste. Agit comme SSoT (Single Source of Truth) pour les métadonnées artiste.</p>
<p><strong>Champs Critiques (Détails Techniques) :</strong></p>
<ul class="simple">
<li><p><strong>Nom Artiste</strong> (Type: Title, Contrainte: Unique - à valider via WF-Data-Quality-Checker ou procédure manuelle).</p></li>
<li><p><strong>Statut Agence</strong> (Type: Select, Options: Prospect, Actif, En Pause, Archive). Utilisé par les workflows N8N pour filtrer les artistes à traiter (ex: WF-Booking-Prospection ne cible que les Actif).</p></li>
<li><p><strong>Manager Référent, Booker Principal</strong> (Type: Relation, Base liée: Agence_Équipe, Limite: 1). Essentiel pour le routage des notifications (WF-Notification-Dispatcher) et l’assignation des tâches (WF-Task-Reminder, [Artiste]_Tâches).</p></li>
<li><p><strong>N8N Config</strong> (Type: Text - Multiligne, Format: JSON Validé). Clé de voûte pour N8N.</p>
<ul>
<li><p><strong>Objectif :</strong> Fournir tous les identifiants et paramètres spécifiques à un artiste à WF-Core-Config.</p></li>
<li><p><strong>Structure JSON Détaillée :</strong></p></li>
</ul>
</li>
</ul>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;artistId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;uuid-de-l-artiste-genere&quot;</span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="nt">&quot;notionDbBookingPrefix&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Gribitch_LOT_&quot;</span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="nt">&quot;notionDbAgenda&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;db_id_agenda_artiste&quot;</span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="nt">&quot;notionDbDispo&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;db_id_dispo_artiste&quot;</span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="nt">&quot;notionDbProjets&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;db_id_projets_artiste&quot;</span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="nt">&quot;notionDbContrats&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;db_id_contrats_artiste&quot;</span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="nt">&quot;notionDbMerch&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;db_id_merch_artiste&quot;</span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="nt">&quot;notionDbTaches&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;db_id_taches_artiste&quot;</span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="nt">&quot;notionDbSocialContent&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;db_id_social_artiste&quot;</span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="nt">&quot;notionDbFeedback&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;db_id_feedback_artiste&quot;</span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="nt">&quot;gCalBookingId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;id_cal_booking@group.calendar.google.com&quot;</span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="nt">&quot;gCalIndispoId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;id_cal_indispo@group.calendar.google.com&quot;</span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="nt">&quot;gDriveFolderId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;gdrive_folder_id_artiste&quot;</span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="nt">&quot;gmailCredentialName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Gmail Credential Artiste X&quot;</span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="nt">&quot;signalGroupId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;signal_group_id_base64_ou_autre&quot;</span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="nt">&quot;telegramChatId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;telegram_chat_id_numeric&quot;</span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="nt">&quot;aiTeamStaticDataPrefix&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;aiApiKeys_Gribitch_&quot;</span><span class="w"> </span>
<span class="p">}</span>
</pre></div>
</div>
<blockquote>
<div><p><strong>Validation :</strong> La structure et la validité de ce JSON doivent être vérifiées (manuellement ou via WF-Data-Quality-Checker). Une erreur ici bloque tous les workflows N8N pour l’artiste.</p>
</div></blockquote>
<ul class="simple">
<li><p><strong>Lien Espace Notion, Lien Dossier GDrive, Lien Portail CMS</strong> (Type: URL). Utilitaires pour navigation rapide depuis Notion ou le CMS.</p></li>
<li><p><strong>Contrat Management</strong> (Type: Relation, Base liée: [Artiste]_Contrats, Limite: 1). Lien vers le contrat cadre principal. Utilisé par WF-HR-Compliance-Reminder.</p></li>
<li><p><strong>Résumé Financier Clé</strong> (Type: Rollup, Relation: Agence_Finance via [Artiste]_Projets ou [Artiste]_Agenda_Booking, Calcul: Ex: sum(Revenus) - sum(Dépenses) filtré sur l’année en cours). Pour dashboarding rapide (CMS, Vue Manager). Attention à la performance sur gros volumes.</p></li>
</ul>
<p><strong>Importance Technique :</strong> Cette base est le point d’injection de configuration pour N8N. Sa mise à jour correcte est critique lors de l’onboarding d’un nouvel artiste. WF-Core-Config dépend entièrement de la récupération et du parsing correct du champ N8N Config.</p>
</section>
<section id="espaces-notion-par-artiste-isolation-collaboration-operationnelle">
<h3>1.2. Espaces Notion par Artiste (Isolation &amp; Collaboration Opérationnelle)<a class="headerlink" href="#espaces-notion-par-artiste-isolation-collaboration-operationnelle" title="Link to this heading"></a></h3>
<p><strong>Structure Technique :</strong> Utilisation des “Teamspaces” Notion ou d’une structure de pages partagées pour isoler les données opérationnelles par artiste. Les permissions sont gérées au niveau de l’espace/page racine de l’artiste (voir 1.6).</p>
<p><strong>Bases Types par Artiste (Détails Techniques) :</strong></p>
<section id="artiste-lot-booking-db-principale-du-cycle-de-vente">
<h4>[Artiste]_LOT_Booking (DB principale du cycle de vente)<a class="headerlink" href="#artiste-lot-booking-db-principale-du-cycle-de-vente" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>AI Sentiment Réponse</strong> (Type: Select). Populated by WF-Booking-Response-Handler (Team 1/3).</p></li>
<li><p><strong>AI Résumé Réponse</strong> (Type: Text). Populated by WF-Booking-Response-Handler (Team 1/3).</p></li>
<li><p><strong>Lien GCal Event</strong> (Type: URL). Populated by WF-Booking-Deal-Processor. Permet lien direct vers l’event GCal.</p></li>
<li><p><strong>Commission Booker</strong> (Type: Number, Format: Pourcentage/Montant). Utilisé par WF-HR-Payroll-Prep.</p></li>
<li><p><strong>Statut Paiement Dépôt</strong> (Type: Select). Mis à jour manuellement ou via futur WF Finance. Peut déclencher des rappels.</p></li>
</ul>
</section>
<section id="artiste-agenda-booking-db-des-evenements-confirmes">
<h4>[Artiste]_Agenda_Booking (DB des événements confirmés)<a class="headerlink" href="#artiste-agenda-booking-db-des-evenements-confirmes" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>Heure Arrivée, Heure Soundcheck, etc.</strong> (Type: Date avec Time). Utilisé par WF-Musician-Itinerary-Sender.</p></li>
<li><p><strong>Contact Lieu Jour J</strong> (Type: Text ou Relation -&gt; Agence_Contacts). Utilisé par WF-Musician-Itinerary-Sender.</p></li>
<li><p><strong>Lien Itinéraire</strong> (Type: URL). Potentiellement généré par Team 4 et stocké par N8N.</p></li>
<li><p><strong>Statut Logistique</strong> (Type: Select). Mis à jour manuellement ou via complétion des tâches dans [Artiste]_Tâches (Rollup?).</p></li>
<li><p><strong>Feedback Post-Concert</strong> (Type: Relation, Base liée: [Artiste]_Feedback).</p></li>
</ul>
</section>
<section id="artiste-dispo-membres-db-des-indisponibilites">
<h4>[Artiste]_Dispo_Membres (DB des indisponibilités)<a class="headerlink" href="#artiste-dispo-membres-db-des-indisponibilites" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>Validé Par Manager</strong> (Type: Checkbox). Peut servir de trigger (via webhook Notion ou scan N8N) pour que WF-Disponibilites prenne en compte l’indispo.</p></li>
<li><p><strong>Impact Booking</strong> (Type: Select). Utilisé par WF-Disponibilites pour évaluer si la date est réellement bloquée.</p></li>
</ul>
</section>
<section id="artiste-projets-db-de-suivi-de-production">
<h4>[Artiste]_Projets (DB de suivi de production)<a class="headerlink" href="#artiste-projets-db-de-suivi-de-production" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>Budget Prévisionnel vs Réel</strong> (Type: Formula, nécessite champs Number pour prévisionnel et rollup des dépenses depuis Agence_Finance).</p></li>
<li><p><strong>Tâches Principales</strong> (Type: Relation, Base liée: [Artiste]_Tâches).</p></li>
<li><p><strong>Fichiers Clés</strong> (Type: Relation vers une DB [Artiste]_GDrive_Links? Ou Files &amp; Media? Ou URL vers GDrive?). Stratégie à définir pour lier Notion à GDrive de manière robuste via N8N. Un WF WF-GDrive-Linker pourrait être nécessaire pour synchroniser les fichiers GDrive pertinents vers une DB Notion dédiée avec leurs liens.</p></li>
</ul>
</section>
<section id="artiste-contrats-db-des-contrats-specifiques">
<h4>[Artiste]_Contrats (DB des contrats spécifiques)<a class="headerlink" href="#artiste-contrats-db-des-contrats-specifiques" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>Date Expiration</strong> (Type: Date). Trigger pour WF-HR-Compliance-Reminder.</p></li>
<li><p><strong>Renouvellement Auto</strong> (Type: Checkbox). Logique pour WF-HR-Compliance-Reminder.</p></li>
<li><p><strong>Alertes Clés</strong> (Type: Date). Peut être mis à jour par N8N (ex: alerte J-30).</p></li>
<li><p><strong>Parties Signataires</strong> (Type: Text ou Relation -&gt; Agence_Contacts / Agence_Lieux_Structures).</p></li>
</ul>
</section>
<section id="artiste-taches-db-de-gestion-de-taches">
<h4>[Artiste]_Tâches (DB de gestion de tâches)<a class="headerlink" href="#artiste-taches-db-de-gestion-de-taches" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>Responsable</strong> (Type: Relation, Bases liées: Agence_Équipe, Artiste_Membres). Permet assignation flexible. Utilisé par WF-Task-Reminder.</p></li>
<li><p><strong>Échéance</strong> (Type: Date). Trigger pour WF-Task-Reminder.</p></li>
<li><p><strong>Statut</strong> (Type: Select). Peut déclencher d’autres workflows à la complétion.</p></li>
<li><p><strong>Projet Lié</strong> (Type: Relation, Base liée: [Artiste]_Projets).</p></li>
<li><p><strong>Priorité</strong> (Type: Select ou Number). Pour tri et priorisation (manuelle ou CMS).</p></li>
</ul>
</section>
<section id="artiste-merch-db-de-stock">
<h4>[Artiste]_Merch (DB de stock)<a class="headerlink" href="#artiste-merch-db-de-stock" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>Stock Actuel</strong> (Type: Number). Mis à jour manuellement ou via future intégration e-commerce/POS.</p></li>
<li><p><strong>Seuil Alerte Stock</strong> (Type: Number). Comparé au Stock Actuel par WF-Merch-Stock-Alert (Cron N8N).</p></li>
</ul>
</section>
<section id="artiste-social-content-db-calendrier-editorial">
<h4>[Artiste]_Social_Content (DB calendrier éditorial)<a class="headerlink" href="#artiste-social-content-db-calendrier-editorial" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>Plateforme</strong> (Type: Select).</p></li>
<li><p><strong>Visuel/Vidéo</strong> (Type: Files &amp; Media ou URL vers GDrive).</p></li>
<li><p><strong>Statut</strong> (Type: Select). Trigger pour WF-Social-Post-Scheduler quand “Prêt”.</p></li>
<li><p><strong>Performance</strong> (Type: Text). Mis à jour manuellement ou via future intégration API réseaux sociaux.</p></li>
</ul>
</section>
<section id="artiste-feedback-db-retours-qualitatifs">
<h4>[Artiste]_Feedback (DB retours qualitatifs)<a class="headerlink" href="#artiste-feedback-db-retours-qualitatifs" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>Type, Source</strong> (Type: Select).</p></li>
<li><p><strong>Note</strong> (Type: Number). Utilisé par Team 3 pour analyse de sentiment/satisfaction.</p></li>
<li><p><strong>Commentaire</strong> (Type: Text). Source pour analyse qualitative Team 3.</p></li>
</ul>
</section>
</section>
<section id="bases-de-donnees-metier-transversales-vision-360-agence">
<h3>1.3. Bases de Données Métier Transversales (Vision 360° Agence)<a class="headerlink" href="#bases-de-donnees-metier-transversales-vision-360-agence" title="Link to this heading"></a></h3>
<p><strong>Objectif Technique :</strong> Centraliser les données partagées entre artistes et fonctions agence, évitant la duplication et permettant des analyses et opérations transversales.</p>
<p><strong>Bases Clés (Détails Techniques) :</strong></p>
<section id="agence-contacts-crm-central">
<h4>Agence_Contacts (CRM Central)<a class="headerlink" href="#agence-contacts-crm-central" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>Source Contact</strong> (Type: Select). Pour analyse efficacité canaux acquisition.</p></li>
<li><p><strong>Date Dernier Contact N8N</strong> (Type: Date). Mis à jour par WF-Booking-Prospection, WF-Booking-Response-Handler, etc. pour suivi activité.</p></li>
<li><p><strong>Consentement GDPR</strong> (Type: Checkbox + Date de consentement). Vérifié par WF-Booking-Prospection avant envoi email. Doit être géré rigoureusement (processus de collecte et de retrait).</p></li>
<li><p><strong>Préférences Communication</strong> (Type: Multi-Select). Utilisé par WF-Notification-Dispatcher.</p></li>
<li><p><strong>Notes Confidentielles</strong> (Type: Text). Accès restreint via permissions Notion (si possible au niveau propriété) ou géré via CMS (qui filtre l’accès).</p></li>
</ul>
</section>
<section id="agence-lieux-structures-base-de-donnees-lieux">
<h4>Agence_Lieux_Structures (Base de données lieux)<a class="headerlink" href="#agence-lieux-structures-base-de-donnees-lieux" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>Contact Booking/Technique/Com</strong> (Type: Relation, Base liée: Agence_Contacts).</p></li>
<li><p><strong>Lien Fiche Technique</strong> (Type: URL vers GDrive ou Files &amp; Media). Utilisé par Team 4.</p></li>
<li><p><strong>Conditions Accueil Détaillées, Historique Incidents</strong> (Type: Text). Source pour RAG Team 4.</p></li>
<li><p><strong>Accessibilité PMR</strong> (Type: Select). Filtre important pour certains artistes/publics.</p></li>
<li><p><strong>Notes Internes Booker/Tech</strong> (Type: Text). Pour partage d’infos équipe.</p></li>
</ul>
</section>
<section id="agence-equipe-annuaire-interne-agence">
<h4>Agence_Équipe (Annuaire interne agence)<a class="headerlink" href="#agence-equipe-annuaire-interne-agence" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>Spécialisations</strong> (Type: Multi-Select). Pour routage tâches/infos.</p></li>
<li><p><strong>Accès CMS/Notion</strong> (Type: Text). Documentation manuelle des rôles/permissions.</p></li>
<li><p><strong>Contact Urgence</strong> (Type: Text).</p></li>
<li><p><strong>Date Entrée/Sortie</strong> (Type: Date). Pour processus Onboarding/Offboarding (WF-HR-Manager).</p></li>
<li><p>Relation vers Agence_HR_Personnel pour lier profil opérationnel et RH.</p></li>
</ul>
</section>
<section id="artiste-membres-annuaire-musiciens-techniciens-par-artiste">
<h4>Artiste_Membres (Annuaire musiciens/techniciens par artiste)<a class="headerlink" href="#artiste-membres-annuaire-musiciens-techniciens-par-artiste" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>Contact Principal</strong> (Type: Email, Phone).</p></li>
<li><p><strong>Rôle Scène/Admin/Compo</strong> (Type: Text).</p></li>
<li><p><strong>Allergies/Régime</strong> (Type: Text). Donnée sensible (santé). Nécessite consentement explicite et accès restreint. Utilisé pour générer briefs catering.</p></li>
<li><p><strong>Préférences Communication</strong> (Type: Select). Utilisé par WF-Notification-Dispatcher.</p></li>
<li><p>Relation vers Agence_HR_Personnel si contrat direct avec l’agence.</p></li>
</ul>
</section>
<section id="agence-monitoring-n8n-log-des-executions-n8n">
<h4>Agence_Monitoring_N8N (Log des exécutions N8N)<a class="headerlink" href="#agence-monitoring-n8n-log-des-executions-n8n" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>Workflow ID, Execution ID</strong> (Type: Text). Récupérés depuis les variables d’environnement N8N ($workflow.id, $execution.id).</p></li>
<li><p><strong>Sévérité</strong> (Type: Select). Définit l’urgence et le type de notification (WF-Notification-Dispatcher).</p></li>
<li><p><strong>Données Contextuelles</strong> (Type: Text - JSON stringifié). Contient les données de l’item N8N au moment de l’erreur/log. Attention à la taille et aux données sensibles.</p></li>
<li><p><strong>Action Corrective Prise</strong> (Type: Text). Mis à jour manuellement après résolution.</p></li>
<li><p>Utilisé par Team 8 pour analyse performance/erreurs.</p></li>
</ul>
</section>
<section id="agence-finance-suivi-financier-global">
<h4>Agence_Finance (Suivi financier global)<a class="headerlink" href="#agence-finance-suivi-financier-global" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>Facture Liée</strong> (Type: Files &amp; Media ou URL vers GDrive).</p></li>
<li><p><strong>Centre de Coût</strong> (Type: Select). Pour reporting financier.</p></li>
<li><p><strong>Statut Facturation</strong> (Type: Select). Peut déclencher des workflows de relance.</p></li>
<li><p><strong>Méthode Paiement</strong> (Type: Select/Text).</p></li>
</ul>
</section>
<section id="agence-hr-personnel-base-rh-centrale-acces-ultra-restreint">
<h4>Agence_HR_Personnel (Base RH centrale - Accès Ultra-Restreint)<a class="headerlink" href="#agence-hr-personnel-base-rh-centrale-acces-ultra-restreint" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>Sécurité :</strong> Doit être dans un espace Notion séparé avec permissions minimales. L’intégration N8N doit avoir un token spécifique avec accès uniquement à cette base si nécessaire (et idéalement en lecture seule sauf pour WFs RH spécifiques). Le CMS doit gérer l’accès via des rôles RH stricts.</p></li>
<li><p><strong>Type Contrat</strong> (Type: Select).</p></li>
<li><p><strong>Date Début/Fin Contrat</strong> (Type: Date). Trigger pour WF-HR-Compliance-Reminder.</p></li>
<li><p><strong>Poste/Rôle</strong> (Type: Text/Select).</p></li>
<li><p><strong>Manager Direct</strong> (Type: Relation, Base liée: Agence_Équipe).</p></li>
<li><p><strong>Coordonnées Perso, IBAN, Num Sécu</strong> (Type: Text). Données hautement sensibles. Envisager stockage crypté hors Notion (ex: coffre-fort numérique type HashiCorp Vault) ou gestion exclusive via CMS sécurisé qui ne stocke que des références. Notion n’est peut-être pas idéal pour ces données spécifiques. Si stocké dans Notion, accès via API doit être proscrit sauf pour processus RH validé.</p></li>
<li><p><strong>Statut Congés/Absences</strong> (Type: Rollup depuis une DB Agence_HR_Absences ou mis à jour par WF-HR-Leave-Processor).</p></li>
<li><p><strong>Date Prochaine Révision Perf</strong> (Type: Date). Trigger pour WF-HR-Performance-Reminder.</p></li>
<li><p><strong>Documents RH</strong> (Type: Relation vers GDrive via WF-GDrive-Linker ou Files &amp; Media avec stockage Notion).</p></li>
<li><p><strong>Préférences Communication Interne</strong> (Type: Select). Utilisé par WF-Notification-Dispatcher pour comms RH.</p></li>
</ul>
</section>
<section id="agence-templates-bibliotheque-de-modeles">
<h4>Agence_Templates (Bibliothèque de modèles)<a class="headerlink" href="#agence-templates-bibliotheque-de-modeles" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>Nom Template</strong> (Type: Title).</p></li>
<li><p><strong>Type</strong> (Type: Select). Utilisé par les workflows N8N pour récupérer le bon template (ex: WF-Booking-Prospection cherche Type=”Email Prospection”).</p></li>
<li><p><strong>Contenu</strong> (Type: Text - Markdown/HTML ou Files &amp; Media pour .docx/.pdf). Si texte, N8N peut l’utiliser directement. Si fichier, N8N doit le télécharger.</p></li>
</ul>
</section>
</section>
<section id="relations-notion-coherentes-et-strategiques-details-techniques">
<h3>1.4. Relations Notion Cohérentes et Stratégiques (Détails Techniques)<a class="headerlink" href="#relations-notion-coherentes-et-strategiques-details-techniques" title="Link to this heading"></a></h3>
<p><strong>Objectif :</strong> Créer des liens logiques pour la navigation, l’agrégation de données (Rollups) et fournir du contexte aux workflows N8N et au CMS.</p>
<p><strong>Exemples (avec type de Rollup) :</strong></p>
<ul class="simple">
<li><p><strong>Agence_Lieux_Structures &lt;-&gt; [Artiste]_Agenda_Booking</strong> (Relation: Concerts dans ce lieu, Rollup sur Agence_Lieux_Structures: countall() -&gt; Nombre total concerts agence).</p></li>
<li><p><strong>Agence_Contacts &lt;-&gt; [Artiste]_LOT_Booking</strong> (Relation: Opportunités avec ce contact, Rollup sur Agence_Contacts: percent_per_group(”Statut”, “DEAL”) -&gt; Taux de Deal avec ce contact).</p></li>
<li><p><strong>Agence_HR_Personnel &lt;-&gt; [Artiste]_Tâches</strong> (Relation: Tâches assignées). Permet vue “Mes Tâches” pour employés.</p></li>
<li><p><strong>Agence_Finance &lt;-&gt; [Artiste]_Projets</strong> (Relation: Dépenses Projet). Rollup sur [Artiste]_Projets: sum(”Montant”) -&gt; Total Dépenses Projet.</p></li>
</ul>
<p><strong>Considérations :</strong> Limiter le nombre de relations/rollups complexes pour maintenir la performance de Notion. Utiliser des relations bidirectionnelles judicieusement.</p>
</section>
<section id="conventions-de-nommage-validation-rigoureuse-qualite-donnees">
<h3>1.5. Conventions de Nommage, Validation Rigoureuse &amp; Qualité Données<a class="headerlink" href="#conventions-de-nommage-validation-rigoureuse-qualite-donnees" title="Link to this heading"></a></h3>
<section id="nommage">
<h4>Nommage<a class="headerlink" href="#nommage" title="Link to this heading"></a></h4>
<p>Établir un document de conventions strict pour :</p>
<ul class="simple">
<li><p><strong>Bases de données :</strong> [Scope]_[Entité] (ex: Agence_Contacts, Gribitch_LOT_Booking).</p></li>
<li><p><strong>Propriétés :</strong> CamelCase ou Snake_Case (être cohérent), préfixe optionnel pour type/fonction (ex: link_GCalEvent, config_N8N).</p></li>
<li><p><strong>Pages Titre :</strong> Format standardisé (ex: [Nom Contact] - [Société], [Date] - [Nom Lieu] - [Artiste]).</p></li>
</ul>
</section>
<section id="validation-notion">
<h4>Validation Notion<a class="headerlink" href="#validation-notion" title="Link to this heading"></a></h4>
<p>Utiliser les types de propriétés (Email, URL, Phone, Date, Number). Formules pour validations simples (ex: prop(”Date Fin”) &gt; prop(”Date Début”)). Utiliser Person pour relations vers Agence_Équipe. Les validations complexes (regex, unicité conditionnelle) ne sont pas possibles nativement.</p>
</section>
<section id="validation-n8n-wf-data-quality-checker">
<h4>Validation N8N (WF-Data-Quality-Checker)<a class="headerlink" href="#validation-n8n-wf-data-quality-checker" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>Trigger :</strong> Cron (ex: quotidien/hebdomadaire).</p></li>
<li><p><strong>Logique :</strong></p>
<ol class="simple">
<li><p>Lire les bases critiques (Agence_Contacts, Agence_Lieux_Structures…).</p></li>
<li><p>Pour chaque item, appliquer des règles dans un Code node (JavaScript avec potentiellement des libs comme validator.js) :</p>
<ul>
<li><p>Format Email/URL/Phone (Regex/libs).</p></li>
<li><p>Champs obligatoires non vides.</p></li>
<li><p>Cohérence dates.</p></li>
<li><p>Détection de doublons potentiels (ex: similarité nom/email via string-similarity ou autre algo simple).</p></li>
<li><p>Vérification existence relations clés.</p></li>
<li><p>Validation structure JSON dans champs Text (ex: N8N Config).</p></li>
</ul>
</li>
<li><p>Si anomalies détectées, formater un rapport/tâche.</p></li>
<li><p>Utiliser WF-Notion-Helper pour créer une page dans Agence_Data_Quality_Issues (ou Agence_Tâches_Admin) avec détails de l’anomalie et lien vers l’item Notion concerné.</p></li>
</ol>
</li>
</ul>
</section>
<section id="qualite-donnees">
<h4>Qualité Données<a class="headerlink" href="#qualite-donnees" title="Link to this heading"></a></h4>
<p>Responsabilisation via vues Notion filtrées (”Contacts sans email”, “Lieux sans fiche tech”, “Deals sans date GCal”). Intégrer la validation comme étape dans les processus métier (ex: un Booker doit valider un contact avant de l’utiliser en prospection).</p>
</section>
</section>
<section id="securite-et-gestion-fine-des-acces-notion">
<h3>1.6. Sécurité et Gestion Fine des Accès Notion<a class="headerlink" href="#securite-et-gestion-fine-des-acces-notion" title="Link to this heading"></a></h3>
<section id="permissions-notion">
<h4>Permissions Notion<a class="headerlink" href="#permissions-notion" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>Niveau Workspace :</strong> Définir admins généraux.</p></li>
<li><p><strong>Niveau Teamspace/Espace :</strong> Isoler données par artiste/fonction (RH, Finance). Inviter utilisateurs avec rôle approprié (Member, Guest).</p></li>
<li><p><strong>Niveau Page/Database :</strong> Affiner permissions (Full access, Can edit, Can comment, Can view). Utiliser pour restreindre accès aux bases sensibles (Agence_HR_Personnel, Agence_Finance).</p></li>
<li><p><strong>Limitations :</strong> Pas de permissions au niveau propriété nativement. Pas de véritable sécurité au niveau ligne (un utilisateur avec accès DB voit tout).</p></li>
</ul>
</section>
<section id="groupes-d-utilisateurs">
<h4>Groupes d’utilisateurs<a class="headerlink" href="#groupes-d-utilisateurs" title="Link to this heading"></a></h4>
<p>Créer groupes Notion (Booking Team, Managers, RH Admins, Artiste Gribitch Members) pour simplifier l’attribution des permissions aux espaces/pages.</p>
</section>
<section id="acces-integration-n8n">
<h4>Accès Intégration N8N<a class="headerlink" href="#acces-integration-n8n" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>Créer un token d’intégration Notion spécifique pour N8N.</p></li>
<li><p>Partager EXPLICITEMENT et MINIMALEMENT les bases de données nécessaires avec cette intégration. Ne pas donner accès à tout le workspace.</p></li>
<li><p>Envisager plusieurs tokens N8N si des niveaux de privilèges différents sont requis par les workflows (ex: un token lecture seule pour reporting, un token écriture pour booking). Stocker ces tokens de manière sécurisée dans les Credentials N8N.</p></li>
</ul>
</section>
<section id="audit">
<h4>Audit<a class="headerlink" href="#audit" title="Link to this heading"></a></h4>
<p>Utiliser l’Audit Log de Notion (si plan Enterprise) pour surveiller les accès et modifications sensibles. Compléter par logs N8N (Agence_Monitoring_N8N) et logs CMS (Pilier 4). Révisions périodiques manuelles des partages.</p>
</section>
</section>
</section>
<section id="stockage-documentaire-centralise-et-structure-google-drive">
<h2>2. Stockage Documentaire Centralisé et Structuré (Google Drive)<a class="headerlink" href="#stockage-documentaire-centralise-et-structure-google-drive" title="Link to this heading"></a></h2>
<p><strong>Objectif Technique :</strong> Fournir un système de fichiers fiable, versionné et accessible via API pour les documents non structurés ou binaires (contrats signés, fiches techniques, assets promo, masters audio…).</p>
<section id="arborescence-logique-detaillee">
<h3>2.1. Arborescence Logique (Détaillée)<a class="headerlink" href="#arborescence-logique-detaillee" title="Link to this heading"></a></h3>
<p>La structure proposée est logique et granulaire. Elle permet une bonne organisation et facilite la gestion des permissions au niveau dossier.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Agence/
├── Admin_Finance/ (Factures, Bilans...)
├── Admin_HR/ (Contrats équipe, Politiques...)
├── Admin_Legal/ (Statuts, Assurances...)
├── Marketing_Templates/ (Logos, Chartes...)
└── Artistes/
    └── [Nom Artiste]/
        ├── 01_Booking/ (Offres, Contrats signés, Riders...)
        ├── 02_Production/
        │   ├── [Nom Projet Album]/ (Masters, Textes, Crédits...)
        │   └── [Nom Projet Clip]/ (Rushs, Storyboard...)
        ├── 03_Promotion/ (Press Kits, Photos HD, Logos Artiste, Communiqués...)
        ├── 04_Technique/ (Fiches Tech, Plans de scène...)
        ├── 05_Legal_Admin/ (Contrats Label/Edition, Sacem...)
        └── 06_Archives/
</pre></div>
</div>
<p><strong>Considération :</strong> Assurer la création automatique de cette arborescence pour chaque nouvel artiste via WF-HR-Onboarding ou un workflow dédié.</p>
</section>
<section id="nommage-coherent-versioning">
<h3>2.2. Nommage Cohérent &amp; Versioning<a class="headerlink" href="#nommage-coherent-versioning" title="Link to this heading"></a></h3>
<p><strong>Technique :</strong> Appliquer la convention de nommage via les workflows N8N qui uploadent/gèrent les fichiers (WF-Contract-Archiver, WF-PressKit-Generator). Utiliser les fonctions de date et de manipulation de chaînes N8N/JS.</p>
<p><strong>Versioning :</strong> Google Drive gère le versioning automatiquement. La convention de nommage (_V1, _V2) est pour la clarté humaine et pour pouvoir référencer une version spécifique si besoin.</p>
</section>
<section id="integration-n8n-robuste-details-techniques">
<h3>2.3. Intégration N8N Robuste (Détails Techniques)<a class="headerlink" href="#integration-n8n-robuste-details-techniques" title="Link to this heading"></a></h3>
<section id="wf-contract-archiver">
<h4>WF-Contract-Archiver<a class="headerlink" href="#wf-contract-archiver" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>Trigger :</strong> Notion Trigger (sur update de page [Artiste]_Contrats où Statut = “Signé”) ou Webhook depuis CMS.</p></li>
<li><p><strong>Étapes N8N :</strong></p>
<ol class="simple">
<li><p>Read Trigger Data: Récupérer l’ID de la page Notion et le champ Fichier/URL du contrat.</p></li>
<li><p>Get Notion Page: Récupérer les détails de la page (Nom artiste, Nom contrat…).</p></li>
<li><p>WF-Core-Config: Obtenir gDriveFolderId de l’artiste.</p></li>
<li><p>Google Drive Node (List): Vérifier si le sous-dossier 01_Booking/Contrats Signés/ existe dans le dossier artiste.</p></li>
<li><p>IF Node: Si dossier n’existe pas -&gt; Google Drive Node (Create Folder).</p></li>
<li><p>HTTP Request Node (ou Notion Node Get Block si fichier uploadé sur Notion): Télécharger le fichier contrat depuis Notion/URL.</p></li>
<li><p>Set Node: Construire le nom de fichier final selon la convention.</p></li>
<li><p>Google Drive Node (Upload): Uploader le fichier dans le dossier cible, avec le nom final. Gérer les conflits si fichier existe déjà (renommer, écraser?).</p></li>
<li><p>Google Drive Node (Get): Récupérer les métadonnées du fichier uploadé, notamment webViewLink ou alternateLink.</p></li>
<li><p>WF-Notion-Helper (Update Page): Mettre à jour la page Notion [Artiste]_Contrats avec le lien GDrive permanent dans un champ Lien GDrive Contrat Signé (Type: URL).</p></li>
<li><p>WF-Monitoring (Log): Logger succès ou échec avec détails.</p></li>
</ol>
</li>
</ul>
</section>
<section id="wf-presskit-generator">
<h4>WF-PressKit-Generator<a class="headerlink" href="#wf-presskit-generator" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>Trigger :</strong> Manual Trigger, Cron, ou Webhook depuis CMS.</p></li>
<li><p><strong>Étapes N8N :</strong></p>
<ol class="simple">
<li><p>WF-Core-Config: Obtenir IDs Notion/GDrive artiste.</p></li>
<li><p>Notion Node (Get Page/DB): Récupérer bio, liens streaming depuis Agence_Artistes ou base dédiée.</p></li>
<li><p>Google Drive Node (List/Download): Récupérer photos HD, logo, fiche tech depuis les dossiers GDrive appropriés (03_Promotion, 04_Technique).</p></li>
<li><p>Set Node: Organiser les données récupérées.</p></li>
<li><p>Assemblage PDF/ZIP :</p>
<ul>
<li><p><strong>Option A (API Externe) :</strong> HTTP Request Node vers service type PDFMonkey, Docupilot, etc. Envoyer les données structurées (texte, liens images) pour génération PDF.</p></li>
<li><p><strong>Option B (ZIP) :</strong> Si simple assemblage de fichiers -&gt; Créer un dossier temporaire, télécharger tous les assets dedans, utiliser un Execute Command Node (si N8N auto-hébergé) pour zipper le dossier, puis uploader le ZIP.</p></li>
<li><p><strong>Option C (Code Node + Libs) :</strong> Si N8N auto-hébergé, utiliser un Code node avec des librairies JS (ex: pdf-lib pour PDF, jszip pour ZIP). Complexe.</p></li>
</ul>
</li>
<li><p>Google Drive Node (Upload): Uploader le PDF/ZIP généré dans Artistes/[Nom Artiste]/03_Promotion/PressKits/ avec nommage versionné.</p></li>
<li><p>Google Drive Node (Get): Récupérer le lien du fichier généré.</p></li>
<li><p>WF-Notion-Helper (Update Page): Mettre à jour le champ Lien Dernier Press Kit (Type: URL) dans Agence_Artistes.</p></li>
<li><p>WF-Monitoring (Log).</p></li>
</ol>
</li>
</ul>
</section>
<section id="wf-gdrive-permissions-manager">
<h4>WF-GDrive-Permissions-Manager<a class="headerlink" href="#wf-gdrive-permissions-manager" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>Trigger :</strong> Webhook depuis CMS/Système RH lors d’onboarding/offboarding.</p></li>
<li><p><strong>Input :</strong> <code class="docutils literal notranslate"><span class="pre">{</span> <span class="pre">&quot;userEmail&quot;:</span> <span class="pre">&quot;...&quot;,</span> <span class="pre">&quot;artistFolderId&quot;:</span> <span class="pre">&quot;...&quot;,</span> <span class="pre">&quot;permissionRole&quot;:</span> <span class="pre">&quot;viewer/commenter/editor/owner/none&quot;</span> <span class="pre">}</span></code>.</p></li>
<li><p><strong>Étapes N8N :</strong></p>
<ol class="simple">
<li><p>Read Trigger Data.</p></li>
<li><p>Google Drive Node (Manage Permissions): Appliquer le rôle spécifié au userEmail sur le artistFolderId (et potentiellement ses sous-dossiers - vérifier options de propagation). Gérer le cas none pour supprimer les permissions.</p></li>
<li><p>WF-Monitoring (Log): Logger l’action effectuée.</p></li>
</ol>
</li>
</ul>
<p><strong>Sécurité :</strong> Ce workflow est critique. Le webhook doit être sécurisé. Le credential Google utilisé par N8N doit avoir les droits suffisants pour gérer les permissions.</p>
</section>
</section>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, EMAIL_SENDER_1 Team.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>