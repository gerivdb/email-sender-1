

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Glossaire des Erreurs et Solutions N8N &mdash; EMAIL_SENDER_1 1.0.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=4ae1632d" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=8d563738"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            EMAIL_SENDER_1
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contenu:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api/index.html">Documentation des API</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">EMAIL_SENDER_1</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Glossaire des Erreurs et Solutions N8N</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/reference/GLOSSAIRE_ERREURS_SOLUTIONS-restructured.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="glossaire-des-erreurs-et-solutions-n8n">
<h1>Glossaire des Erreurs et Solutions N8N<a class="headerlink" href="#glossaire-des-erreurs-et-solutions-n8n" title="Link to this heading"></a></h1>
<section id="table-des-matieres">
<h2>Table des matières<a class="headerlink" href="#table-des-matieres" title="Link to this heading"></a></h2>
<ol class="simple">
<li><p><a class="reference external" href="#section-1">Glossaire des Erreurs et Solutions N8N</a>
1.1. <a class="reference external" href="#section-2">Sources d’Erreurs Courantes et Leurs Solutions</a>
1.1.0.1. <a class="reference external" href="#section-3">Branche Parallèle (Exécution)</a>
1.1.0.2. <a class="reference external" href="#section-4">Données d’Exécution (Visualisation)</a>
1.1.0.3. <a class="reference external" href="#section-5">Exécution Basée sur les Items (Comportement par défaut)</a>
1.1.0.4. <a class="reference external" href="#section-6">Merge Node (Mode Combine By Position)</a>
1.1.0.5. <a class="reference external" href="#section-7">Notion Node (Simplify Option - implicite/explicite)</a>
1.1.0.6. <a class="reference external" href="#section-8">Nodes “Orphelins” (dans une Exécution Globale)</a>
1.1.0.7. <a class="reference external" href="#section-9">Test step (Bouton sur Node)</a>
1.1.0.8. <a class="reference external" href="#section-10">Trigger (Rôle Fondamental)</a>
1.1.0.9. <a class="reference external" href="#section-11">Workflow</a>
1.1.0.10. <a class="reference external" href="#section-12">Node (Nœud)</a>
1.1.0.11. <a class="reference external" href="#section-13">Trigger Node (Nœud Déclencheur)</a>
1.1.0.12. <a class="reference external" href="#section-14">Regular Node (Nœud Régulier)</a>
1.1.0.13. <a class="reference external" href="#section-15">Connection (Connexion)</a>
1.1.0.14. <a class="reference external" href="#section-16">Credentials (Identifiants)</a>
1.1.0.15. <a class="reference external" href="#section-17">Execution (Exécution)</a>
1.1.0.16. <a class="reference external" href="#section-18">Item (Élément)</a>
1.1.0.17. <a class="reference external" href="#section-19">JSON (JavaScript Object Notation)</a>
1.1.0.18. <a class="reference external" href="#section-20">Expression</a>
1.1.0.19. <a class="reference external" href="#section-21">Flow Logic (Logique de Flux)</a>
1.1.0.20. <a class="reference external" href="#section-22">Splitting (Séparation / Traitement par Item)</a>
1.1.0.21. <a class="reference external" href="#section-23">Merging (Fusion)</a>
1.1.0.22. <a class="reference external" href="#section-24">Looping (Boucle)</a>
1.1.0.23. <a class="reference external" href="#section-25">Waiting / Pausing (Attente / Pause)</a>
1.1.0.24. <a class="reference external" href="#section-26">Subworkflow / Execute Workflow (Sous-Workflow)</a>
1.1.0.25. <a class="reference external" href="#section-27">Error Handling (Gestion des Erreurs)</a>
1.1.0.26. <a class="reference external" href="#section-28">Execution Order (Ordre d’Exécution)</a>
1.1.0.27. <a class="reference external" href="#section-29">. Utilisation de Simplify dans Get Many (Database Page)</a>
1.1.0.28. <a class="reference external" href="#section-30">. Accès aux Rollups de Relations dans Simplify ✅</a>
1.1.0.29. <a class="reference external" href="#section-31">. Traduction JSON simplifiée pour les contacts (cas réel)</a>
1.1.0.30. <a class="reference external" href="#section-32">. Structure standard à retenir pour Notion</a>
1.1.0.31. <a class="reference external" href="#section-33">. Rollup ≠ JSON standard : structure atypique</a>
1.1.0.32. <a class="reference external" href="#section-34">. Accéder proprement à un rollup dans un Set Node</a>
1.1.0.33. <a class="reference external" href="#section-35">. Erreur fréquente avec filtre dans Get Many (Filter JSON)</a>
1.1.0.34. <a class="reference external" href="#section-36">. Éviter les requêtes GetAll inutiles</a>
1.1.0.35. <a class="reference external" href="#section-37">. Fusionner deux objets (ex: Contact + Lieu)</a>
1.1.0.36. <a class="reference external" href="#section-38">. Stratégie durable pour Notion modulaire multi-bases</a>
1.1.0.37. <a class="reference external" href="#section-39">. Utiliser Function Node pour debug et mapping ciblé</a>
1.1.0.38. <a class="reference external" href="#section-40">. Conseil UX Notion : renommage de propriétés</a></p></li>
</ol>
</section>
<section id="glossaire-des-erreurs-et-solutions-n8n-a-name-section-1-a">
<h2>1. Glossaire des Erreurs et Solutions N8N <a name='section-1'></a><a class="headerlink" href="#glossaire-des-erreurs-et-solutions-n8n-a-name-section-1-a" title="Link to this heading"></a></h2>
<section id="sources-d-erreurs-courantes-et-leurs-solutions-a-name-section-2-a">
<h3>1.1. Sources d’Erreurs Courantes et Leurs Solutions <a name='section-2'></a><a class="headerlink" href="#sources-d-erreurs-courantes-et-leurs-solutions-a-name-section-2-a" title="Link to this heading"></a></h3>
<table border="1" class="docutils">
<thead>
<tr>
<th>Erreur</th>
<th>Cause racine</th>
<th>Solution apportée</th>
</tr>
</thead>
<tbody>
<tr>
<td>Cannot read json of undefined</td>
<td>Node non connecté en input 0</td>
<td>Connexion explicite faite ✅</td>
</tr>
<tr>
<td>map is not a function</td>
<td>input1 ou input2 n'était pas un tableau</td>
<td>Conversion toArray(...) ajoutée ✅</td>
</tr>
<tr>
<td>Message d'intention manquant</td>
<td>Mauvaise entrée ou fallback non prévu</td>
<td>Valeur par défaut message mise ✅</td>
</tr>
</tbody>
</table><section id="branche-parallele-execution-a-name-section-3-a">
<h4>1.1.0.1. Branche Parallèle (Exécution) <a name='section-3'></a><a class="headerlink" href="#branche-parallele-execution-a-name-section-3-a" title="Link to this heading"></a></h4>
<p><strong>Constat</strong>: Une branche de workflow (ex: celle partant de Get Notion Contacts LOT1) ne s’exécute pas automatiquement si elle n’est pas connectée, directement ou indirectement, au flux de données initié par le Trigger principal (ex: Start Manual).</p>
<p><strong>Implication</strong>: Pour que des données issues de branches différentes soient disponibles en même temps pour un node de fusion (comme Merge), toutes ces branches de départ doivent être déclenchées par le même événement initial (en connectant le Trigger à chacune).</p>
</section>
<section id="donnees-d-execution-visualisation-a-name-section-4-a">
<h4>1.1.0.2. Données d’Exécution (Visualisation) <a name='section-4'></a><a class="headerlink" href="#donnees-d-execution-visualisation-a-name-section-4-a" title="Link to this heading"></a></h4>
<p><strong>Constat</strong>: Les compteurs X items et la couleur des “fils” (connexions) entre les nodes reflètent l’état de la dernière exécution affichée.</p>
<p><strong>Implication</strong>: Un fil gris indique qu’aucune donnée n’a transité par cette connexion lors de cette exécution spécifique, même si le node source pourrait produire des données s’il était exécuté. Essentiel pour suivre le flux réel.</p>
</section>
<section id="execution-basee-sur-les-items-comportement-par-defaut-a-name-section-5-a">
<h4>1.1.0.3. Exécution Basée sur les Items (Comportement par défaut) <a name='section-5'></a><a class="headerlink" href="#execution-basee-sur-les-items-comportement-par-defaut-a-name-section-5-a" title="Link to this heading"></a></h4>
<p><strong>Constat</strong>: La plupart des nodes N8N (Set, Code, HTTP Request…) s’exécutent une fois pour chaque item reçu sur leur entrée principale.</p>
<p><strong>Implication</strong>: Si un node en amont produit accidentellement plusieurs items (ex: return [ {…}, {…} ] dans un node Code), tous les nodes suivants s’exécuteront plusieurs fois, propageant l’exécution multiple. La clé est de s’assurer que chaque étape produit le nombre d’items attendu (souvent 1 seul item par “logique métier”).</p>
</section>
<section id="merge-node-mode-combine-by-position-a-name-section-6-a">
<h4>1.1.0.4. Merge Node (Mode Combine By Position) <a name='section-6'></a><a class="headerlink" href="#merge-node-mode-combine-by-position-a-name-section-6-a" title="Link to this heading"></a></h4>
<p><strong>Constat</strong>: Ce mode est très strict. Il nécessite exactement le même nombre d’items sur ses deux (ou plus) inputs, et ces items doivent arriver dans le contexte de la même exécution globale pour être appairés (1er avec 1er, 2ème avec 2ème…).</p>
<p><strong>Implication</strong>: Si une branche fournit 1 item et l’autre 0 (ou si les données arrivent en décalé), l’appariement échoue et l’output est vide par défaut. La synchronisation des branches via un trigger commun est souvent la solution.</p>
</section>
<section id="notion-node-simplify-option-implicite-explicite-a-name-section-7-a">
<h4>1.1.0.5. Notion Node (Simplify Option - implicite/explicite) <a name='section-7'></a><a class="headerlink" href="#notion-node-simplify-option-implicite-explicite-a-name-section-7-a" title="Link to this heading"></a></h4>
<p><strong>Constat</strong>: L’activation (même si non visible dans le JSON exporté parfois) de l’option Simplify change radicalement la structure des données retournées, notamment pour les types complexes comme les Relations et les Agrégations (Rollups).</p>
<p><strong>Implication</strong>: Avec Simplify, une agrégation d’email peut devenir directement accessible via $json[’NomColonneEmail’][0], tandis que sans Simplify, il faut naviguer dans la structure complète ($json.properties[’NomColonneEmail’].rollup.array[0].email). Connaître l’état de cette option est crucial pour écrire les bonnes expressions.</p>
</section>
<section id="nodes-orphelins-dans-une-execution-globale-a-name-section-8-a">
<h4>1.1.0.6. Nodes “Orphelins” (dans une Exécution Globale) <a name='section-8'></a><a class="headerlink" href="#nodes-orphelins-dans-une-execution-globale-a-name-section-8-a" title="Link to this heading"></a></h4>
<p><strong>Constat</strong>: Les nodes ou branches non reliés au Trigger actif ne sont pas exécutés lors d’un lancement global (”Execute Workflow”).</p>
<p><strong>Implication</strong>: Cela explique pourquoi des branches entières peuvent rester “grises”. Il ne s’agit pas forcément d’une erreur dans ces nodes, mais d’une absence de déclenchement dans ce contexte.</p>
</section>
<section id="test-step-bouton-sur-node-a-name-section-9-a">
<h4>1.1.0.7. Test step (Bouton sur Node) <a name='section-9'></a><a class="headerlink" href="#test-step-bouton-sur-node-a-name-section-9-a" title="Link to this heading"></a></h4>
<p><strong>Constat</strong>: Conçu pour exécuter uniquement le node sélectionné, en utilisant les dernières données disponibles sur ses entrées (issues d’exécutions précédentes ou d’autres “Test step”). Permet d’isoler et de tester la logique d’un node spécifique.</p>
<p><strong>Implication</strong>: L’erreur “Connect a trigger…” obtenue lors de son utilisation était anormale et indiquait probablement un glitch de l’interface ou de l’état du workflow, non lié au fonctionnement standard de “Test step”.</p>
</section>
<section id="trigger-role-fondamental-a-name-section-10-a">
<h4>1.1.0.8. Trigger (Rôle Fondamental) <a name='section-10'></a><a class="headerlink" href="#trigger-role-fondamental-a-name-section-10-a" title="Link to this heading"></a></h4>
<p><strong>Constat</strong>: Le point de départ de toute exécution automatique ou manuelle globale du workflow. C’est lui qui injecte le premier item (souvent vide pour Manual Trigger) qui initie le flux de données.</p>
<p><strong>Implication</strong>: Pour coordonner des actions parallèles qui doivent converger, relier le Trigger à chaque point de départ de ces actions est une stratégie valide et nécessaire.</p>
</section>
<section id="workflow-a-name-section-11-a">
<h4>1.1.0.9. Workflow <a name='section-11'></a><a class="headerlink" href="#workflow-a-name-section-11-a" title="Link to this heading"></a></h4>
<p><strong>Définition</strong>: L’ensemble du processus d’automatisation que tu crées dans n8n. Il est composé de Nœuds connectés entre eux sur le Canevas.</p>
</section>
<section id="node-noeud-a-name-section-12-a">
<h4>1.1.0.10. Node (Nœud) <a name='section-12'></a><a class="headerlink" href="#node-noeud-a-name-section-12-a" title="Link to this heading"></a></h4>
<p><strong>Définition</strong>: Un bloc fonctionnel dans un Workflow qui effectue une action spécifique. Il peut s’agir d’un Déclencheur (Trigger) ou d’un Nœud Régulier (Regular Node).</p>
</section>
<section id="trigger-node-noeud-declencheur-a-name-section-13-a">
<h4>1.1.0.11. Trigger Node (Nœud Déclencheur) <a name='section-13'></a><a class="headerlink" href="#trigger-node-noeud-declencheur-a-name-section-13-a" title="Link to this heading"></a></h4>
<p><strong>Définition</strong>: Le nœud spécial qui initie l’exécution d’un Workflow. Il réagit à un événement (ex: horaire, webhook, nouvel email). Un workflow commence toujours par un trigger.</p>
</section>
<section id="regular-node-noeud-regulier-a-name-section-14-a">
<h4>1.1.0.12. Regular Node (Nœud Régulier) <a name='section-14'></a><a class="headerlink" href="#regular-node-noeud-regulier-a-name-section-14-a" title="Link to this heading"></a></h4>
<p><strong>Définition</strong>: Tout nœud qui n’est pas un déclencheur. Il reçoit des données des nœuds précédents, effectue une opération (ex: lire une base de données, envoyer un message, transformer des données), et passe les résultats aux nœuds suivants.</p>
</section>
<section id="connection-connexion-a-name-section-15-a">
<h4>1.1.0.13. Connection (Connexion) <a name='section-15'></a><a class="headerlink" href="#connection-connexion-a-name-section-15-a" title="Link to this heading"></a></h4>
<p><strong>Définition</strong>: Le lien visuel entre deux nœuds sur le Canevas. Il définit le chemin et la direction du flux de données et détermine l’ordre d’exécution (Execution Order).</p>
</section>
<section id="credentials-identifiants-a-name-section-16-a">
<h4>1.1.0.14. Credentials (Identifiants) <a name='section-16'></a><a class="headerlink" href="#credentials-identifiants-a-name-section-16-a" title="Link to this heading"></a></h4>
<p><strong>Définition</strong>: Informations d’authentification stockées (clés API, logins OAuth, etc.) que les Nœuds utilisent pour se connecter de manière sécurisée à des services externes (Gmail, Notion, API REST…).</p>
</section>
<section id="execution-execution-a-name-section-17-a">
<h4>1.1.0.15. Execution (Exécution) <a name='section-17'></a><a class="headerlink" href="#execution-execution-a-name-section-17-a" title="Link to this heading"></a></h4>
<p><strong>Définition</strong>: Une unique instance de fonctionnement d’un Workflow, depuis le déclenchement par le Trigger Node jusqu’à sa fin (ou une erreur). Chaque exécution traite un ensemble de données (Items).</p>
</section>
<section id="item-element-a-name-section-18-a">
<h4>1.1.0.16. Item (Élément) <a name='section-18'></a><a class="headerlink" href="#item-element-a-name-section-18-a" title="Link to this heading"></a></h4>
<p><strong>Définition</strong>: L’unité fondamentale de données traitée par un Workflow. Une exécution peut impliquer le traitement de plusieurs Items. Chaque Item est généralement une structure de données (souvent JSON) contenant les informations pertinentes à une étape donnée.</p>
</section>
<section id="json-javascript-object-notation-a-name-section-19-a">
<h4>1.1.0.17. JSON (JavaScript Object Notation) <a name='section-19'></a><a class="headerlink" href="#json-javascript-object-notation-a-name-section-19-a" title="Link to this heading"></a></h4>
<p><strong>Définition</strong>: Le format standard utilisé par n8n pour structurer et échanger les données (Items) entre les nœuds.</p>
</section>
<section id="expression-a-name-section-20-a">
<h4>1.1.0.18. Expression <a name='section-20'></a><a class="headerlink" href="#expression-a-name-section-20-a" title="Link to this heading"></a></h4>
<p><strong>Définition</strong>: Un petit morceau de code (syntaxe proche de JavaScript) utilisé dans les paramètres des nœuds pour accéder dynamiquement aux données des Items ($json, $item), manipuler ces données, ou prendre des décisions logiques. Crucial pour la personnalisation.</p>
</section>
<section id="flow-logic-logique-de-flux-a-name-section-21-a">
<h4>1.1.0.19. Flow Logic (Logique de Flux) <a name='section-21'></a><a class="headerlink" href="#flow-logic-logique-de-flux-a-name-section-21-a" title="Link to this heading"></a></h4>
<p><strong>Définition</strong>: L’ensemble des concepts et mécanismes qui contrôlent comment les données (Items) circulent et comment les Nœuds sont exécutés dans un Workflow. Inclut le splitting, merging, looping, waiting, error handling, etc.</p>
</section>
<section id="splitting-separation-traitement-par-item-a-name-section-22-a">
<h4>1.1.0.20. Splitting (Séparation / Traitement par Item) <a name='section-22'></a><a class="headerlink" href="#splitting-separation-traitement-par-item-a-name-section-22-a" title="Link to this heading"></a></h4>
<p><strong>Définition</strong>: Le comportement par défaut de la plupart des nœuds : lorsqu’un nœud reçoit plusieurs Items en entrée, il exécute son action une fois pour chaque Item individuellement, avant de passer les résultats (potentiellement un Item par exécution) au nœud suivant.</p>
</section>
<section id="merging-fusion-a-name-section-23-a">
<h4>1.1.0.21. Merging (Fusion) <a name='section-23'></a><a class="headerlink" href="#merging-fusion-a-name-section-23-a" title="Link to this heading"></a></h4>
<p><strong>Définition</strong>: Le processus de combinaison des données provenant de différentes branches d’un workflow ou de regroupement des Items après qu’ils aient été traités séparément (par splitting ou looping). Souvent réalisé avec le nœud Merge, qui propose différentes stratégies (par index, par clé).</p>
</section>
<section id="looping-boucle-a-name-section-24-a">
<h4>1.1.0.22. Looping (Boucle) <a name='section-24'></a><a class="headerlink" href="#looping-boucle-a-name-section-24-a" title="Link to this heading"></a></h4>
<p><strong>Définition</strong>: La capacité de répéter une séquence spécifique de Nœuds plusieurs fois. Peut être basé sur un nombre fixe de répétitions ou itérer sur une liste d’Items (ex: avec le nœud Loop Over Items). Différent du splitting qui est implicite.</p>
</section>
<section id="waiting-pausing-attente-pause-a-name-section-25-a">
<h4>1.1.0.23. Waiting / Pausing (Attente / Pause) <a name='section-25'></a><a class="headerlink" href="#waiting-pausing-attente-pause-a-name-section-25-a" title="Link to this heading"></a></h4>
<p><strong>Définition</strong>: L’action d’interrompre délibérément l’exécution d’un Workflow pendant une période définie, jusqu’à une heure précise, ou en attendant un événement externe (comme un appel webhook). Généralement réalisé avec le nœud Wait.</p>
</section>
<section id="subworkflow-execute-workflow-sous-workflow-a-name-section-26-a">
<h4>1.1.0.24. Subworkflow / Execute Workflow (Sous-Workflow) <a name='section-26'></a><a class="headerlink" href="#subworkflow-execute-workflow-sous-workflow-a-name-section-26-a" title="Link to this heading"></a></h4>
<p><strong>Définition</strong>: Une technique permettant d’appeler et d’exécuter un autre Workflow n8n depuis le Workflow courant. Favorise la modularité et la réutilisabilité du code/logique. Réalisé avec le nœud Execute Workflow.</p>
</section>
<section id="error-handling-gestion-des-erreurs-a-name-section-27-a">
<h4>1.1.0.25. Error Handling (Gestion des Erreurs) <a name='section-27'></a><a class="headerlink" href="#error-handling-gestion-des-erreurs-a-name-section-27-a" title="Link to this heading"></a></h4>
<p><strong>Définition</strong>: L’ensemble des stratégies et outils pour gérer les échecs qui peuvent survenir pendant l’exécution d’un Workflow. Inclut des options sur les nœuds (Continue on Fail, Retry on Fail) et des workflows dédiés déclenchés par un Error Trigger.</p>
</section>
<section id="execution-order-ordre-d-execution-a-name-section-28-a">
<h4>1.1.0.26. Execution Order (Ordre d’Exécution) <a name='section-28'></a><a class="headerlink" href="#execution-order-ordre-d-execution-a-name-section-28-a" title="Link to this heading"></a></h4>
<p><strong>Définition</strong>: La séquence dans laquelle les nœuds d’un workflow sont exécutés. Elle est principalement déterminée par les Connexions entre les nœuds. Les données circulent le long de ces connexions, déclenchant l’exécution du nœud suivant. Les branches parallèles peuvent entraîner une exécution simultanée (ou quasi-simultanée) de différentes parties du workflow.</p>
</section>
<section id="utilisation-de-simplify-dans-get-many-database-page-a-name-section-29-a">
<h4>1.1.0.27. . Utilisation de Simplify dans Get Many (Database Page) <a name='section-29'></a><a class="headerlink" href="#utilisation-de-simplify-dans-get-many-database-page-a-name-section-29-a" title="Link to this heading"></a></h4>
<table border="1" class="docutils">
<thead>
<tr>
<th>Cas d'usage</th>
<th>Comportement</th>
</tr>
</thead>
<tbody>
<tr>
<td>Simplify: ✅</td>
<td>Les propriétés sont simplifiées en tableaux de valeurs directement accessibles (ex: E-mail[0])</td>
</tr>
<tr>
<td>Simplify: ❌</td>
<td>Structure complexe : rollup.array[0].email ou title[0].plain_text</td>
</tr>
</tbody>
</table><p><strong>Conclusion</strong>: Active Simplify quand tu veux éviter les IIFE ((() =&gt; { })()) pour accéder à des relations, rollups, multi-selects.</p>
</section>
<section id="acces-aux-rollups-de-relations-dans-simplify-a-name-section-30-a">
<h4>1.1.0.28. . Accès aux Rollups de Relations dans Simplify ✅ <a name='section-30'></a><a class="headerlink" href="#acces-aux-rollups-de-relations-dans-simplify-a-name-section-30-a" title="Link to this heading"></a></h4>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">{{</span><span class="w"> </span><span class="nx">$json</span><span class="p">[</span><span class="s1">&#39;E-mail&#39;</span><span class="p">][</span><span class="mf">0</span><span class="p">]</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="s1">&#39;⚠️ Email manquant&#39;</span><span class="w"> </span><span class="p">}}</span>
</pre></div>
</div>
<p>Cela fonctionne uniquement si :</p>
<ul class="simple">
<li><p>Le champ “E-mail” est une agrégation (rollup) vers une propriété type email dans la base liée (bdd-Lieux ici)</p></li>
<li><p>Simplify est activé dans le Get Many</p></li>
</ul>
</section>
<section id="traduction-json-simplifiee-pour-les-contacts-cas-reel-a-name-section-31-a">
<h4>1.1.0.29. . Traduction JSON simplifiée pour les contacts (cas réel) <a name='section-31'></a><a class="headerlink" href="#traduction-json-simplifiee-pour-les-contacts-cas-reel-a-name-section-31-a" title="Link to this heading"></a></h4>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;emailContact&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;{{ $json[&#39;E-mail&#39;][0] || &#39;⚠️ Email manquant&#39; }}&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;contactName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;{{ $json[&#39;Name&#39;] || &#39;Nom inconnu&#39; }}&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;structure&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;{{ $json[&#39;bdd-Lieux&#39;][0] || &#39;Structure inconnue&#39; }}&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;ville&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;{{ $json[&#39;Ville&#39;][0] || &#39;Ville inconnue&#39; }}&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;etatDuMail&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;{{ $json[&#39;Etat du mail&#39;][0] || &#39;État non renseigné&#39; }}&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="structure-standard-a-retenir-pour-notion-a-name-section-32-a">
<h4>1.1.0.30. . Structure standard à retenir pour Notion <a name='section-32'></a><a class="headerlink" href="#structure-standard-a-retenir-pour-notion-a-name-section-32-a" title="Link to this heading"></a></h4>
<table border="1" class="docutils">
<thead>
<tr>
<th>Type de champ</th>
<th>Accès avec Simplify ✅</th>
<th>Exemple</th>
</tr>
</thead>
<tbody>
<tr>
<td>Title (Name)</td>
<td>Name</td>
<td>"Jean Jean"</td>
</tr>
<tr>
<td>Email (Rollup)</td>
<td>E-mail[0]</td>
<td>"lubbin@gmail.com"</td>
</tr>
<tr>
<td>Multi-select</td>
<td>Etat du mail[0]</td>
<td>"PROSPECT ⚠️ En attente d'envoi"</td>
</tr>
<tr>
<td>Relation (base liée)</td>
<td>bdd-Lieux[0]</td>
<td>"11a81449-f795..." (ID page liée)</td>
</tr>
</tbody>
</table></section>
<section id="rollup-json-standard-structure-atypique-a-name-section-33-a">
<h4>1.1.0.31. . Rollup ≠ JSON standard : structure atypique <a name='section-33'></a><a class="headerlink" href="#rollup-json-standard-structure-atypique-a-name-section-33-a" title="Link to this heading"></a></h4>
<p>Un champ de type Rollup (Agrégation) ne donne pas un simple champ comme “email”: “xx&#64;yy.com”.</p>
<p>Il retourne une structure du type :</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="nt">&quot;E-mail&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;rollup&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;array&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;email&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;email&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;xx@yy.com&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">]</span>
<span class="w">  </span><span class="p">}</span>
</pre></div>
</div>
<p>Même si le champ Notion est un email, il faut extraire .rollup.array[0].email.</p>
</section>
<section id="acceder-proprement-a-un-rollup-dans-un-set-node-a-name-section-34-a">
<h4>1.1.0.32. . Accéder proprement à un rollup dans un Set Node <a name='section-34'></a><a class="headerlink" href="#acceder-proprement-a-un-rollup-dans-un-set-node-a-name-section-34-a" title="Link to this heading"></a></h4>
<p>En mode non-simplifié :</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">{{</span><span class="w"> </span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">roll</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">$json</span><span class="p">[</span><span class="s2">&quot;E-mail&quot;</span><span class="p">]</span><span class="o">?</span><span class="p">.</span><span class="nx">rollup</span><span class="o">?</span><span class="p">.</span><span class="nx">array</span><span class="p">;</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="nx">roll</span><span class="o">?</span><span class="p">.[</span><span class="mf">0</span><span class="p">]</span><span class="o">?</span><span class="p">.</span><span class="nx">email</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="s2">&quot;⚠️ Email manquant&quot;</span><span class="p">;</span>
<span class="p">})()</span><span class="w"> </span><span class="p">}}</span>
</pre></div>
</div>
<p>En mode simplifié :
{{ $json[”E-mail”][0] || “⚠️ Email manquant” }}</p>
<p><strong>Règle</strong>: Toujours tester la structure du champ avec console.log($json) dans un Function ou Set si doute.</p>
</section>
<section id="erreur-frequente-avec-filtre-dans-get-many-filter-json-a-name-section-35-a">
<h4>1.1.0.33. . Erreur fréquente avec filtre dans Get Many (Filter JSON) <a name='section-35'></a><a class="headerlink" href="#erreur-frequente-avec-filtre-dans-get-many-filter-json-a-name-section-35-a" title="Link to this heading"></a></h4>
<p>Tentative problématique :</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;filter&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;property&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Name&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;equals&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;{{ $json[&#39;bdd-Lieux&#39;]?.[0]?.name }}&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
</pre></div>
</div>
<p><strong>Échec</strong>: N8N ne parse pas les expressions dans les JSON de filtres Notion.</p>
<p><strong>Solution</strong>: Filtrer en amont ou utiliser un node IF/Function pour filtrer manuellement après récupération de toutes les données.</p>
</section>
<section id="eviter-les-requetes-getall-inutiles-a-name-section-36-a">
<h4>1.1.0.34. . Éviter les requêtes GetAll inutiles <a name='section-36'></a><a class="headerlink" href="#eviter-les-requetes-getall-inutiles-a-name-section-36-a" title="Link to this heading"></a></h4>
<p>Problème identifié: Get Lieux Details récupérait 2415 items alors qu’un seul était nécessaire.</p>
<p><strong>Leçon</strong>: Si Simplify est activé dans Get Notion Contacts, et que la Relation est présente, tu peux éviter complètement le Get Details Notion et utiliser directement les rollups/IDs dans le contact.</p>
</section>
<section id="fusionner-deux-objets-ex-contact-lieu-a-name-section-37-a">
<h4>1.1.0.35. . Fusionner deux objets (ex: Contact + Lieu) <a name='section-37'></a><a class="headerlink" href="#fusionner-deux-objets-ex-contact-lieu-a-name-section-37-a" title="Link to this heading"></a></h4>
<p>Pattern appliqué dans Fusion LOT1 + Lieux :</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="k">return</span><span class="w"> </span><span class="p">[{</span>
<span class="w">  </span><span class="nx">json</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="p">...</span><span class="nx">contactJson</span><span class="p">,</span>
<span class="w">    </span><span class="nx">lieuEmail</span><span class="o">:</span><span class="w"> </span><span class="nx">matchedLieu</span><span class="o">?</span><span class="p">.</span><span class="nx">properties</span><span class="o">?</span><span class="p">.[</span><span class="s1">&#39;E-mail&#39;</span><span class="p">]</span><span class="o">?</span><span class="p">.</span><span class="nx">email</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<span class="w">    </span><span class="nx">lieuStructure</span><span class="o">:</span><span class="w"> </span><span class="nx">matchedLieu</span><span class="o">?</span><span class="p">.</span><span class="nx">properties</span><span class="o">?</span><span class="p">.[</span><span class="s1">&#39;Structure&#39;</span><span class="p">]</span><span class="o">?</span><span class="p">.</span><span class="nx">title</span><span class="o">?</span><span class="p">.[</span><span class="mf">0</span><span class="p">]</span><span class="o">?</span><span class="p">.</span><span class="nx">plain_text</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="s1">&#39;Structure inconnue&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="p">...</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}]</span>
</pre></div>
</div>
<p><strong>Bonnes pratiques</strong>:</p>
<ul class="simple">
<li><p>Utiliser <code class="docutils literal notranslate"><span class="pre">...contactJson</span></code> pour propager toutes les clés du contact</p></li>
<li><p>Préférer <code class="docutils literal notranslate"><span class="pre">?.</span></code> + fallback (<code class="docutils literal notranslate"><span class="pre">||</span></code>) pour les champs liés</p></li>
</ul>
</section>
<section id="strategie-durable-pour-notion-modulaire-multi-bases-a-name-section-38-a">
<h4>1.1.0.36. . Stratégie durable pour Notion modulaire multi-bases <a name='section-38'></a><a class="headerlink" href="#strategie-durable-pour-notion-modulaire-multi-bases-a-name-section-38-a" title="Link to this heading"></a></h4>
<p><strong>Leçon stratégique</strong>:
Un flux Notion/N8N doit intégrer une logique générique qui détecte :</p>
<ul class="simple">
<li><p>quelles propriétés sont des relations</p></li>
<li><p>quelles sont les aggregations</p></li>
<li><p>pour ensuite les naviguer dynamiquement</p></li>
</ul>
<p><strong>Préconisation</strong>:</p>
<ul class="simple">
<li><p>Regrouper les métadonnées de structure des bases dans un node Set d’initialisation</p></li>
<li><p>Gérer dynamiquement les accès à la donnée selon leur type Notion</p></li>
</ul>
</section>
<section id="utiliser-function-node-pour-debug-et-mapping-cible-a-name-section-39-a">
<h4>1.1.0.37. . Utiliser Function Node pour debug et mapping ciblé <a name='section-39'></a><a class="headerlink" href="#utiliser-function-node-pour-debug-et-mapping-cible-a-name-section-39-a" title="Link to this heading"></a></h4>
<p>Quand les Rollups ou Relations sont trop complexes, utiliser un Function node pour naviguer manuellement dans le JSON:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">const</span><span class="w"> </span><span class="nx">roll</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">$json</span><span class="p">[</span><span class="s1">&#39;E-mail&#39;</span><span class="p">]</span><span class="o">?</span><span class="p">.</span><span class="nx">rollup</span><span class="o">?</span><span class="p">.</span><span class="nx">array</span><span class="p">;</span>
<span class="k">return</span><span class="w"> </span><span class="p">[{</span><span class="w"> </span><span class="nx">json</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">email</span><span class="o">:</span><span class="w"> </span><span class="nx">roll</span><span class="o">?</span><span class="p">.[</span><span class="mf">0</span><span class="p">]</span><span class="o">?</span><span class="p">.</span><span class="nx">email</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="s1">&#39;⚠️&#39;</span><span class="w"> </span><span class="p">}}];</span>
</pre></div>
</div>
</section>
<section id="conseil-ux-notion-renommage-de-proprietes-a-name-section-40-a">
<h4>1.1.0.38. . Conseil UX Notion : renommage de propriétés <a name='section-40'></a><a class="headerlink" href="#conseil-ux-notion-renommage-de-proprietes-a-name-section-40-a" title="Link to this heading"></a></h4>
<p>Problème identifié:</p>
<ul class="simple">
<li><p>Champ dans bdd-Lieux : “E-mail contact lieu”</p></li>
<li><p>Dans LOT1, le rollup s’appelait juste “E-mail”, générant des ambiguïtés</p></li>
</ul>
<p><strong>Bonne pratique</strong>: Toujours faire précéder un rollup du nom original de sa base:</p>
<ul class="simple">
<li><p>Rollup_Email_Lieux ou email_bddLieux</p></li>
</ul>
</section>
</section>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, EMAIL_SENDER_1 Team.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>