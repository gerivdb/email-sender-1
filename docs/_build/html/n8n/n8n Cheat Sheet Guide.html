

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>&lt;no title&gt; &mdash; EMAIL_SENDER_1 1.0.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=4ae1632d" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=8d563738"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            EMAIL_SENDER_1
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contenu:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api/index.html">Documentation des API</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">EMAIL_SENDER_1</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">&lt;no title&gt;</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/n8n/n8n Cheat Sheet Guide.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <p><strong>N8n Automation Nodes Cheat Sheet</strong></p>
<p>This cheat sheet provides <strong>JSON configuration snippets</strong> for common n8n nodes, categorized by function. Each snippet shows how to use the node programmatically (as it would appear in a workflow’s JSON). Use these examples as templates for building workflows. <em>(Note: Replace placeholder values like <code class="docutils literal notranslate"><span class="pre">YOUR_API_KEY</span></code> or <code class="docutils literal notranslate"><span class="pre">YOUR_ID</span></code> with real values. Credentials are referenced by name/id after you set them up in n8n.)</em></p>
<p><strong>AI &amp; LLM Integrations</strong></p>
<p><strong>OpenAI Chat Model (GPT-3.5/GPT-4):</strong> Uses OpenAI’s Chat API to generate responses. You specify the model, prompts, and parameters like temperature. This node can take a system prompt and user prompt to generate a completion. For example, to use the GPT-3.5 Turbo model with a system role and user message:</p>
<p>github.com</p>
<p>【46†L17-L24**</p>
<p>json</p>
<p>Copy</p>
<p><code class="docutils literal notranslate"><span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;name&quot;:</span> <span class="pre">&quot;ChatGPT&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;type&quot;:</span> <span class="pre">&quot;n8n-nodes-langchain.lmChatOpenAi&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;typeVersion&quot;:</span> <span class="pre">1,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;parameters&quot;:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;model&quot;:</span> <span class="pre">&quot;gpt-3.5-turbo&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;temperature&quot;:</span> <span class="pre">0.7,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;maxTokens&quot;:</span> <span class="pre">500,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;systemPrompt&quot;:</span> <span class="pre">&quot;You</span> <span class="pre">are</span> <span class="pre">a</span> <span class="pre">helpful</span> <span class="pre">assistant.&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;userPrompt&quot;:</span> <span class="pre">&quot;Hello!</span> <span class="pre">How</span> <span class="pre">can</span> <span class="pre">I</span> <span class="pre">automate</span> <span class="pre">tasks</span> <span class="pre">with</span> <span class="pre">n8n?&quot;</span> <span class="pre">},</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;credentials&quot;:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;openAiApi&quot;:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;id&quot;:</span> <span class="pre">&quot;YOUR_CRED_ID&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;name&quot;:</span> <span class="pre">&quot;OpenAI</span> <span class="pre">API&quot;</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code><br /><em>Explanation:</em> This config sets the OpenAI Chat node to use the GPT-3.5 model with a system message providing context and a user message. The response will be available as the node’s output. Ensure you have an OpenAI API credential named “OpenAI API” configured, referenced in <code class="docutils literal notranslate"><span class="pre">credentials</span></code>. You can adjust <code class="docutils literal notranslate"><span class="pre">temperature</span></code> for randomness and <code class="docutils literal notranslate"><span class="pre">maxTokens</span></code> for length.</p>
<p><strong>OpenAI Text Completion:</strong> For GPT-3 text completion models (like <code class="docutils literal notranslate"><span class="pre">text-davinci-003</span></code>), you can use the OpenAI node in completion mode. Provide a prompt and parameters. For example:</p>
<p>docs.n8n.io</p>
<p>【48†L15-L22**</p>
<p>json</p>
<p>Copy</p>
<p><code class="docutils literal notranslate"><span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;name&quot;:</span> <span class="pre">&quot;OpenAI</span> <span class="pre">Completion&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;type&quot;:</span> <span class="pre">&quot;n8n-nodes-langchain.openai&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;typeVersion&quot;:</span> <span class="pre">1,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;parameters&quot;:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;model&quot;:</span> <span class="pre">&quot;text-davinci-003&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;prompt&quot;:</span> <span class="pre">&quot;Summarize</span> <span class="pre">the</span> <span class="pre">following</span> <span class="pre">text:</span> <span class="pre">{{$json[\&quot;content\&quot;]}}&quot;,</span> <span class="pre">&quot;temperature&quot;:</span> <span class="pre">0.5,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;maxTokens&quot;:</span> <span class="pre">200</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">},</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;credentials&quot;:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;openAiApi&quot;:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;name&quot;:</span> <span class="pre">&quot;OpenAI</span> <span class="pre">API&quot;</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><em>Explanation:</em> This will send a prompt to OpenAI’s completion endpoint to summarize some content from the input data. The <code class="docutils literal notranslate"><span class="pre">{{$json[&quot;content&quot;]}}</span></code> syntax inserts data from the previous node. The node uses the OpenAI API credentials. The output appears in the node’s JSON (<code class="docutils literal notranslate"><span class="pre">result</span></code> field containing the completion text).</p>
<p><strong>AI Agents (with Tools):</strong> n8n supports advanced <strong>Agent</strong> nodes that let an AI model use tools (like web search, calculators, or other node functions) to fulfill tasks</p>
<p>docs.n8n.io</p>
<p>. For example, the <em>OpenAI Functions Agent</em> can call custom functions, and the <em>ReAct Agent</em> uses the ReAct strategy to decide which tool to use at each step. Below is a simplified example<br />of an AI Agent node configuration using an OpenAI model and a tool (e.g., a Google Search tool):</p>
<p>json</p>
<p>Copy</p>
<p><code class="docutils literal notranslate"><span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;name&quot;:</span> <span class="pre">&quot;AI</span> <span class="pre">Agent</span> <span class="pre">(ReAct)&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;type&quot;:</span> <span class="pre">&quot;n8n-nodes-langchain.agent&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;typeVersion&quot;:</span> <span class="pre">1,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;parameters&quot;:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;agentType&quot;:</span> <span class="pre">&quot;react&quot;,</span> <span class="pre">//</span> <span class="pre">Agent</span> <span class="pre">type:</span> <span class="pre">&quot;react&quot;,</span> <span class="pre">&quot;functions&quot;,</span> <span class="pre">&quot;planAndExecute&quot;,</span> <span class="pre">etc.</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;model&quot;:</span> <span class="pre">&quot;gpt-4&quot;,</span> <span class="pre">//</span> <span class="pre">Underlying</span> <span class="pre">LLM</span> <span class="pre">model</span> <span class="pre">&quot;memory&quot;:</span> <span class="pre">false,</span> <span class="pre">//</span> <span class="pre">Whether</span> <span class="pre">to</span> <span class="pre">use</span> <span class="pre">conversational</span> <span class="pre">memory</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;tools&quot;:</span> <span class="pre">[</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;name&quot;:</span> <span class="pre">&quot;googleSearch&quot;,</span> <span class="pre">//</span> <span class="pre">A</span> <span class="pre">connected</span> <span class="pre">tool</span> <span class="pre">node's</span> <span class="pre">name</span> <span class="pre">&quot;input&quot;:</span> <span class="pre">&quot;What</span> <span class="pre">is</span> <span class="pre">n8n?&quot;</span> <span class="pre">//</span> <span class="pre">Sample</span> <span class="pre">query</span> <span class="pre">the</span> <span class="pre">agent</span> <span class="pre">will</span> <span class="pre">use</span> <span class="pre">this</span> <span class="pre">tool</span> <span class="pre">for</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">]</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><em>Explanation:</em> This agent is configured to use the ReAct strategy with GPT-4. The <code class="docutils literal notranslate"><span class="pre">tools</span></code> array would correspond to actual Tool nodes connected to the Agent node (for example, a Google Search node in the workflow). In practice, you add tools via the editor UI (they become sub-nodes). The agent will decide when to use the tool. For instance, it might use the Google Search tool to retrieve information needed to answer a question. <strong>Note:</strong> The agent node cluster handles the logic; ensure you have the appropriate tool nodes and credentials (like Google API keys) set up. Agents can also use other modes like <strong>OpenAI Functions Agent</strong>, <strong>Plan-and-Execute Agent</strong>, or <strong>SQL Agent</strong>, each allowing the AI to perform specific complex tasks (e.g., call defined functions, break a task into sub-tasks, or run SQL queries via provided DB credentials).</p>
<p><strong>Embeddings and Vector Stores:</strong> n8n provides nodes to generate text embeddings with models (OpenAI, Cohere, Google PaLM, etc.) and to store/retrieve them in vector databases (Pinecone, Weaviate, etc.). For example, the <strong>OpenAI Embeddings</strong> node can take text and return a vector. Usage is straightforward: you specify the text field to embed and the model. The<br />output is usually an array of numbers representing the vector. These can be used with a <strong>Vector Store</strong> node (like Pinecone) to <code class="docutils literal notranslate"><span class="pre">add</span></code> or <code class="docutils literal notranslate"><span class="pre">query</span></code> vectors. Example for an OpenAI Embedding node:</p>
<p>json</p>
<p>Copy</p>
<p><code class="docutils literal notranslate"><span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;name&quot;:</span> <span class="pre">&quot;Text</span> <span class="pre">to</span> <span class="pre">Vector&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;type&quot;:</span> <span class="pre">&quot;n8n-nodes-langchain.embeddingsOpenAi&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;typeVersion&quot;:</span> <span class="pre">1,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;parameters&quot;:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;model&quot;:</span> <span class="pre">&quot;text-embedding-ada-002&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;text&quot;:</span> <span class="pre">&quot;={{</span> <span class="pre">$json[\&quot;content\&quot;]</span> <span class="pre">}}&quot;</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">},</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;credentials&quot;:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;openAiApi&quot;:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;name&quot;:</span> <span class="pre">&quot;OpenAI</span> <span class="pre">API&quot;</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><em>Explanation:</em> This takes the <code class="docutils literal notranslate"><span class="pre">content</span></code> field from input JSON and generates a 1536-dimensional embedding using OpenAI’s ada model. You would typically send this vector to a storage or use it in a similarity search. For storing, a <strong>Pinecone</strong> (or other vector DB) node can be used, with operations like <code class="docutils literal notranslate"><span class="pre">Insert</span> <span class="pre">Vector</span></code> or <code class="docutils literal notranslate"><span class="pre">Query</span> <span class="pre">Vector</span></code> (you provide the index name, vector data, and any metadata or query vectors as needed). Because vector store usage can be complex, refer to the specific node docs for exact parameter names. The key concept is that <strong>Embeddings nodes</strong> convert text to numerical vectors, and <strong>Vector Store nodes</strong> allow saving and searching those vectors, enabling workflows like semantic search or retrieval-augmented generation.</p>
<p><strong>API &amp; Webhook Integrations</strong></p>
<p><strong>HTTP Request Node (REST APIs):</strong> This is the universal node to call any RESTful API. You can configure method, URL, headers, query params, and body (including JSON body). It supports authentication via credentials (OAuth2, API token, etc.) or custom headers. Below is an example GET request with query parameters:</p>
<p>community.faros.ai</p>
<p>community.faros.ai</p>
<p>json<br />Copy</p>
<p><code class="docutils literal notranslate"><span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;name&quot;:</span> <span class="pre">&quot;HTTP</span> <span class="pre">GET</span> <span class="pre">Example&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;type&quot;:</span> <span class="pre">&quot;n8n-nodes-base.httpRequest&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;typeVersion&quot;:</span> <span class="pre">1,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;parameters&quot;:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;url&quot;:</span> <span class="pre">&quot;https://api.example.com/data&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;method&quot;:</span> <span class="pre">&quot;GET&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;responseFormat&quot;:</span> <span class="pre">&quot;json&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;queryParametersUi&quot;:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;parameter&quot;:</span> <span class="pre">[</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">{</span> <span class="pre">&quot;name&quot;:</span> <span class="pre">&quot;q&quot;,</span> <span class="pre">&quot;value&quot;:</span> <span class="pre">&quot;search</span> <span class="pre">term&quot;</span> <span class="pre">},</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">{</span> <span class="pre">&quot;name&quot;:</span> <span class="pre">&quot;limit&quot;,</span> <span class="pre">&quot;value&quot;:</span> <span class="pre">&quot;10&quot;</span> <span class="pre">}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">]</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p>To perform a POST with a JSON body, use <code class="docutils literal notranslate"><span class="pre">jsonParameters:</span> <span class="pre">true</span></code> and provide the <code class="docutils literal notranslate"><span class="pre">bodyParametersJson</span></code> object (or form data, etc.). For example, a POST request:</p>
<p>json</p>
<p>Copy</p>
<p><code class="docutils literal notranslate"><span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;name&quot;:</span> <span class="pre">&quot;HTTP</span> <span class="pre">POST</span> <span class="pre">Example&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;type&quot;:</span> <span class="pre">&quot;n8n-nodes-base.httpRequest&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;typeVersion&quot;:</span> <span class="pre">1,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;parameters&quot;:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;url&quot;:</span> <span class="pre">&quot;https://api.example.com/posts&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;method&quot;:</span> <span class="pre">&quot;POST&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;responseFormat&quot;:</span> <span class="pre">&quot;json&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;jsonParameters&quot;:</span> <span class="pre">true,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;options&quot;:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;bodyContentType&quot;:</span> <span class="pre">&quot;json&quot;</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">},</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;bodyParametersJson&quot;:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;title&quot;:</span> <span class="pre">&quot;Hello</span> <span class="pre">World&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;content&quot;:</span> <span class="pre">&quot;This</span> <span class="pre">is</span> <span class="pre">an</span> <span class="pre">example</span> <span class="pre">post</span> <span class="pre">via</span> <span class="pre">n8n.&quot;</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code><br /><code class="docutils literal notranslate"><span class="pre">},</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;credentials&quot;:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;httpBasicAuth&quot;:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;name&quot;:</span> <span class="pre">&quot;Example</span> <span class="pre">API</span> <span class="pre">Auth&quot;</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><em>Explanation:</em> This POST will send a JSON payload with <code class="docutils literal notranslate"><span class="pre">title</span></code> and <code class="docutils literal notranslate"><span class="pre">content</span></code>. We set <code class="docutils literal notranslate"><span class="pre">bodyContentType</span></code> to JSON to ensure the <code class="docutils literal notranslate"><span class="pre">Content-Type:</span> <span class="pre">application/json</span></code> header. The credentials section (optional) can reference an HTTP Basic Auth, OAuth2, or API Key credential if needed for the API. The HTTP node is very flexible – you can also use it for GraphQL by sending a GraphQL query in the body or using the dedicated GraphQL node.</p>
<p><strong>GraphQL Node:</strong> The GraphQL node is a convenience wrapper for GraphQL APIs. You specify the endpoint URL and the GraphQL query or mutation. It’s essentially similar to an HTTP POST but simplifies sending the query. For example:</p>
<p>community.faros.ai</p>
<p>community.faros.ai</p>
<p>json</p>
<p>Copy</p>
<p><code class="docutils literal notranslate"><span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;name&quot;:</span> <span class="pre">&quot;GraphQL</span> <span class="pre">Query&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;type&quot;:</span> <span class="pre">&quot;n8n-nodes-base.graphql&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;typeVersion&quot;:</span> <span class="pre">1,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;parameters&quot;:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;endpoint&quot;:</span> <span class="pre">&quot;https://api.spacex.land/graphql/&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;query&quot;:</span> <span class="pre">&quot;query</span> <span class="pre">Launches($limit:Int!)</span> <span class="pre">{\n</span> <span class="pre">launchesPast(limit:</span> <span class="pre">$limit)</span> <span class="pre">{\n</span> <span class="pre">mission_name\n</span> <span class="pre">launch_date_utc\n</span> <span class="pre">}\n}&quot;,</span> <span class="pre">&quot;variables&quot;:</span> <span class="pre">&quot;{</span> <span class="pre">\&quot;limit\&quot;:</span> <span class="pre">3</span> <span class="pre">}&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;headerParametersUi&quot;:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;parameter&quot;:</span> <span class="pre">[</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">{</span> <span class="pre">&quot;name&quot;:</span> <span class="pre">&quot;Authorization&quot;,</span> <span class="pre">&quot;value&quot;:</span> <span class="pre">&quot;Bearer</span> <span class="pre">YOUR_API_TOKEN&quot;</span> <span class="pre">}</span> <span class="pre">]</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code><br /><em>Explanation:</em> This will query the SpaceX GraphQL API for the last 3 launches. We included a bearer token in headers (if the API required auth). The result will be JSON in the node’s output. The GraphQL node automatically sends the request as JSON to the endpoint. If needed, you can also pass dynamic data by using n8n expressions inside the <code class="docutils literal notranslate"><span class="pre">query</span></code> or <code class="docutils literal notranslate"><span class="pre">variables</span></code>.</p>
<p><strong>Webhook Trigger:</strong> The Webhook node starts a workflow via an incoming HTTP request. You provide a <code class="docutils literal notranslate"><span class="pre">path</span></code> (which becomes part of the URL n8n listens on) and optional HTTP method, authentication, and response settings. Example of a basic webhook that triggers on a POST request:</p>
<p>community.n8n.io</p>
<p>community.n8n.io</p>
<p>json</p>
<p>Copy</p>
<p><code class="docutils literal notranslate"><span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;name&quot;:</span> <span class="pre">&quot;Webhook</span> <span class="pre">Trigger&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;type&quot;:</span> <span class="pre">&quot;n8n-nodes-base.webhook&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;typeVersion&quot;:</span> <span class="pre">1,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;parameters&quot;:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;path&quot;:</span> <span class="pre">&quot;incoming-data&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;methods&quot;:</span> <span class="pre">[&quot;POST&quot;],</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;responseMode&quot;:</span> <span class="pre">&quot;onReceived&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;responseData&quot;:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;statusCode&quot;:</span> <span class="pre">200,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;body&quot;:</span> <span class="pre">&quot;Webhook</span> <span class="pre">received</span> <span class="pre">successfully&quot;</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><em>Explanation:</em> This creates a webhook at URL <code class="docutils literal notranslate"><span class="pre">/webhook/incoming-data</span></code> (the full URL is shown in n8n UI, including host and unique ID if not using a custom URL). It listens for POST requests. <code class="docutils literal notranslate"><span class="pre">responseMode:</span> <span class="pre">onReceived</span></code> means n8n will immediately send a response as soon as the request is received (without waiting for the whole workflow to finish), and we provide a static 200 OK response body. If you set <code class="docutils literal notranslate"><span class="pre">responseMode</span></code> to <strong>“lastNode”</strong> (default), the webhook will wait and respond with whatever the last node in the workflow returns. Use that mode if you want to return processed data. You can access incoming request data in the subsequent nodes: query parameters and body will be available in the JSON (e.g., <code class="docutils literal notranslate"><span class="pre">{{$json[&quot;body&quot;][&quot;fieldName&quot;]}}</span></code>). This is ideal for creating webhooks for services like Stripe, GitHub, etc., or for custom integrations.<br /><strong>Respond to Webhook:</strong> When using the default <strong>lastNode</strong> response mode for webhooks, the final node’s output becomes the response. But if you need to craft a custom response or send a reply mid-workflow, n8n offers a <strong>Respond to Webhook</strong> node. This node lets you explicitly return a status, headers, and body. For example, to return a JSON payload:</p>
<p>json</p>
<p>Copy</p>
<p><code class="docutils literal notranslate"><span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;name&quot;:</span> <span class="pre">&quot;Webhook</span> <span class="pre">Response&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;type&quot;:</span> <span class="pre">&quot;n8n-nodes-base.respondToWebhook&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;typeVersion&quot;:</span> <span class="pre">1,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;parameters&quot;:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;responseMode&quot;:</span> <span class="pre">&quot;responseNode&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;options&quot;:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;responseData&quot;:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;body&quot;:</span> <span class="pre">&quot;{</span> <span class="pre">\&quot;success\&quot;:</span> <span class="pre">true,</span> <span class="pre">\&quot;message\&quot;:</span> <span class="pre">\&quot;Processed\&quot;</span> <span class="pre">}&quot;,</span> <span class="pre">&quot;headers&quot;:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;Content-Type&quot;:</span> <span class="pre">&quot;application/json&quot;</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">},</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;statusCode&quot;:</span> <span class="pre">200</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><em>Explanation:</em> Place this node in your workflow where you want to terminate and respond to the waiting webhook caller. After this node executes, n8n sends the specified response and will not wait for further nodes (downstream nodes won’t run). If you want to keep the workflow running</p>
<p><em>after</em> responding, use the option <strong>“respond and continue”</strong>. In most simple cases, you don’t need this node and can just let the workflow end with the desired output, but it’s useful for advanced control (e.g., send an immediate acknowledgment and then continue processing data in the background).</p>
<p><strong>Data Processing &amp; Logic Nodes</strong></p>
<p><strong>Code (Function) Node:</strong> The Code node (formerly the Function node) allows you to write custom JavaScript (and in recent versions, optionally Python) to manipulate data. It can operate on incoming items or generate new data. The JSON snippet for a Code node includes your code as a string in <code class="docutils literal notranslate"><span class="pre">functionCode</span></code>. For example, a code node that adds a new field to each item:<br />community.faros.ai</p>
<p>json</p>
<p>Copy</p>
<p><code class="docutils literal notranslate"><span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;name&quot;:</span> <span class="pre">&quot;Add</span> <span class="pre">Field&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;type&quot;:</span> <span class="pre">&quot;n8n-nodes-base.function&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;typeVersion&quot;:</span> <span class="pre">1,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;parameters&quot;:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;functionCode&quot;:</span> <span class="pre">&quot;for</span> <span class="pre">(const</span> <span class="pre">item</span> <span class="pre">of</span> <span class="pre">items)</span> <span class="pre">{\n</span> <span class="pre">item.json.newField</span> <span class="pre">=</span> <span class="pre">item.json.someField</span> <span class="pre">+</span> <span class="pre">100;\n}\nreturn</span> <span class="pre">items;&quot;</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><em>Explanation:</em> This JavaScript code loops through each input item (<code class="docutils literal notranslate"><span class="pre">items</span></code> is an array of objects <code class="docutils literal notranslate"><span class="pre">{</span> <span class="pre">json:</span> <span class="pre">{...},</span> <span class="pre">binary:</span> <span class="pre">{...}</span> <span class="pre">}</span></code>) and appends a new field. Here we set <code class="docutils literal notranslate"><span class="pre">newField</span></code> to <code class="docutils literal notranslate"><span class="pre">someField</span> <span class="pre">+</span> <span class="pre">100</span></code> as an example calculation. The node must <code class="docutils literal notranslate"><span class="pre">return</span> <span class="pre">items;</span></code> at the end. After this runs, downstream nodes see the modified items. You can log to the console or perform more complex transformations. If you set <strong>No Inputs</strong>, the code node can act as a data generator (e.g., create an array of objects from scratch). The Code node is extremely powerful for any logic not covered by other nodes. <em>(Note: n8n also supports a separate <strong>Code (Python)</strong> mode if enabled, where you can write Python code. In JSON, this would include <code class="docutils literal notranslate"><span class="pre">&quot;language&quot;:</span> <span class="pre">&quot;python&quot;</span></code> and the code in a similar field.)</em></p>
<p><strong>IF Node (Conditional):</strong> The IF node routes data based on conditions (true/false). It has two outputs: <em>true</em> (first output) and <em>false</em> (second output). In the JSON, you define <code class="docutils literal notranslate"><span class="pre">conditions</span></code>. You can compare numbers, strings, booleans, etc., and combine conditions with AND/OR (<code class="docutils literal notranslate"><span class="pre">combinator</span></code>). Here’s an example IF node that checks if the field <code class="docutils literal notranslate"><span class="pre">status</span></code> equals “success”:</p>
<p>community.n8n.io</p>
<p>community.n8n.io</p>
<p>json</p>
<p>Copy</p>
<p><code class="docutils literal notranslate"><span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;name&quot;:</span> <span class="pre">&quot;Check</span> <span class="pre">Status&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;type&quot;:</span> <span class="pre">&quot;n8n-nodes-base.if&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;typeVersion&quot;:</span> <span class="pre">2,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;parameters&quot;:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;conditions&quot;:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;conditions&quot;:</span> <span class="pre">[</span></code><br /><code class="docutils literal notranslate"><span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;leftValue&quot;:</span> <span class="pre">&quot;={{</span> <span class="pre">$json[\&quot;status\&quot;]</span> <span class="pre">}}&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;rightValue&quot;:</span> <span class="pre">&quot;success&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;operator&quot;:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;type&quot;:</span> <span class="pre">&quot;string&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;operation&quot;:</span> <span class="pre">&quot;equals&quot;</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">],</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;combinator&quot;:</span> <span class="pre">&quot;and&quot;</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><em>Explanation:</em> This IF node will output any incoming item to the <strong>true</strong> branch if the item’s JSON <code class="docutils literal notranslate"><span class="pre">status</span></code> field is the string “success”. All other items go to the <strong>false</strong> branch. The JSON structure under <code class="docutils literal notranslate"><span class="pre">parameters.conditions</span></code> can include multiple rules; here we have one rule comparing a string. <code class="docutils literal notranslate"><span class="pre">leftValue</span></code> uses an expression to pull the item’s <code class="docutils literal notranslate"><span class="pre">status</span></code>. We set the operator type to “string” and operation “equals”. The IF node supports other operations (e.g., <em>contains</em>, <em>greater</em>, <em>less</em>, <em>regex matches</em>, etc.) and data types (number, boolean, date, etc.). The <code class="docutils literal notranslate"><span class="pre">combinator</span></code> is used if you have multiple conditions – for example, you could set two conditions and use <code class="docutils literal notranslate"><span class="pre">&quot;combinator&quot;:</span> <span class="pre">&quot;and&quot;</span></code> to require both true. <strong>Important:</strong> The IF node does not filter out items entirely; it <em>routes</em> them. So items always go to either the true output or false output. If you want to stop items, you might follow with other logic (or use the IF in combination with the Merge node to filter, as described below).</p>
<p><strong>Switch Node (Multiple Routing):</strong> The Switch node is like a multi-IF or a switch/case statement. It lets you define multiple rules and up to … outputs. Each incoming item goes to the first matching output (or all matching, if configured), or to a fallback if no rule matches. For example, a Switch that routes based on a <code class="docutils literal notranslate"><span class="pre">category</span></code> field:</p>
<p>github.com</p>
<p>github.com</p>
<p>json</p>
<p>Copy</p>
<p><code class="docutils literal notranslate"><span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;name&quot;:</span> <span class="pre">&quot;Route</span> <span class="pre">by</span> <span class="pre">Category&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;type&quot;:</span> <span class="pre">&quot;n8n-nodes-base.switch&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;typeVersion&quot;:</span> <span class="pre">1,</span></code><br /><code class="docutils literal notranslate"><span class="pre">&quot;parameters&quot;:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;dataType&quot;:</span> <span class="pre">&quot;string&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;value1&quot;:</span> <span class="pre">&quot;={{</span> <span class="pre">$json[\&quot;category\&quot;]</span> <span class="pre">}}&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;rules&quot;:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;rules&quot;:</span> <span class="pre">[</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">{</span> <span class="pre">&quot;operation&quot;:</span> <span class="pre">&quot;equal&quot;,</span> <span class="pre">&quot;value2&quot;:</span> <span class="pre">&quot;support&quot;</span> <span class="pre">},</span> <span class="pre">//</span> <span class="pre">Output</span> <span class="pre">0</span> <span class="pre">if</span> <span class="pre">category</span> <span class="pre">==</span> <span class="pre">&quot;support&quot;</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">{</span> <span class="pre">&quot;operation&quot;:</span> <span class="pre">&quot;equal&quot;,</span> <span class="pre">&quot;value2&quot;:</span> <span class="pre">&quot;sales&quot;</span> <span class="pre">}</span> <span class="pre">//</span> <span class="pre">Output</span> <span class="pre">1</span> <span class="pre">if</span> <span class="pre">category</span> <span class="pre">==</span> <span class="pre">&quot;sales&quot;</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">]</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">},</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;fallbackOutput&quot;:</span> <span class="pre">2</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><em>Explanation:</em> This Switch node looks at the <code class="docutils literal notranslate"><span class="pre">category</span></code> value. If it equals “support”, the item goes out via output 0 (first output); if “sales”, via output 1; anything else falls through to output 2 (the fallback). We set <code class="docutils literal notranslate"><span class="pre">dataType:</span> <span class="pre">&quot;string&quot;</span></code> since we are comparing strings. The <code class="docutils literal notranslate"><span class="pre">rules</span></code> array defines two cases. <code class="docutils literal notranslate"><span class="pre">fallbackOutput:</span> <span class="pre">2</span></code> means we have configured a third output for “none of the above”. In the editor, you would set <strong>Number of Outputs</strong> to 3 in this case. You can add more rules for additional outputs. The operations can be equality, contains, greater than, etc., similar to IF. You can also switch on numbers, booleans, dates, or even use a JavaScript expression mode to direct items to an output index. The Switch node is useful for branching logic in workflows (e.g., handling different event types or categories differently).</p>
<p><strong>Set Node (Edit Fields):</strong> The Set node allows you to add, remove, or rename fields in the JSON data without coding. It’s often used to prepare or clean data. In JSON, you configure an <code class="docutils literal notranslate"><span class="pre">assignments</span></code> list for new values and you can toggle options to keep or delete other fields. Here’s an example that sets two new fields and keeps existing data:</p>
<p>community.n8n.io</p>
<p>community.n8n.io</p>
<p>json</p>
<p>Copy</p>
<p><code class="docutils literal notranslate"><span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;name&quot;:</span> <span class="pre">&quot;Set</span> <span class="pre">Fields&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;type&quot;:</span> <span class="pre">&quot;n8n-nodes-base.set&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;typeVersion&quot;:</span> <span class="pre">3,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;parameters&quot;:</span> <span class="pre">{</span></code><br /><code class="docutils literal notranslate"><span class="pre">&quot;keepOnlySet&quot;:</span> <span class="pre">false,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;values&quot;:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;number&quot;:</span> <span class="pre">[</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;name&quot;:</span> <span class="pre">&quot;year&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;value&quot;:</span> <span class="pre">2025</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">],</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;string&quot;:</span> <span class="pre">[</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;name&quot;:</span> <span class="pre">&quot;statusMessage&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;value&quot;:</span> <span class="pre">&quot;Processed</span> <span class="pre">by</span> <span class="pre">n8n&quot;</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">]</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><em>Explanation:</em> This Set node will add a numeric field <code class="docutils literal notranslate"><span class="pre">year</span></code> with value <code class="docutils literal notranslate"><span class="pre">2025</span></code> and a string field <code class="docutils literal notranslate"><span class="pre">statusMessage</span></code> with a static text. Because <code class="docutils literal notranslate"><span class="pre">keepOnlySet</span></code> is false, it will <strong>retain all existing fields</strong> from input items and just append these two. If <code class="docutils literal notranslate"><span class="pre">keepOnlySet</span></code> were true, the output would only have the fields we explicitly set (useful if you want to discard other data). The Set node can handle multiple data types (notice we used a number and a string; you could also set boolean, date, etc. using the respective sections). If you want to remove certain fields, you can use the <strong>Remove Fields</strong> option (in JSON, there’s a <code class="docutils literal notranslate"><span class="pre">options.removeFields</span></code> you could list). The Set node is handy for mapping data before sending to an API or after receiving data to simplify output.</p>
<p><strong>Merge Node:</strong> The Merge node takes two input streams and combines them. It can work in different modes: <strong>Append</strong> (just concatenates items), <strong>Wait</strong> (waits for both inputs then output together), <strong>Merge By Index</strong> (pair items one-to-one by their index), or <strong>Merge By Key</strong> (match</p>
<p>items from two inputs on a key value). The JSON structure will have <code class="docutils literal notranslate"><span class="pre">mode</span></code> and possibly a <code class="docutils literal notranslate"><span class="pre">propertyName</span></code> or <code class="docutils literal notranslate"><span class="pre">joinBy</span></code> depending on mode. Example of using Merge in “By Key” mode to join data from two sources on an <code class="docutils literal notranslate"><span class="pre">id</span></code> field:</p>
<p>json</p>
<p>Copy</p>
<p><code class="docutils literal notranslate"><span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;name&quot;:</span> <span class="pre">&quot;Merge</span> <span class="pre">on</span> <span class="pre">ID&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;type&quot;:</span> <span class="pre">&quot;n8n-nodes-base.merge&quot;,</span></code><br /><code class="docutils literal notranslate"><span class="pre">&quot;typeVersion&quot;:</span> <span class="pre">1,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;parameters&quot;:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;mode&quot;:</span> <span class="pre">&quot;mergeByKey&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;propertyName&quot;:</span> <span class="pre">&quot;id&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;outputDataFrom&quot;:</span> <span class="pre">&quot;both&quot;</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><em>Explanation:</em> This Merge is set to <strong>mergeByKey</strong> on the field <code class="docutils literal notranslate"><span class="pre">id</span></code>. It expects that each input has items with an <code class="docutils literal notranslate"><span class="pre">id</span></code> property. It will output a single stream of merged items: each output item combines the JSON from input1 and input2 where the <code class="docutils literal notranslate"><span class="pre">id</span></code> matched. The <code class="docutils literal notranslate"><span class="pre">outputDataFrom:</span> <span class="pre">&quot;both&quot;</span></code> means the output item will include fields from both inputs (you could also choose to output only data from one side, with the other just used to match). For using Merge, connect one node to Input 1 and another to Input 2 of this node. If an <code class="docutils literal notranslate"><span class="pre">id</span></code> from one side doesn’t find a match on the other, that item can be dropped or passed through depending on additional options (<code class="docutils literal notranslate"><span class="pre">options.outputMissing...</span></code>). Other modes: <strong>Append</strong> simply concatenates Input1 and Input2 items (one after the other), <strong>Wait</strong> will pause until both inputs have executed (then output both sets; useful to synchronize parallel branches), <strong>Merge By Index</strong> takes item 0 from Input1 with item 0 from Input2, item 1 with item 1, etc., combining their JSON (you’d typically only use that if both inputs are same length and order). The Merge node is crucial for more complex flows where data splits and needs to come back together.</p>
<p><strong>Item Lists (Aggregate) Node:</strong> The Item Lists node (previously called <strong>Aggregate</strong> in some contexts) helps manipulate arrays of items – for example, splitting an array into individual items or aggregating multiple items into one array. One common use is to <strong>split</strong> a single item that contains an array into separate items (each with one element of the array). Conversely, it can <strong>aggregate</strong> many items into a single array. A typical configuration for splitting might look like:</p>
<p>json</p>
<p>Copy</p>
<p><code class="docutils literal notranslate"><span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;name&quot;:</span> <span class="pre">&quot;Split</span> <span class="pre">Array&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;type&quot;:</span> <span class="pre">&quot;n8n-nodes-base.itemLists&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;typeVersion&quot;:</span> <span class="pre">1,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;parameters&quot;:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;operation&quot;:</span> <span class="pre">&quot;splitIntoItems&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;property&quot;:</span> <span class="pre">&quot;results&quot;</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code><br /><em>Explanation:</em> If an incoming item has a field <code class="docutils literal notranslate"><span class="pre">results</span></code> which is an array (e.g., from an HTTP response or a previous computation), this node will output each element of <code class="docutils literal notranslate"><span class="pre">results</span></code> as a separate n8n item. The <code class="docutils literal notranslate"><span class="pre">operation:</span> <span class="pre">&quot;splitIntoItems&quot;</span></code> and specifying the property to split on does this. The opposite can be done with <code class="docutils literal notranslate"><span class="pre">operation:</span> <span class="pre">&quot;aggregateItems&quot;</span></code> which can collect all input items’ data into a single array on one item (you specify how to aggregate, like collect all values of a field into an array). There are also other list operations (like removing duplicates, sorting items by a field, etc.). The Item Lists node is very useful for managing array data without writing code – for instance, splitting an API response that returned a list of records into individual items for further processing.</p>
<p><strong>Looping (Split/Batches):</strong> n8n doesn’t use traditional loops; instead, it processes multiple items in parallel through nodes. To explicitly loop a certain way, you can use the <strong>Split In Batches</strong> node (called “Loop Over Items” in UI). This node allows you to process items in batches and iterate. JSON example to process 10 items at a time:</p>
<p>json</p>
<p>Copy</p>
<p><code class="docutils literal notranslate"><span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;name&quot;:</span> <span class="pre">&quot;Batch</span> <span class="pre">Loop&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;type&quot;:</span> <span class="pre">&quot;n8n-nodes-base.splitInBatches&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;typeVersion&quot;:</span> <span class="pre">1,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;parameters&quot;:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;batchSize&quot;:</span> <span class="pre">10</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><em>Explanation:</em> Connect the <strong>SplitInBatches</strong> node in your flow where you want to throttle or loop through items. In the first run, it will pass the first 10 items forward and hold the rest. At the end of the loop (you must connect the last node in the loop back into the SplitInBatches node’s <strong>input2</strong>), the SplitInBatches node will send the next batch when triggered from that second input. This essentially creates a loop: after the last node, connect it back to the SplitInBatches (select “Execute Next Batch” input). This is advanced usage for scenarios where you need to avoid processing all items at once (e.g., rate limiting API calls or handling large lists chunk by chunk). The loop ends when no more items remain; you can detect that using a Run IF connected to the “No Items” output of SplitInBatches (or simply let the workflow end after no more batches).</p>
<p><strong>Error Handling (Try/Catch):</strong> For automation, you might want to handle errors gracefully. n8n has an <strong>Error Trigger</strong> node that can catch workflow errors globally, and a <strong>Continue On Fail</strong> option per node. While not a typical “node” to call programmatically, note that in the workflow JSON you can set <code class="docutils literal notranslate"><span class="pre">&quot;continueOnFail&quot;:</span> <span class="pre">true</span></code> on any node’s parameters to prevent a node failure from stopping the workflow. Additionally, you can use the <strong>Stop And Error</strong> node to<br />deliberately throw an error with a custom message (to, say, halt execution based on a condition and mark workflow as failed). A Stop And Error node JSON would look like:</p>
<p>json</p>
<p>Copy</p>
<p><code class="docutils literal notranslate"><span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;name&quot;:</span> <span class="pre">&quot;Stop</span> <span class="pre">on</span> <span class="pre">Condition&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;type&quot;:</span> <span class="pre">&quot;n8n-nodes-base.stopAndError&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;typeVersion&quot;:</span> <span class="pre">1,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;parameters&quot;:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;message&quot;:</span> <span class="pre">&quot;Terminating</span> <span class="pre">workflow</span> <span class="pre">due</span> <span class="pre">to</span> <span class="pre">business</span> <span class="pre">rule</span> <span class="pre">X&quot;</span> <span class="pre">}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p>If this node executes, it will stop the workflow and produce an error with the given message. Use it after an IF or other check if you want to gracefully stop when something isn’t right (instead of continuing). For catching errors, the <strong>Error Trigger</strong> is placed in a separate workflow; when any workflow errors, it can capture details and, for example, send an alert via email or Slack.</p>
<p><strong>Workflow Automation &amp; Triggers</strong></p>
<p><strong>Cron Trigger (Schedule):</strong> The Cron node (also called Schedule Trigger) starts workflows on time-based schedules. You can configure it to run at fixed times (every day at X, every week on Y, etc.) or at intervals. JSON configuration has a <code class="docutils literal notranslate"><span class="pre">triggerTimes</span></code> array. For example, to run every day at 9:00 AM and 5:00 PM:</p>
<p>community.n8n.io</p>
<p>github.com</p>
<p>json</p>
<p>Copy</p>
<p><code class="docutils literal notranslate"><span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;name&quot;:</span> <span class="pre">&quot;Daily</span> <span class="pre">Schedule&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;type&quot;:</span> <span class="pre">&quot;n8n-nodes-base.cron&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;typeVersion&quot;:</span> <span class="pre">1,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;parameters&quot;:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;triggerTimes&quot;:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;item&quot;:</span> <span class="pre">[</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">{</span> <span class="pre">&quot;hour&quot;:</span> <span class="pre">9,</span> <span class="pre">&quot;minute&quot;:</span> <span class="pre">0</span> <span class="pre">},</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">{</span> <span class="pre">&quot;hour&quot;:</span> <span class="pre">17,</span> <span class="pre">&quot;minute&quot;:</span> <span class="pre">0</span> <span class="pre">}</span></code><br /><code class="docutils literal notranslate"><span class="pre">]</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><em>Explanation:</em> This sets two trigger times (Cron will handle both). The first object is 9:00, second is 17:00 (5 PM). By default, if you only specify hour/minute, it runs every day at that time. You can add <code class="docutils literal notranslate"><span class="pre">&quot;weekday&quot;:</span> <span class="pre">[&quot;Monday&quot;,&quot;Tuesday&quot;,...]</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;dayOfMonth&quot;:</span> <span class="pre">[...]</span></code> to refine the schedule. Alternatively, Cron can be set in simple modes: <code class="docutils literal notranslate"><span class="pre">&quot;mode&quot;:</span> <span class="pre">&quot;everyMinute&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;mode&quot;:</span> <span class="pre">&quot;everyX&quot;</span></code> with a value and unit. For example, to trigger every 15 minutes: <code class="docutils literal notranslate"><span class="pre">{&quot;item&quot;:</span> <span class="pre">[</span> <span class="pre">{</span> <span class="pre">&quot;mode&quot;:</span> <span class="pre">&quot;everyX&quot;,</span> <span class="pre">&quot;value&quot;:</span> <span class="pre">15,</span> <span class="pre">&quot;unit&quot;:</span> <span class="pre">&quot;minutes&quot;</span> <span class="pre">}</span> <span class="pre">]</span> <span class="pre">}</span></code>. Cron triggers are great for daily reports, routine data syncs, etc. This node has no input; it simply fires on schedule and passes an empty item to start the workflow.</p>
<p><strong>Email Trigger (IMAP):</strong> The Email Trigger node watches an IMAP inbox for new emails. Configuration includes server, email credentials, search criteria, etc. In JSON, it appears with those details (which are mostly sensitive like host, port, etc., so we won’t list a full example here). Key fields: <code class="docutils literal notranslate"><span class="pre">&quot;mailbox&quot;:</span> <span class="pre">&quot;INBOX&quot;</span></code> (or label/folder), <code class="docutils literal notranslate"><span class="pre">&quot;criteria&quot;:</span> <span class="pre">&quot;UNSEEN&quot;</span></code> (to get unread emails), and your IMAP credentials reference. When triggered, the node outputs email data (subject, body, attachments as binary). Example snippet (with placeholders):</p>
<p>json</p>
<p>Copy</p>
<p><code class="docutils literal notranslate"><span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;name&quot;:</span> <span class="pre">&quot;Email</span> <span class="pre">Trigger&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;type&quot;:</span> <span class="pre">&quot;n8n-nodes-base.emailReadImap&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;typeVersion&quot;:</span> <span class="pre">1,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;parameters&quot;:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;mailbox&quot;:</span> <span class="pre">&quot;INBOX&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;postProcessAction&quot;:</span> <span class="pre">&quot;read&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;options&quot;:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;criteria&quot;:</span> <span class="pre">&quot;UNSEEN&quot;</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">},</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;credentials&quot;:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;imap&quot;:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;name&quot;:</span> <span class="pre">&quot;My</span> <span class="pre">Email</span> <span class="pre">Account&quot;</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code><br /><em>Explanation:</em> This checks the INBOX of the configured email account for unseen messages and marks them as read (<code class="docutils literal notranslate"><span class="pre">postProcessAction:</span> <span class="pre">&quot;read&quot;</span></code>). For each new email, it triggers the workflow with the email content. Use this for automations like parsing incoming support emails or lead notifications. You can combine it with an IF node to filter emails by subject, etc., and then route them (e.g., create tickets, send alerts, etc.).</p>
<p><strong>Manual Trigger:</strong> The Manual Trigger is simply a node to start the workflow by clicking “Execute Workflow” in the editor. It has no parameters in JSON beyond defaults. Example:</p>
<p>json</p>
<p>Copy</p>
<p><code class="docutils literal notranslate"><span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;name&quot;:</span> <span class="pre">&quot;Manual</span> <span class="pre">Trigger&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;type&quot;:</span> <span class="pre">&quot;n8n-nodes-base.manualTrigger&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;typeVersion&quot;:</span> <span class="pre">1,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;parameters&quot;:</span> <span class="pre">{}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><em>Explanation:</em> You typically wouldn’t include this in an exported workflow JSON if you plan to run it automatically, but it’s useful during development. It produces one empty item to kick off the flow.</p>
<p><strong>Workflow Trigger (Execute Workflow):</strong> n8n allows one workflow to call another. There are two nodes for this: <strong>Execute Workflow</strong> (in the caller workflow) and <strong>Workflow Trigger</strong> (in the callee workflow). In the sub-workflow that is being called, you use a <strong>Workflow Trigger</strong> node to receive the call (essentially acts like Webhook but internal). In the parent workflow, you use <strong>Execute Workflow</strong> to invoke. Example of an Execute Workflow node that calls a sub-workflow by ID and waits for result:</p>
<p>community.n8n.io</p>
<p>【50†L1432-L1440**</p>
<p>json</p>
<p>Copy</p>
<p><code class="docutils literal notranslate"><span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;name&quot;:</span> <span class="pre">&quot;Run</span> <span class="pre">Sub-workflow&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;type&quot;:</span> <span class="pre">&quot;n8n-nodes-base.executeWorkflow&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;typeVersion&quot;:</span> <span class="pre">1,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;parameters&quot;:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;workflowId&quot;:</span> <span class="pre">&quot;123&quot;,</span> <span class="pre">//</span> <span class="pre">The</span> <span class="pre">ID</span> <span class="pre">or</span> <span class="pre">name</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">workflow</span> <span class="pre">to</span> <span class="pre">execute</span></code><br /><code class="docutils literal notranslate"><span class="pre">&quot;waitForCompletion&quot;:</span> <span class="pre">true,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;inputs&quot;:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;inputData&quot;:</span> <span class="pre">&quot;={{</span> <span class="pre">$json[\&quot;data\&quot;]</span> <span class="pre">}}&quot;</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><em>Explanation:</em> This will execute the workflow with ID <code class="docutils literal notranslate"><span class="pre">123</span></code> (you can find a workflow’s ID in its URL or list). It passes an input field <code class="docutils literal notranslate"><span class="pre">inputData</span></code> to the sub-workflow (the sub-workflow’s <strong>Workflow Trigger</strong> node should be configured to accept that field). If <code class="docutils literal notranslate"><span class="pre">waitForCompletion</span></code> is true, the parent workflow pauses until the sub-workflow finishes, then resumes with whatever output the sub-workflow returned. If false, it triggers the other workflow and immediately continues (fire-and-forget mode). Use this to reuse common routines across workflows or to split complex processes. For instance, you might have a sub-workflow that takes data and writes to Google Sheets, which you can call from multiple other workflows instead of duplicating those nodes. <strong>Note:</strong> Ensure the sub-workflow has a <strong>Workflow Trigger</strong> node (which in JSON would simply be <code class="docutils literal notranslate"><span class="pre">&quot;type&quot;:</span> <span class="pre">&quot;n8n-nodes-base.workflowTrigger&quot;</span></code> with any defined input schema). The outputs of the sub-workflow become the output of the Execute Workflow node.</p>
<p><strong>External Hooks (n8n Trigger):</strong> There’s also an <strong>n8n Trigger</strong> node that can fire when certain events in n8n happen (like when a workflow is activated, or a user triggers it via API). For most users, this is less commonly used, but it’s good to know it exists for advanced orchestration.</p>
<p><strong>Notable Integrations (Apps &amp; Services)</strong></p>
<p><em>(Below are examples of popular third-party service nodes with JSON usage. Each of these nodes requires appropriate credentials (set up in n8n’s Credentials and referenced by name or ID in the JSON). The exact fields depend on the service’s API.</em>)</p>
<p><strong>Slack Node (Send Message):</strong> The Slack node lets you post messages, get info about channels, manage files, etc., through Slack’s API. A common operation is sending a channel message. For instance, to post a message to a channel:</p>
<p>community.faros.ai</p>
<p>community.faros.ai</p>
<p>json</p>
<p>Copy</p>
<p><code class="docutils literal notranslate"><span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;name&quot;:</span> <span class="pre">&quot;Send</span> <span class="pre">Slack</span> <span class="pre">Message&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;type&quot;:</span> <span class="pre">&quot;n8n-nodes-base.slack&quot;,</span></code><br /><code class="docutils literal notranslate"><span class="pre">&quot;typeVersion&quot;:</span> <span class="pre">1,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;parameters&quot;:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;resource&quot;:</span> <span class="pre">&quot;message&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;operation&quot;:</span> <span class="pre">&quot;send&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;channel&quot;:</span> <span class="pre">&quot;C01234567&quot;,</span> <span class="pre">//</span> <span class="pre">channel</span> <span class="pre">ID</span> <span class="pre">or</span> <span class="pre">name</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;text&quot;:</span> <span class="pre">&quot;Hello</span> <span class="pre">from</span> <span class="pre">n8n</span> <span class="pre">:tada:&quot;</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">},</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;credentials&quot;:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;slackApi&quot;:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;name&quot;:</span> <span class="pre">&quot;Slack</span> <span class="pre">OAuth2&quot;</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><em>Explanation:</em> This will send the text “Hello from n8n ��” to the specified Slack channel. We chose <code class="docutils literal notranslate"><span class="pre">resource:</span> <span class="pre">&quot;message&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">operation:</span> <span class="pre">&quot;send&quot;</span></code>. Slack nodes often have multiple resources like message, channel, etc. The channel can be the Slack channel ID or name (if using name, ensure the credential has proper scopes to find it). The <code class="docutils literal notranslate"><span class="pre">credentials</span></code> points to a Slack OAuth2 credential (with scopes like <code class="docutils literal notranslate"><span class="pre">chat:write</span></code> etc. as needed</p>
<p>community.faros.ai</p>
<p>). If you want to use blocks or attachments, the Slack node allows a JSON mode for those fields (<code class="docutils literal notranslate"><span class="pre">jsonParameters:</span> <span class="pre">true</span></code> and provide a JSON object for attachments or blocks). The output of this node will typically include the Slack message ID and timestamp if successful. You can also use <strong>Slack Trigger</strong> node (not shown here) to listen for Slack events if you set up a Slack app webhook – useful for reactive workflows (e.g., respond when a message is posted).</p>
<p><strong>Google Sheets Node:</strong> This node integrates with Google Sheets to read or write spreadsheet data. Operations include: <em>Read rows</em>, <em>Append row</em>, <em>Update row</em>, <em>Delete row</em>, <em>Lookup</em> etc. You must have Google Sheets credentials (OAuth2) set up. Here’s an example to <strong>append a new row</strong> of data to a sheet:</p>
<p>github.com</p>
<p>github.com</p>
<p>json</p>
<p>Copy</p>
<p><code class="docutils literal notranslate"><span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;name&quot;:</span> <span class="pre">&quot;Append</span> <span class="pre">to</span> <span class="pre">Sheet&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;type&quot;:</span> <span class="pre">&quot;n8n-nodes-base.googleSheets&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;typeVersion&quot;:</span> <span class="pre">4,</span></code><br /><code class="docutils literal notranslate"><span class="pre">&quot;parameters&quot;:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;operation&quot;:</span> <span class="pre">&quot;append&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;spreadsheetId&quot;:</span> <span class="pre">&quot;1A2b3C4D5E6FgHiJkLMnoPQrstu&quot;,</span> <span class="pre">//</span> <span class="pre">Google</span> <span class="pre">Sheet</span> <span class="pre">document</span> <span class="pre">ID</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;sheetName&quot;:</span> <span class="pre">&quot;Sheet1&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;dataMode&quot;:</span> <span class="pre">&quot;autoMap&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;options&quot;:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;valueInputMode&quot;:</span> <span class="pre">&quot;USER_ENTERED&quot;</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">//</span> <span class="pre">When</span> <span class="pre">dataMode</span> <span class="pre">is</span> <span class="pre">autoMap,</span> <span class="pre">no</span> <span class="pre">need</span> <span class="pre">to</span> <span class="pre">specify</span> <span class="pre">values</span> <span class="pre">here;</span> <span class="pre">//</span> <span class="pre">it</span> <span class="pre">will</span> <span class="pre">take</span> <span class="pre">incoming</span> <span class="pre">item</span> <span class="pre">fields</span> <span class="pre">matching</span> <span class="pre">column</span> <span class="pre">names.</span> <span class="pre">},</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;credentials&quot;:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;googleSheetsOAuth2Api&quot;:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;name&quot;:</span> <span class="pre">&quot;Google</span> <span class="pre">Sheets</span> <span class="pre">OAuth2&quot;</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><em>Explanation:</em> This is configured to append a new row to the sheet named “Sheet1” in the Google Sheets document with the given ID. We used <code class="docutils literal notranslate"><span class="pre">dataMode:</span> <span class="pre">&quot;autoMap&quot;</span></code>, which means the node will automatically map incoming fields to columns with the same header name. For example, if the incoming items have JSON like <code class="docutils literal notranslate"><span class="pre">{</span> <span class="pre">&quot;Name&quot;:</span> <span class="pre">&quot;Alice&quot;,</span> <span class="pre">&quot;Email&quot;:</span> <span class="pre">&quot;alice&#64;example.com&quot;</span> <span class="pre">}</span></code>, and the Google Sheet has columns “Name” and “Email”, those values will be placed accordingly. <code class="docutils literal notranslate"><span class="pre">valueInputMode:</span> <span class="pre">&quot;USER_ENTERED&quot;</span></code> tells Google Sheets to treat the input as if a user typed it (so formulas in cells will recalc, etc.). If you wanted to explicitly map fields, you could use <code class="docutils literal notranslate"><span class="pre">dataMode:</span> <span class="pre">&quot;define&quot;</span></code> and then provide a list of fields to send. For reading data, the <strong>Get Many</strong> (or <code class="docutils literal notranslate"><span class="pre">operation:</span> <span class="pre">&quot;getAll&quot;</span></code>) would require a range (e.g., “Sheet1!A:D”) and returns an array of rows. The Google Sheets node is powerful for both exporting data from n8n to spreadsheets and importing data from spreadsheets into n8n for further processing.</p>
<p><strong>Notion Node:</strong> The Notion node connects to Notion’s API, allowing you to create or update pages in a database, retrieve database items, or append content to pages. For example, to <strong>query a Notion database</strong> for pages that match a filter, you might use the <em>Database Page: Get All</em> operation with a filter condition:</p>
<p>community.n8n.io</p>
<p>community.n8n.io<br />json</p>
<p>Copy</p>
<p><code class="docutils literal notranslate"><span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;name&quot;:</span> <span class="pre">&quot;Query</span> <span class="pre">Notion</span> <span class="pre">DB&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;type&quot;:</span> <span class="pre">&quot;n8n-nodes-base.notion&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;typeVersion&quot;:</span> <span class="pre">2,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;parameters&quot;:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;resource&quot;:</span> <span class="pre">&quot;databasePage&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;operation&quot;:</span> <span class="pre">&quot;getAll&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;databaseId&quot;:</span> <span class="pre">&quot;YOUR_NOTION_DATABASE_ID&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;options&quot;:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;filter&quot;:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;singleCondition&quot;:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;key&quot;:</span> <span class="pre">&quot;Email|email&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;condition&quot;:</span> <span class="pre">&quot;equals&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;emailValue&quot;:</span> <span class="pre">&quot;={{</span> <span class="pre">$json[\&quot;email\&quot;]</span> <span class="pre">}}&quot;</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">},</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;credentials&quot;:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;notionApi&quot;:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;name&quot;:</span> <span class="pre">&quot;Notion</span> <span class="pre">API&quot;</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><em>Explanation:</em> This will fetch all pages from the specified Notion database where the Email property equals the <code class="docutils literal notranslate"><span class="pre">$json[&quot;email&quot;]</span></code> value from the previous node. In Notion’s API, filters can be complex; here we used a simple single-condition filter on an Email property. The <code class="docutils literal notranslate"><span class="pre">key</span></code> is formatted as <code class="docutils literal notranslate"><span class="pre">PropertyName|propertyType</span></code> in the node (the Notion node needs the property type to format the filter correctly, hence “Email|email”). The Notion node supports creating pages (you’d specify properties to set), updating pages, searching, etc. For a <strong>Create</strong> example, you’d use <code class="docutils literal notranslate"><span class="pre">operation:</span> <span class="pre">&quot;create&quot;</span></code> with a <code class="docutils literal notranslate"><span class="pre">pageId</span></code> (if adding to a page) or <code class="docutils literal notranslate"><span class="pre">databaseId</span></code> (if adding to a database) and provide the properties object. e.g., for a database, <code class="docutils literal notranslate"><span class="pre">properties:</span> <span class="pre">{</span> <span class="pre">&quot;Name&quot;:</span> <span class="pre">{&quot;title&quot;:</span> <span class="pre">[{&quot;text&quot;:</span> <span class="pre">{&quot;content&quot;:</span> <span class="pre">&quot;New</span> <span class="pre">Item&quot;}}]},</span> <span class="pre">&quot;Status&quot;:</span> <span class="pre">{&quot;select&quot;:</span> <span class="pre">{&quot;name&quot;:</span> <span class="pre">&quot;Done&quot;}}</span> <span class="pre">}</span></code>. The structure follows Notion API JSON. The node simplifies some of this, but often you use the <strong>No Code</strong> approach to set fields via UI. When working programmatically, referencing Notion’s API docs for exact JSON of properties is helpful. The<br />output of a Notion node will be the JSON representation of the Notion page or database entries retrieved. Use this integration to automate adding meeting notes, updating task statuses, or generating dashboards in Notion.</p>
<p><strong>GitHub Node:</strong> This node allows interactions with GitHub, such as creating issues, retrieving commits, managing repositories, etc. As an example, to <strong>create a new issue</strong> in a GitHub repository:</p>
<p>json</p>
<p>Copy</p>
<p><code class="docutils literal notranslate"><span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;name&quot;:</span> <span class="pre">&quot;Create</span> <span class="pre">GitHub</span> <span class="pre">Issue&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;type&quot;:</span> <span class="pre">&quot;n8n-nodes-base.github&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;typeVersion&quot;:</span> <span class="pre">1,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;parameters&quot;:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;resource&quot;:</span> <span class="pre">&quot;issue&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;operation&quot;:</span> <span class="pre">&quot;create&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;owner&quot;:</span> <span class="pre">&quot;octocat&quot;,</span> <span class="pre">//</span> <span class="pre">GitHub</span> <span class="pre">username</span> <span class="pre">or</span> <span class="pre">org</span> <span class="pre">&quot;repository&quot;:</span> <span class="pre">&quot;Hello-World&quot;,</span> <span class="pre">//</span> <span class="pre">Repo</span> <span class="pre">name</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;title&quot;:</span> <span class="pre">&quot;Automated</span> <span class="pre">Issue</span> <span class="pre">from</span> <span class="pre">n8n&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;body&quot;:</span> <span class="pre">&quot;This</span> <span class="pre">issue</span> <span class="pre">was</span> <span class="pre">created</span> <span class="pre">by</span> <span class="pre">an</span> <span class="pre">n8n</span> <span class="pre">workflow.&quot;</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">},</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;credentials&quot;:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;githubApi&quot;:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;name&quot;:</span> <span class="pre">&quot;GitHub</span> <span class="pre">personal</span> <span class="pre">access</span> <span class="pre">token&quot;</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><em>Explanation:</em> This uses the GitHub node to create an issue in the <code class="docutils literal notranslate"><span class="pre">octocat/Hello-World</span></code> repository. The <code class="docutils literal notranslate"><span class="pre">githubApi</span></code> credential should be a Personal Access Token with repo permissions (or OAuth app token). The node could also update or read issues (different operations), list commits (<code class="docutils literal notranslate"><span class="pre">resource:</span> <span class="pre">&quot;repository&quot;,</span> <span class="pre">operation:</span> <span class="pre">&quot;getCommits&quot;</span></code> for example), manage pull requests, etc. The output for create operations usually contains the data of the created object (issue details including its number, URL, etc.). This is useful for automation like logging errors or TODOs as GitHub issues, or posting deployment notes to a repo.</p>
<p><strong>Database Nodes (MySQL, Postgres, etc.):</strong> n8n includes nodes for popular databases like MySQL, PostgreSQL, MSSQL, etc. These nodes let you run queries or operations (select/insert/update). A common usage is to run a custom SQL query. For instance, using the MySQL node to execute a query:<br />community.n8n.io</p>
<p>json</p>
<p>Copy</p>
<p><code class="docutils literal notranslate"><span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;name&quot;:</span> <span class="pre">&quot;MySQL</span> <span class="pre">Query&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;type&quot;:</span> <span class="pre">&quot;n8n-nodes-base.mySql&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;typeVersion&quot;:</span> <span class="pre">2,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;parameters&quot;:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;operation&quot;:</span> <span class="pre">&quot;executeQuery&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;query&quot;:</span> <span class="pre">&quot;SELECT</span> <span class="pre">*</span> <span class="pre">FROM</span> <span class="pre">users</span> <span class="pre">WHERE</span> <span class="pre">id</span> <span class="pre">=</span> <span class="pre">{{</span> <span class="pre">$json[\&quot;user_id\&quot;]</span> <span class="pre">}}&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;additionalFields&quot;:</span> <span class="pre">{}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">},</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;credentials&quot;:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;mySql&quot;:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;name&quot;:</span> <span class="pre">&quot;My</span> <span class="pre">MySQL</span> <span class="pre">DB&quot;</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><em>Explanation:</em> This will run the given SQL query on the connected MySQL database (using the credentials named “My MySQL DB”). We used an expression to inject an incoming <code class="docutils literal notranslate"><span class="pre">user_id</span></code> into the query. The result will be returned as items (each row as an item with columns as fields). You could also use <code class="docutils literal notranslate"><span class="pre">operation:</span> <span class="pre">insert</span></code> and specify table and column data in a structured way, but often raw SQL (with <code class="docutils literal notranslate"><span class="pre">executeQuery</span></code> or <code class="docutils literal notranslate"><span class="pre">execute</span></code>) is simplest for complex operations. Make sure your queries are safe (if using expressions, ensure they are sanitized or not directly from user input to avoid SQL injection). For PostgreSQL, the node is similar (just type is <code class="docutils literal notranslate"><span class="pre">postgres</span></code> and credentials type is <code class="docutils literal notranslate"><span class="pre">postgreSql</span></code>). These nodes allow you to integrate your workflow with existing databases for reading or writing data, essentially making n8n a part of your data pipeline.</p>
<p><strong>Other Integrations:</strong> n8n has <strong>500+ nodes</strong> for various services. Some other notable ones:</p>
<p>● <strong>AWS S3</strong> (and other AWS services via dedicated nodes): e.g., S3 node can upload or download files.</p>
<p>● <strong>Google Drive</strong>: for file operations (upload, download, list files).</p>
<p>● <strong>Email Send (SMTP)</strong>: to send emails via SMTP or services like SendGrid. ● <strong>Twilio</strong>: send SMS or WhatsApp messages via Twilio.</p>
<p>● <strong>Stripe</strong>: create customers, process payments or react to Stripe events (Stripe Trigger).<br />● <strong>Webhook (service-specific)</strong>: Many services have trigger nodes (e.g., Stripe Trigger, GitHub Trigger, Slack Trigger) that listen to incoming webhooks from those services without you manually setting up the Webhook node.</p>
<p>● <strong>Jira, Trello, Asana</strong>: project management nodes to create/update tasks. ● <strong>HubSpot, Salesforce</strong>: CRM nodes to manage contacts, deals, etc.</p>
<p>● <strong>CSV &amp; XML</strong>: nodes to parse or write CSV/XML, useful when dealing with file data. ● <strong>HTTP Webhook (outgoing)</strong>: If you need to call an external webhook, just use the HTTP node (as shown) or the specific integration if available.</p>
<p>For any specific service node, the pattern is: <strong>resource</strong> (what entity you’re dealing with), <strong>operation</strong> (action to perform), and then fields for that operation (often mapping closely to the service’s API fields). The best way to build these is often to configure the node in n8n’s editor and then copy the JSON (via workflow export) as a reference.</p>
<p><strong>Usage Tips:</strong></p>
<p>● <strong>Expressions:</strong> In the JSON above, you see a lot of <code class="docutils literal notranslate"><span class="pre">={{</span> <span class="pre">$json[&quot;...&quot;]</span> <span class="pre">}}</span></code>. These are n8n expressions that pull data from previous nodes. In code, ensure they are wrapped in double curly braces inside the JSON string. At runtime, n8n evaluates them. You can also use <code class="docutils literal notranslate"><span class="pre">$node[&quot;NodeName&quot;].json[&quot;field&quot;]</span></code> to reference a specific node’s output, or <code class="docutils literal notranslate"><span class="pre">$items()</span></code> to reference multiple items.</p>
<p>● <strong>Credentials:</strong> The <code class="docutils literal notranslate"><span class="pre">&quot;credentials&quot;</span></code> section in each node’s JSON links to stored creds. In exports, they may appear as <code class="docutils literal notranslate"><span class="pre">{</span> <span class="pre">&quot;id&quot;:</span> <span class="pre">&quot;some-id&quot;,</span> <span class="pre">&quot;name&quot;:</span> <span class="pre">&quot;Credential</span> <span class="pre">Name&quot;</span> <span class="pre">}</span></code> or just the name. When programmatically creating workflows via the API, you might only need to set the credential name (if it’s unique) or the ID. Always ensure the credential exists in n8n beforehand.</p>
<p>● <strong>Node IDs and Position:</strong> You might notice <code class="docutils literal notranslate"><span class="pre">id</span></code> and <code class="docutils literal notranslate"><span class="pre">position</span></code> in examples from exports community.faros.ai<br />. These are not necessary when writing a cheat sheet, but in actual workflow JSON they place the node in the editor. They can be omitted if focusing only on the nodes’ functional config.</p>
<p><strong>Connecting Nodes:</strong> In the workflow JSON, there’s a <code class="docutils literal notranslate"><span class="pre">&quot;connections&quot;</span></code> object that links node outputs to inputs. In this cheat sheet, we show individual nodes. When building a workflow programmatically, you’ll need to construct that connections object. For example, to connect <em>Cron -&gt; GraphQL -&gt; Function -&gt; Slack</em> as in our Slack reminder example, the JSON had:</p>
<p>json<br />Copy</p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;connections&quot;:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;Cron&quot;:</span> <span class="pre">{</span> <span class="pre">&quot;main&quot;:</span> <span class="pre">[</span> <span class="pre">[</span> <span class="pre">{</span> <span class="pre">&quot;node&quot;:</span> <span class="pre">&quot;GraphQL&quot;,</span> <span class="pre">&quot;type&quot;:</span> <span class="pre">&quot;main&quot;,</span> <span class="pre">&quot;index&quot;:</span> <span class="pre">0</span> <span class="pre">}</span> <span class="pre">]</span> <span class="pre">]</span> <span class="pre">},</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;GraphQL&quot;:</span> <span class="pre">{</span> <span class="pre">&quot;main&quot;:</span> <span class="pre">[</span> <span class="pre">[</span> <span class="pre">{</span> <span class="pre">&quot;node&quot;:</span> <span class="pre">&quot;Summarize&quot;,</span> <span class="pre">&quot;type&quot;:</span> <span class="pre">&quot;main&quot;,</span> <span class="pre">&quot;index&quot;:</span> <span class="pre">0</span> <span class="pre">}</span> <span class="pre">]</span> <span class="pre">]</span> <span class="pre">},</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;Summarize&quot;:</span> <span class="pre">{</span> <span class="pre">&quot;main&quot;:</span> <span class="pre">[</span> <span class="pre">[</span> <span class="pre">{</span> <span class="pre">&quot;node&quot;:</span> <span class="pre">&quot;Slack&quot;,</span> <span class="pre">&quot;type&quot;:</span> <span class="pre">&quot;main&quot;,</span> <span class="pre">&quot;index&quot;:</span> <span class="pre">0</span> <span class="pre">}</span> <span class="pre">]</span> <span class="pre">]</span> <span class="pre">}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p>● This indicates Cron’s output connects to GraphQL’s input, etc.</p>
<p>community.faros.ai</p>
<p>community.faros.ai</p>
<p>. If creating workflows via the API, you will formulate a similar structure.</p>
<p>● <strong>Testing and Iteration:</strong> Start with simple nodes (Manual Trigger -&gt; one node -&gt; output) to ensure your JSON is correct, then expand. You can import JSON in n8n via <em>Workflow -&gt; Import from JSON</em> to verify it visually.</p>
<p>This cheat sheet covered major categories and popular nodes (AI, webhooks, integrations, data processing). With these examples, you can mix and match to automate a vast array of workflows in n8n. Happy automating!</p>
<p><strong>Ultimate N8n Automation Cheat Sheet: Comprehensive Guide to Node Configuration and JSON Usage</strong></p>
<p>The following guide offers a detailed exploration of N8n automation capabilities, with special focus on JSON snippets for various node configurations. This cheat sheet serves as a comprehensive resource for both beginners and advanced users looking to leverage the full power of N8n’s workflow automation platform.</p>
<p>Understanding N8n’s Data Structure<br />N8n passes data between nodes as an array of objects, following a specific structure that’s crucial to understand for effective workflow creation. All data in N8n follows this fundamental pattern10:</p>
<p>json</p>
<p><code class="docutils literal notranslate"><span class="pre">[</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;json&quot;:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;property1&quot;:</span> <span class="pre">&quot;value1&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;property2&quot;:</span> <span class="pre">&quot;value2&quot;</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">},</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;binary&quot;:</span> <span class="pre">{}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">},</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;json&quot;:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;property1&quot;:</span> <span class="pre">&quot;anotherValue1&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;property2&quot;:</span> <span class="pre">&quot;anotherValue2&quot;</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">},</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;binary&quot;:</span> <span class="pre">{}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">]</span></code></p>
<p>Each entry in this array is called an “item” and nodes process each item individually. This structure enables parallel processing of multiple data pieces through your workflow10. From version 0.166.0 onward, when using Function or Code nodes, N8n automatically adds the json key if it’s missing and wraps items in an array if needed10.</p>
<p><strong>Working with N8n’s JSON Data</strong></p>
<p>When manipulating data in N8n, you’ll frequently need to access properties from previous nodes. You can use expressions to do this:<br />text</p>
<p><code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">$json.property1</span> <span class="pre">}}</span></code></p>
<p>For deeper nested properties:</p>
<p>text</p>
<p><code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">$json.parent.child.property</span> <span class="pre">}}</span></code><br />To access data from a specific previous node:</p>
<p>text</p>
<p><code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">$node[&quot;NodeName&quot;].json.property</span> <span class="pre">}}</span></code></p>
<p>Edit Fields (Set) Node Configuration</p>
<p>The Edit Fields node is essential for manipulating workflow data. It allows you to set new data and overwrite existing data1.</p>
<p><strong>Manual Mapping Mode</strong></p>
<p>json</p>
<p><code class="docutils literal notranslate"><span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;newField&quot;:</span> <span class="pre">&quot;{{</span> <span class="pre">$json.existingField</span> <span class="pre">}}&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;combinedField&quot;:</span> <span class="pre">&quot;{{</span> <span class="pre">$json.firstName</span> <span class="pre">}}</span> <span class="pre">{{</span> <span class="pre">$json.lastName</span> <span class="pre">}}&quot;,</span>&#160; <span class="pre">&quot;staticField&quot;:</span> <span class="pre">&quot;This</span> <span class="pre">is</span> <span class="pre">a</span> <span class="pre">static</span> <span class="pre">value&quot;</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><strong>JSON Output Mode</strong></p>
<p>json</p>
<p><code class="docutils literal notranslate"><span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;mode&quot;:</span> <span class="pre">&quot;jsonOutput&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;jsonOutput&quot;:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;newField&quot;:</span> <span class="pre">&quot;{{</span> <span class="pre">$json.existingField</span> <span class="pre">}}&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;processedData&quot;:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;id&quot;:</span> <span class="pre">&quot;{{</span> <span class="pre">$json.id</span> <span class="pre">}}&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;timestamp&quot;:</span> <span class="pre">&quot;{{</span> <span class="pre">$now</span> <span class="pre">}}&quot;</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><strong>Dot Notation Support</strong><br />By default, N8n supports dot notation in field names. Setting a name as number.one with value 20 produces:<br />json</p>
<p><code class="docutils literal notranslate"><span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;number&quot;:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;one&quot;:</span> <span class="pre">20</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p>To disable this behavior, select Add Option &gt; Support Dot Notation and set it to off1.</p>
<p>Code Node Implementation</p>
<p>The Code node provides powerful ways to transform data programmatically. It offers two operational modes16:</p>
<p><strong>Run Once for All Items</strong></p>
<p>This processes all incoming data at once, useful for operations on multiple items: javascript</p>
<p><em><code class="docutils literal notranslate"><span class="pre">//</span> <span class="pre">Example:</span> <span class="pre">Get</span> <span class="pre">Array</span> <span class="pre">from</span> <span class="pre">Object</span></code></em></p>
<p><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">newItems</span> <span class="pre">=</span> <span class="pre">[];</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">inputData</span> <span class="pre">=</span> <span class="pre">$input.all().json;</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">for</span> <span class="pre">(const</span> <span class="pre">item</span> <span class="pre">of</span> <span class="pre">inputData)</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">newItems.push({</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">json:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">modifiedData:</span> <span class="pre">item.originalData,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">timestamp:</span> <span class="pre">new</span> <span class="pre">Date().toISOString()</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">});</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">return</span> <span class="pre">newItems;</span></code></p>
<p><strong>Run Once for Each Item</strong><br />This processes each item individually:</p>
<p>javascript</p>
<p><em><code class="docutils literal notranslate"><span class="pre">//</span> <span class="pre">Example:</span> <span class="pre">Transform</span> <span class="pre">single</span> <span class="pre">item</span></code></em></p>
<p><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">item</span> <span class="pre">=</span> <span class="pre">$json;</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">item.processed</span> <span class="pre">=</span> <span class="pre">true;</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">item.modifiedAt</span> <span class="pre">=</span> <span class="pre">new</span> <span class="pre">Date().toISOString();</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">return</span> <span class="pre">{</span> <span class="pre">json:</span> <span class="pre">item</span> <span class="pre">};</span></code></p>
<p><strong>Splitting JSON into Separate Items</strong></p>
<p>A common task is splitting nested JSON into individual items:</p>
<p>javascript</p>
<p><em><code class="docutils literal notranslate"><span class="pre">//</span> <span class="pre">Split</span> <span class="pre">incoming</span> <span class="pre">webhook</span> <span class="pre">data</span> <span class="pre">into</span> <span class="pre">separate</span> <span class="pre">items</span></code></em> <code class="docutils literal notranslate"><span class="pre">let</span> <span class="pre">results</span> <span class="pre">=</span> <span class="pre">[];</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">for</span> <span class="pre">(const</span> <span class="pre">item</span> <span class="pre">of</span> <span class="pre">$('Webhook').all())</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">students</span> <span class="pre">=</span> <span class="pre">item.json.body.students;</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">for</span> <span class="pre">(studentKey</span> <span class="pre">of</span> <span class="pre">Object.keys(students))</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">results.push({</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">json:</span> <span class="pre">students[studentKey]</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">});</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">return</span> <span class="pre">results;</span></code></p>
<p>Using Expressions in N8n</p>
<p>Expressions allow dynamic parameter setting based on data from previous nodes, the workflow, or your environment7.</p>
<p><strong>Basic Expression Syntax</strong></p>
<p>All expressions have the format {{ your expression here }}7.</p>
<p><strong>Accessing Data from Previous Nodes</strong></p>
<p>To get data from a webhook body7:<br />text</p>
<p><code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">$json.city</span> <span class="pre">}}</span></code></p>
<p>This accesses the incoming JSON data using N8n’s $json variable and finds the value of the city property.</p>
<p>AI Agent Node Configuration</p>
<p>The AI Agent node brings powerful AI capabilities to N8n workflows. It provides six LangChain agent options3:</p>
<p><strong>Tools Agent (Default)</strong></p>
<p>This agent uses external tools and APIs to perform actions and retrieve information3. JSON configuration example:<br />json</p>
<p><code class="docutils literal notranslate"><span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;agent&quot;:</span> <span class="pre">&quot;tools&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;model&quot;:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;provider&quot;:</span> <span class="pre">&quot;openai&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;model&quot;:</span> <span class="pre">&quot;gpt-4&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;temperature&quot;:</span> <span class="pre">0.7</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">},</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;systemMessage&quot;:</span> <span class="pre">&quot;You</span> <span class="pre">are</span> <span class="pre">a</span> <span class="pre">helpful</span> <span class="pre">assistant</span> <span class="pre">that</span> <span class="pre">uses</span> <span class="pre">tools</span> <span class="pre">to</span> <span class="pre">find</span> <span class="pre">information</span> <span class="pre">and</span> <span class="pre">accomplish</span> <span class="pre">tasks.&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;memory&quot;:</span> <span class="pre">true,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;verbose&quot;:</span> <span class="pre">true</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><strong>Conversational Agent</strong></p>
<p>This agent maintains context, understands user intent, and provides relevant answers. Ideal for chatbots and virtual assistants3:</p>
<p>json</p>
<p><code class="docutils literal notranslate"><span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;agent&quot;:</span> <span class="pre">&quot;conversational&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;model&quot;:</span> <span class="pre">{</span></code><br /><code class="docutils literal notranslate"><span class="pre">&quot;provider&quot;:</span> <span class="pre">&quot;openai&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;model&quot;:</span> <span class="pre">&quot;gpt-3.5-turbo&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;temperature&quot;:</span> <span class="pre">0.8</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">},</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;systemMessage&quot;:</span> <span class="pre">&quot;You</span> <span class="pre">are</span> <span class="pre">a</span> <span class="pre">helpful</span> <span class="pre">customer</span> <span class="pre">service</span> <span class="pre">agent</span> <span class="pre">for</span> <span class="pre">our</span> <span class="pre">company.&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;memory&quot;:</span> <span class="pre">true</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><strong>Building an AI Agent with Memory</strong></p>
<p>To create an AI agent with long-term memory12:</p>
<p>json</p>
<p><code class="docutils literal notranslate"><span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;agent&quot;:</span> <span class="pre">&quot;tools&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;model&quot;:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;provider&quot;:</span> <span class="pre">&quot;openai&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;model&quot;:</span> <span class="pre">&quot;gpt-4&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;temperature&quot;:</span> <span class="pre">0.7</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">},</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;systemMessage&quot;:</span> <span class="pre">&quot;You</span> <span class="pre">are</span> <span class="pre">an</span> <span class="pre">assistant</span> <span class="pre">with</span> <span class="pre">memory</span> <span class="pre">capabilities.</span> <span class="pre">Use</span> <span class="pre">your</span> <span class="pre">tools</span> <span class="pre">to</span> <span class="pre">remember</span> <span class="pre">important</span> <span class="pre">information</span> <span class="pre">from</span> <span class="pre">our</span> <span class="pre">conversations.&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;memory&quot;:</span> <span class="pre">true,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;tools&quot;:</span> <span class="pre">[&quot;memory-add&quot;,</span> <span class="pre">&quot;memory-retrieve&quot;]</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p>Exporting and Importing Workflows</p>
<p>N8n saves workflows in JSON format, allowing for easy sharing and reuse9.</p>
<p><strong>Copy-Paste Method</strong></p>
<p>You can copy part or all of a workflow using standard keyboard shortcuts (Ctrl+C/Cmd+C and Ctrl+V/Cmd+V)9.<br /><strong>Importing JSON Workflows</strong></p>
<p>To import a JSON workflow from an external source2:</p>
<p>1. Create a new workflow in N8n</p>
<p>2. Copy the JSON script</p>
<p>3. Paste it directly into the workflow editor using Ctrl+V/Cmd+V 4. Connect any required accounts</p>
<p>5. Customize as needed</p>
<p>6. Save the workflow</p>
<p>Looping Through JSON Data</p>
<p>Working with arrays of JSON objects is common in N8n17:</p>
<p><strong>Using Item Lists Node</strong></p>
<p>To split an array from incoming data:</p>
<p>text</p>
<p><code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">$json.body.block</span> <span class="pre">}}</span></code></p>
<p>This splits each block into separate items that can be processed individually17.</p>
<p>Tools and Converters</p>
<p>N8n provides several conversion tools5:</p>
<p><strong>XML to JSON Converter</strong></p>
<p>json</p>
<p><code class="docutils literal notranslate"><span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;operation&quot;:</span> <span class="pre">&quot;convert&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;source&quot;:</span> <span class="pre">&quot;xml&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;target&quot;:</span> <span class="pre">&quot;json&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;data&quot;:</span> <span class="pre">&quot;{{</span> <span class="pre">$json.xmlData</span> <span class="pre">}}&quot;</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code><br /><strong>CSV to JSON Converter</strong></p>
<p>json</p>
<p><code class="docutils literal notranslate"><span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;operation&quot;:</span> <span class="pre">&quot;convert&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;source&quot;:</span> <span class="pre">&quot;csv&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;target&quot;:</span> <span class="pre">&quot;json&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;data&quot;:</span> <span class="pre">&quot;{{</span> <span class="pre">$json.csvData</span> <span class="pre">}}&quot;</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p>Integrating with Third-Party Services</p>
<p>N8n excels at connecting various platforms and services15.</p>
<p><strong>Google Sheets Integration</strong></p>
<p>json</p>
<p><code class="docutils literal notranslate"><span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;operation&quot;:</span> <span class="pre">&quot;appendOrUpdate&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;sheetId&quot;:</span> <span class="pre">&quot;YOUR_SHEET_ID&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;range&quot;:</span> <span class="pre">&quot;A:Z&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;data&quot;:</span> <span class="pre">&quot;{{</span> <span class="pre">$json.rowData</span> <span class="pre">}}&quot;</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><strong>Automating JSON Generation with OpenAI</strong></p>
<p>You can use the OpenAI node to generate structured JSON automatically11: json</p>
<p><code class="docutils literal notranslate"><span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;model&quot;:</span> <span class="pre">&quot;gpt-4&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;prompt&quot;:</span> <span class="pre">&quot;Generate</span> <span class="pre">a</span> <span class="pre">JSON</span> <span class="pre">object</span> <span class="pre">with</span> <span class="pre">the</span> <span class="pre">following</span> <span class="pre">structure:</span> <span class="pre">{{</span> <span class="pre">$json.structure</span> <span class="pre">}}&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;temperature&quot;:</span> <span class="pre">0.2,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;output&quot;:</span> <span class="pre">&quot;json&quot;</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code><br />Advanced Features and Tips</p>
<p><strong>Accessing Data from a Webhook</strong></p>
<p>When receiving data through a webhook, access specific elements using expressions14:</p>
<p>text</p>
<p><code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">$json.body.ticker</span> <span class="pre">}}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">$json.body.tf</span> <span class="pre">}}</span></code></p>
<p>For string representations of JSON, you’ll need to parse the string first14: javascript</p>
<p><em><code class="docutils literal notranslate"><span class="pre">//</span> <span class="pre">In</span> <span class="pre">a</span> <span class="pre">Code</span> <span class="pre">node</span></code></em></p>
<p><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">parsedBody</span> <span class="pre">=</span> <span class="pre">JSON.parse($json.body);</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">return</span> <span class="pre">{</span> <span class="pre">json:</span> <span class="pre">parsedBody</span> <span class="pre">};</span></code></p>
<p><strong>Adding Data from Previous Node to Every Item</strong></p>
<p>When splitting data but needing to retain information from the original source18: javascript</p>
<p><em><code class="docutils literal notranslate"><span class="pre">//</span> <span class="pre">In</span> <span class="pre">a</span> <span class="pre">Code</span> <span class="pre">node</span></code></em></p>
<p><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">results</span> <span class="pre">=</span> <span class="pre">[];</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">eventName</span> <span class="pre">=</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">$('Webhook').first().json.body.event.event_name;</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">for</span> <span class="pre">(const</span> <span class="pre">student</span> <span class="pre">of</span> <span class="pre">$json.body.students)</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">results.push({</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">json:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">...student,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">eventName:</span> <span class="pre">eventName</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">});</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">return</span> <span class="pre">results;</span></code><br /><strong>Comprehensive Guide to JSON Snippets for N8n Automation</strong></p>
<p>When building automations in N8n, proper handling of JSON configurations is essential, especially for advanced nodes like the AI Agent module. This guide compiles key JSON snippets and patterns for effectively configuring various N8n components, with a special focus on the AI Agent functionality.</p>
<p>N8n’s Fundamental JSON Data Structure</p>
<p>In N8n, data flows between nodes in a standardized JSON structure. Understanding this structure is crucial for effective automation:<br />json</p>
<p><code class="docutils literal notranslate"><span class="pre">[</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;json&quot;:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;property1&quot;:</span> <span class="pre">&quot;value1&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;property2&quot;:</span> <span class="pre">&quot;value2&quot;</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">},</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;binary&quot;:</span> <span class="pre">{}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">},</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;json&quot;:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;property1&quot;:</span> <span class="pre">&quot;anotherValue1&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;property2&quot;:</span> <span class="pre">&quot;anotherValue2&quot;</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">},</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;binary&quot;:</span> <span class="pre">{}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">]</span></code></p>
<p>Each item in this array represents a piece of data being processed through your workflow. From version 0.166.0 onward, N8n automatically adds the json key if it’s missing and wraps items in an array if needed when using Function or Code nodes9.</p>
<p>AI Agent Module JSON Configuration<br />The AI Agent module in N8n provides several agent types, each requiring specific JSON configurations. Here are snippets for the most common types:</p>
<p><strong>Tools Agent (Default) Configuration</strong></p>
<p>json</p>
<p><code class="docutils literal notranslate"><span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;agent&quot;:</span> <span class="pre">&quot;tools&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;model&quot;:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;provider&quot;:</span> <span class="pre">&quot;openai&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;model&quot;:</span> <span class="pre">&quot;gpt-4&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;temperature&quot;:</span> <span class="pre">0.7</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">},</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;systemMessage&quot;:</span> <span class="pre">&quot;You</span> <span class="pre">are</span> <span class="pre">a</span> <span class="pre">helpful</span> <span class="pre">assistant</span> <span class="pre">that</span> <span class="pre">uses</span> <span class="pre">tools</span> <span class="pre">to</span> <span class="pre">find</span> <span class="pre">information</span> <span class="pre">and</span> <span class="pre">accomplish</span> <span class="pre">tasks.&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;memory&quot;:</span> <span class="pre">true,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;verbose&quot;:</span> <span class="pre">true</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p>This configuration sets up the default Tools Agent that can use external tools and APIs to perform actions and retrieve information1.</p>
<p><strong>Conversational Agent Configuration</strong></p>
<p>json</p>
<p><code class="docutils literal notranslate"><span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;agent&quot;:</span> <span class="pre">&quot;conversational&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;model&quot;:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;provider&quot;:</span> <span class="pre">&quot;openai&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;model&quot;:</span> <span class="pre">&quot;gpt-3.5-turbo&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;temperature&quot;:</span> <span class="pre">0.8</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">},</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;systemMessage&quot;:</span> <span class="pre">&quot;You</span> <span class="pre">are</span> <span class="pre">a</span> <span class="pre">helpful</span> <span class="pre">customer</span> <span class="pre">service</span> <span class="pre">agent</span> <span class="pre">for</span> <span class="pre">our</span> <span class="pre">company.&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;memory&quot;:</span> <span class="pre">true</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code><br />The Conversational Agent is ideal for chatbots and virtual assistants, as it can maintain context and understand user intent5.</p>
<p><strong>Memory-Enabled Agent Configuration</strong></p>
<p>json</p>
<p><code class="docutils literal notranslate"><span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;agent&quot;:</span> <span class="pre">&quot;tools&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;model&quot;:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;provider&quot;:</span> <span class="pre">&quot;openai&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;model&quot;:</span> <span class="pre">&quot;gpt-4&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;temperature&quot;:</span> <span class="pre">0.7</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">},</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;systemMessage&quot;:</span> <span class="pre">&quot;You</span> <span class="pre">are</span> <span class="pre">an</span> <span class="pre">assistant</span> <span class="pre">with</span> <span class="pre">memory</span> <span class="pre">capabilities.</span> <span class="pre">Use</span> <span class="pre">your</span> <span class="pre">tools</span> <span class="pre">to</span> <span class="pre">remember</span> <span class="pre">important</span> <span class="pre">information</span> <span class="pre">from</span> <span class="pre">our</span> <span class="pre">conversations.&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;memory&quot;:</span> <span class="pre">true,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;tools&quot;:</span> <span class="pre">[&quot;memory-add&quot;,</span> <span class="pre">&quot;memory-retrieve&quot;]</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p>This configuration creates an AI agent with long-term memory capabilities for maintaining context across interactions1.</p>
<p>Handling AI Agent Output Issues</p>
<p>One common challenge with the AI Agent is that it often outputs results as a string inside a JSON object, which can cause issues when further processing is needed: json</p>
<p><code class="docutils literal notranslate"><span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;output&quot;:</span> <span class="pre">&quot;{\n</span> <span class="pre">\&quot;countries\&quot;:</span> <span class="pre">[\n</span> <span class="pre">{\n</span> <span class="pre">\&quot;name\&quot;:</span> <span class="pre">\&quot;China\&quot;,\n</span> <span class="pre">\&quot;population\&quot;:</span> <span class="pre">1411778724\n</span> <span class="pre">},\n</span> <span class="pre">{\n</span> <span class="pre">\&quot;name\&quot;:</span> <span class="pre">\&quot;India\&quot;,\n</span> <span class="pre">\&quot;population\&quot;:</span> <span class="pre">1387297452\n</span> <span class="pre">},\n</span> <span class="pre">{\n</span> <span class="pre">\&quot;name\&quot;:</span> <span class="pre">\&quot;United</span> <span class="pre">States\&quot;,\n</span> <span class="pre">\&quot;population\&quot;:</span> <span class="pre">331893745\n</span> <span class="pre">},\n</span> <span class="pre">{\n</span> <span class="pre">\&quot;name\&quot;:</span> <span class="pre">\&quot;Indonesia\&quot;,\n</span> <span class="pre">\&quot;population\&quot;:</span> <span class="pre">276362965\n</span> <span class="pre">},\n</span> <span class="pre">{\n</span> <span class="pre">\&quot;name\&quot;:</span> <span class="pre">\&quot;Pakistan\&quot;,\n</span> <span class="pre">\&quot;population\&quot;:</span> <span class="pre">225199937\n</span> <span class="pre">}\n</span> <span class="pre">]\n}&quot;</span> <span class="pre">}</span></code><br />To process this output, you’ll typically need to use a Code node to parse the string into a proper JSON object1:</p>
<p>javascript</p>
<p><em><code class="docutils literal notranslate"><span class="pre">//</span> <span class="pre">Parse</span> <span class="pre">the</span> <span class="pre">string</span> <span class="pre">output</span> <span class="pre">from</span> <span class="pre">AI</span> <span class="pre">Agent</span> <span class="pre">into</span> <span class="pre">usable</span> <span class="pre">JSON</span></code></em> <code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">outputStr</span> <span class="pre">=</span> <span class="pre">$json.output;</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">let</span> <span class="pre">parsedData;</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">try</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">parsedData</span> <span class="pre">=</span> <span class="pre">JSON.parse(outputStr);</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">return</span> <span class="pre">{</span> <span class="pre">json:</span> <span class="pre">parsedData</span> <span class="pre">};</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span> <span class="pre">catch</span> <span class="pre">(error)</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">//</span> <span class="pre">Handle</span> <span class="pre">case</span> <span class="pre">where</span> <span class="pre">output</span> <span class="pre">is</span> <span class="pre">not</span> <span class="pre">valid</span> <span class="pre">JSON</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">return</span> <span class="pre">{</span> <span class="pre">json:</span> <span class="pre">{</span> <span class="pre">error:</span> <span class="pre">&quot;Could</span> <span class="pre">not</span> <span class="pre">parse</span> <span class="pre">output</span> <span class="pre">as</span> <span class="pre">JSON&quot;,</span> <span class="pre">original:</span> <span class="pre">outputStr</span> <span class="pre">}</span> <span class="pre">};</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p>Providing JSON Examples to AI Agents</p>
<p>When instructing AI agents to output structured JSON, you may encounter the “Single ‘{’ in template” error. This happens because the curly braces in your JSON example conflict with N8n’s expression syntax4.</p>
<p>To avoid this, you can use one of these approaches:</p>
<p><strong>1. Use a Code Node to Generate the Example</strong> javascript<br /><em><code class="docutils literal notranslate"><span class="pre">//</span> <span class="pre">Generate</span> <span class="pre">JSON</span> <span class="pre">example</span> <span class="pre">before</span> <span class="pre">the</span> <span class="pre">AI</span> <span class="pre">Agent</span> <span class="pre">node</span></code></em></p>
<p><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">example</span> <span class="pre">=</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;data&quot;:</span> <span class="pre">[</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;Item1&quot;:</span> <span class="pre">&quot;This</span> <span class="pre">is</span> <span class="pre">a</span> <span class="pre">test&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;Somedata&quot;:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;Frog&quot;:</span> <span class="pre">6,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;Cat&quot;:</span> <span class="pre">7,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;Dog&quot;:</span> <span class="pre">9</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code><br /><code class="docutils literal notranslate"><span class="pre">]</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">};</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">return</span> <span class="pre">{</span> <span class="pre">json:</span> <span class="pre">{</span> <span class="pre">example:</span> <span class="pre">JSON.stringify(example)</span> <span class="pre">}</span> <span class="pre">};</span></code></p>
<p>Then in your AI Agent node, you can reference this example with {{ $json.example }}4.</p>
<p><strong>2. Use the fromAI Function (Newer Method)</strong></p>
<p>For newer versions of N8n, the $fromAI function provides a cleaner approach to handle AI agent outputs14:<br />text</p>
<p><code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">$fromAI.json.specificProperty</span> <span class="pre">}}</span></code></p>
<p>This allows you to directly reference properties from the AI’s output in subsequent nodes without manual parsing.</p>
<p>Working with HTTP Tools in AI Agents</p>
<p>When configuring HTTP tools for AI agents that require JSON parameters: json</p>
<p><code class="docutils literal notranslate"><span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;url&quot;:</span> <span class="pre">&quot;https://api.example.com/endpoint&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;method&quot;:</span> <span class="pre">&quot;POST&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;headers&quot;:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;Content-Type&quot;:</span> <span class="pre">&quot;application/json&quot;</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">},</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;bodyParametersUi&quot;:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;parameter&quot;:</span> <span class="pre">[</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;name&quot;:</span> <span class="pre">&quot;ids&quot;,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;value&quot;:</span> <span class="pre">&quot;{{</span> <span class="pre">[\&quot;ID\&quot;]</span> <span class="pre">}}&quot;</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">]</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code><br />The proper format for array parameters must be explicitly described in the tool’s description to ensure the AI correctly formats them6.</p>
<p>Preserving Input JSON Fields in AI Agent Output</p>
<p>A common challenge is maintaining input fields (like IDs) in the AI agent’s output. Since the AI agent might not reliably include these fields in its response, a better approach is to use a Code node after the AI Agent to merge the original input with the agent’s output10:</p>
<p>javascript</p>
<p><em><code class="docutils literal notranslate"><span class="pre">//</span> <span class="pre">Preserve</span> <span class="pre">the</span> <span class="pre">ID</span> <span class="pre">from</span> <span class="pre">input</span> <span class="pre">while</span> <span class="pre">using</span> <span class="pre">AI</span> <span class="pre">agent</span> <span class="pre">output</span></code></em> <code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">originalId</span> <span class="pre">=</span> <span class="pre">$node[&quot;PreviousNode&quot;].first().json.id;</span> <span class="pre">const</span> <span class="pre">aiOutput</span> <span class="pre">=</span> <span class="pre">$json.output;</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">return</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">json:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">id:</span> <span class="pre">originalId,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">aiResult:</span> <span class="pre">aiOutput</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">//</span> <span class="pre">Add</span> <span class="pre">any</span> <span class="pre">other</span> <span class="pre">fields</span> <span class="pre">you</span> <span class="pre">want</span> <span class="pre">to</span> <span class="pre">preserve</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">};</span></code></p>
<p>Processing Multiple Items with AI Agents</p>
<p>By default, the AI Agent processes each item individually, which can be time-consuming for batch processing. To process multiple items in a single call8:</p>
<p>javascript</p>
<p><em><code class="docutils literal notranslate"><span class="pre">//</span> <span class="pre">Collect</span> <span class="pre">all</span> <span class="pre">items</span> <span class="pre">into</span> <span class="pre">a</span> <span class="pre">single</span> <span class="pre">array</span> <span class="pre">for</span> <span class="pre">the</span> <span class="pre">AI</span> <span class="pre">agent</span></code></em> <code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">allItems</span> <span class="pre">=</span> <span class="pre">$input.all().map(item</span> <span class="pre">=&gt;</span> <span class="pre">item.json);</span> <span class="pre">return</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">json:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">combinedData:</span> <span class="pre">allItems,</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">prompt:</span> <span class="pre">&quot;Process</span> <span class="pre">all</span> <span class="pre">these</span> <span class="pre">items</span> <span class="pre">at</span> <span class="pre">once:</span> <span class="pre">&quot;</span> <span class="pre">+</span> <span class="pre">JSON.stringify(allItems)</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">};</span></code><br />Structured Output Formatting for AI Agents</p>
<p>To get consistent structured output from AI agents, provide clear output format instructions in your system prompt. For JSON outputs11:</p>
<p>json</p>
<p><code class="docutils literal notranslate"><span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;options&quot;:</span> <span class="pre">{</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;systemMessage&quot;:</span> <span class="pre">&quot;You</span> <span class="pre">are</span> <span class="pre">a</span> <span class="pre">helpful</span> <span class="pre">assistant.</span> <span class="pre">Always</span> <span class="pre">respond</span> <span class="pre">in</span> <span class="pre">valid</span> <span class="pre">JSON</span> <span class="pre">format</span> <span class="pre">following</span> <span class="pre">this</span> <span class="pre">structure:\n\n{\n</span>&#160; <span class="pre">\&quot;category\&quot;:</span> <span class="pre">\&quot;[Category</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">request]\&quot;,\n</span> <span class="pre">\&quot;response\&quot;:</span> <span class="pre">\&quot;[Your</span> <span class="pre">detailed</span> <span class="pre">response]\&quot;,\n</span> <span class="pre">\&quot;nextSteps\&quot;:</span> <span class="pre">[\&quot;step1\&quot;,</span> <span class="pre">\&quot;step2\&quot;,</span> <span class="pre">\&quot;etc\&quot;]\n}\n\nEnsure</span> <span class="pre">your</span> <span class="pre">entire</span> <span class="pre">response</span> <span class="pre">is</span> <span class="pre">valid</span> <span class="pre">JSON.&quot;</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">}</span></code></p>
<p>Using Expressions to Access JSON Data</p>
<p>N8n provides a powerful expression syntax for accessing and manipulating JSON data: text</p>
<p><code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">$json.property1</span> <span class="pre">}}</span></code></p>
<p>For deeper nested properties:</p>
<p>text</p>
<p><code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">$json.parent.child.property</span> <span class="pre">}}</span></code></p>
<p>To access data from a specific previous node:</p>
<p>text</p>
<p><code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">$node[&quot;NodeName&quot;].json.property</span> <span class="pre">}}</span></code></p>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, EMAIL_SENDER_1 Team.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>