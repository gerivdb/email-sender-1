

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Module de cache prédictif &mdash; EMAIL_SENDER_1 1.0.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=4ae1632d" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=8d563738"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            EMAIL_SENDER_1
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contenu:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api/index.html">Documentation des API</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">EMAIL_SENDER_1</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Module de cache prédictif</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/technical/PredictiveCache.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-de-cache-predictif">
<h1>Module de cache prédictif<a class="headerlink" href="#module-de-cache-predictif" title="Link to this heading"></a></h1>
<section id="vue-d-ensemble">
<h2>Vue d’ensemble<a class="headerlink" href="#vue-d-ensemble" title="Link to this heading"></a></h2>
<p>Le module <code class="docutils literal notranslate"><span class="pre">PredictiveCache</span></code> fournit un système de cache intelligent qui prédit les prochains accès en fonction des modèles d’utilisation passés. Ce module est particulièrement utile pour optimiser les performances des workflows n8n et d’autres systèmes nécessitant un accès rapide aux données fréquemment utilisées.</p>
</section>
<section id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Link to this heading"></a></h2>
<p>Le module est disponible dans le dossier <code class="docutils literal notranslate"><span class="pre">modules</span></code> du projet. Pour l’importer :</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$modulePath</span> <span class="p">=</span> <span class="nb">Join-Path</span> <span class="n">-Path</span> <span class="nv">$PSScriptRoot</span> <span class="n">-ChildPath</span> <span class="s2">&quot;modules\PredictiveCache.psm1&quot;</span>
<span class="nb">Import-Module</span> <span class="nv">$modulePath</span> <span class="n">-Force</span>
</pre></div>
</div>
</section>
<section id="initialisation">
<h2>Initialisation<a class="headerlink" href="#initialisation" title="Link to this heading"></a></h2>
<p>Avant d’utiliser le module, il est nécessaire de l’initialiser avec les paramètres souhaités :</p>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nb">Initialize-PredictiveCache</span> <span class="n">-Enabled</span> <span class="nv">$true</span> <span class="n">-CachePath</span> <span class="s2">&quot;.\cache&quot;</span> <span class="n">-ModelPath</span> <span class="s2">&quot;.\models&quot;</span> <span class="n">-MaxCacheSize</span> <span class="n">100MB</span> <span class="n">-DefaultTTL</span> <span class="n">3600</span>
</pre></div>
</div>
</section>
<section id="fonctions-principales">
<h2>Fonctions principales<a class="headerlink" href="#fonctions-principales" title="Link to this heading"></a></h2>
<section id="set-predictivecache">
<h3>Set-PredictiveCache<a class="headerlink" href="#set-predictivecache" title="Link to this heading"></a></h3>
<p>Met en cache une valeur avec une clé spécifiée.</p>
<section id="syntaxe">
<h4>Syntaxe<a class="headerlink" href="#syntaxe" title="Link to this heading"></a></h4>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nb">Set-PredictiveCache</span> <span class="n">-Key</span> <span class="p">&lt;</span><span class="n">String</span><span class="p">&gt;</span> <span class="n">-Value</span> <span class="p">&lt;</span><span class="n">Object</span><span class="p">&gt;</span> <span class="p">[</span><span class="n">-TTL</span> <span class="p">&lt;</span><span class="n">Int32</span><span class="p">&gt;]</span>
</pre></div>
</div>
</section>
<section id="parametres">
<h4>Paramètres<a class="headerlink" href="#parametres" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>Key</strong> : Clé unique pour identifier la valeur en cache.</p></li>
<li><p><strong>Value</strong> : Valeur à mettre en cache.</p></li>
<li><p><strong>TTL</strong> : Durée de vie en secondes (par défaut : valeur spécifiée lors de l’initialisation).</p></li>
</ul>
</section>
<section id="valeur-de-retour">
<h4>Valeur de retour<a class="headerlink" href="#valeur-de-retour" title="Link to this heading"></a></h4>
<p>La valeur mise en cache.</p>
</section>
<section id="exemple">
<h4>Exemple<a class="headerlink" href="#exemple" title="Link to this heading"></a></h4>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$value</span> <span class="p">=</span> <span class="p">@{</span>
    <span class="n">name</span> <span class="p">=</span> <span class="s2">&quot;Test Object&quot;</span>
    <span class="n">properties</span> <span class="p">=</span> <span class="p">@{</span>
        <span class="n">prop1</span> <span class="p">=</span> <span class="s2">&quot;Value 1&quot;</span>
        <span class="n">prop2</span> <span class="p">=</span> <span class="n">123</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="nb">Set-PredictiveCache</span> <span class="n">-Key</span> <span class="s2">&quot;test-key&quot;</span> <span class="n">-Value</span> <span class="nv">$value</span> <span class="n">-TTL</span> <span class="n">1800</span>
</pre></div>
</div>
</section>
</section>
<section id="get-predictivecache">
<h3>Get-PredictiveCache<a class="headerlink" href="#get-predictivecache" title="Link to this heading"></a></h3>
<p>Récupère une valeur du cache.</p>
<section id="id1">
<h4>Syntaxe<a class="headerlink" href="#id1" title="Link to this heading"></a></h4>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nb">Get-PredictiveCache</span> <span class="n">-Key</span> <span class="p">&lt;</span><span class="n">String</span><span class="p">&gt;</span>
</pre></div>
</div>
</section>
<section id="id2">
<h4>Paramètres<a class="headerlink" href="#id2" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>Key</strong> : Clé de la valeur à récupérer.</p></li>
</ul>
</section>
<section id="id3">
<h4>Valeur de retour<a class="headerlink" href="#id3" title="Link to this heading"></a></h4>
<p>La valeur en cache, ou <code class="docutils literal notranslate"><span class="pre">$null</span></code> si la clé n’existe pas ou a expiré.</p>
</section>
<section id="id4">
<h4>Exemple<a class="headerlink" href="#id4" title="Link to this heading"></a></h4>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$value</span> <span class="p">=</span> <span class="nb">Get-PredictiveCache</span> <span class="n">-Key</span> <span class="s2">&quot;test-key&quot;</span>
<span class="k">if</span> <span class="p">(</span><span class="nv">$value</span> <span class="o">-ne</span> <span class="nv">$null</span><span class="p">)</span> <span class="p">{</span>
    <span class="nb">Write-Host</span> <span class="s2">&quot;Valeur trouvée dans le cache: </span><span class="p">$(</span><span class="nv">$value</span> <span class="p">|</span> <span class="nb">ConvertTo-Json</span> <span class="n">-Compress</span><span class="p">)</span><span class="s2">&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
</section>
<section id="remove-predictivecache">
<h3>Remove-PredictiveCache<a class="headerlink" href="#remove-predictivecache" title="Link to this heading"></a></h3>
<p>Supprime une valeur du cache.</p>
<section id="id5">
<h4>Syntaxe<a class="headerlink" href="#id5" title="Link to this heading"></a></h4>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nb">Remove-PredictiveCache</span> <span class="n">-Key</span> <span class="p">&lt;</span><span class="n">String</span><span class="p">&gt;</span> <span class="p">[</span><span class="n">-InvalidateRelated</span><span class="p">]</span>
</pre></div>
</div>
</section>
<section id="id6">
<h4>Paramètres<a class="headerlink" href="#id6" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>Key</strong> : Clé de la valeur à supprimer.</p></li>
<li><p><strong>InvalidateRelated</strong> : Invalide également les entrées liées à cette clé.</p></li>
</ul>
</section>
<section id="id7">
<h4>Valeur de retour<a class="headerlink" href="#id7" title="Link to this heading"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">$true</span></code> si la valeur a été supprimée, <code class="docutils literal notranslate"><span class="pre">$false</span></code> sinon.</p>
</section>
<section id="id8">
<h4>Exemple<a class="headerlink" href="#id8" title="Link to this heading"></a></h4>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$removed</span> <span class="p">=</span> <span class="nb">Remove-PredictiveCache</span> <span class="n">-Key</span> <span class="s2">&quot;test-key&quot;</span> <span class="n">-InvalidateRelated</span>
<span class="k">if</span> <span class="p">(</span><span class="nv">$removed</span><span class="p">)</span> <span class="p">{</span>
    <span class="nb">Write-Host</span> <span class="s2">&quot;Valeur supprimée du cache.&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
</section>
<section id="register-cacheaccess">
<h3>Register-CacheAccess<a class="headerlink" href="#register-cacheaccess" title="Link to this heading"></a></h3>
<p>Enregistre un accès au cache pour l’apprentissage des modèles de prédiction.</p>
<section id="id9">
<h4>Syntaxe<a class="headerlink" href="#id9" title="Link to this heading"></a></h4>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nb">Register-CacheAccess</span> <span class="n">-Key</span> <span class="p">&lt;</span><span class="n">String</span><span class="p">&gt;</span> <span class="n">-WorkflowId</span> <span class="p">&lt;</span><span class="n">String</span><span class="p">&gt;</span> <span class="n">-NodeId</span> <span class="p">&lt;</span><span class="n">String</span><span class="p">&gt;</span>
</pre></div>
</div>
</section>
<section id="id10">
<h4>Paramètres<a class="headerlink" href="#id10" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>Key</strong> : Clé de la valeur accédée.</p></li>
<li><p><strong>WorkflowId</strong> : Identifiant du workflow.</p></li>
<li><p><strong>NodeId</strong> : Identifiant du nœud dans le workflow.</p></li>
</ul>
</section>
<section id="id11">
<h4>Exemple<a class="headerlink" href="#id11" title="Link to this heading"></a></h4>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nb">Register-CacheAccess</span> <span class="n">-Key</span> <span class="s2">&quot;test-key&quot;</span> <span class="n">-WorkflowId</span> <span class="s2">&quot;workflow1&quot;</span> <span class="n">-NodeId</span> <span class="s2">&quot;node1&quot;</span>
</pre></div>
</div>
</section>
</section>
<section id="get-predictedcachekeys">
<h3>Get-PredictedCacheKeys<a class="headerlink" href="#get-predictedcachekeys" title="Link to this heading"></a></h3>
<p>Prédit les prochaines clés qui seront accédées en fonction des modèles d’utilisation passés.</p>
<section id="id12">
<h4>Syntaxe<a class="headerlink" href="#id12" title="Link to this heading"></a></h4>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nb">Get-PredictedCacheKeys</span> <span class="n">-Key</span> <span class="p">&lt;</span><span class="n">String</span><span class="p">&gt;</span> <span class="n">-WorkflowId</span> <span class="p">&lt;</span><span class="n">String</span><span class="p">&gt;</span> <span class="n">-NodeId</span> <span class="p">&lt;</span><span class="n">String</span><span class="p">&gt;</span> <span class="p">[</span><span class="n">-MaxPredictions</span> <span class="p">&lt;</span><span class="n">Int32</span><span class="p">&gt;]</span>
</pre></div>
</div>
</section>
<section id="id13">
<h4>Paramètres<a class="headerlink" href="#id13" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>Key</strong> : Clé actuelle.</p></li>
<li><p><strong>WorkflowId</strong> : Identifiant du workflow.</p></li>
<li><p><strong>NodeId</strong> : Identifiant du nœud dans le workflow.</p></li>
<li><p><strong>MaxPredictions</strong> : Nombre maximum de prédictions à retourner (par défaut : 5).</p></li>
</ul>
</section>
<section id="id14">
<h4>Valeur de retour<a class="headerlink" href="#id14" title="Link to this heading"></a></h4>
<p>Un tableau d’objets avec les propriétés suivantes :</p>
<ul class="simple">
<li><p><strong>Key</strong> : Clé prédite.</p></li>
<li><p><strong>Probability</strong> : Probabilité de l’accès (entre 0 et 1).</p></li>
</ul>
</section>
<section id="id15">
<h4>Exemple<a class="headerlink" href="#id15" title="Link to this heading"></a></h4>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$predictions</span> <span class="p">=</span> <span class="nb">Get-PredictedCacheKeys</span> <span class="n">-Key</span> <span class="s2">&quot;test-key&quot;</span> <span class="n">-WorkflowId</span> <span class="s2">&quot;workflow1&quot;</span> <span class="n">-NodeId</span> <span class="s2">&quot;node1&quot;</span>
<span class="k">foreach</span> <span class="p">(</span><span class="nv">$prediction</span> <span class="k">in</span> <span class="nv">$predictions</span><span class="p">)</span> <span class="p">{</span>
    <span class="nb">Write-Host</span> <span class="s2">&quot;Clé prédite: </span><span class="p">$(</span><span class="nv">$prediction</span><span class="p">.</span><span class="n">Key</span><span class="p">)</span><span class="s2"> (probabilité: </span><span class="p">$(</span><span class="nv">$prediction</span><span class="p">.</span><span class="n">Probability</span><span class="p">)</span><span class="s2">)&quot;</span>
    
    <span class="c"># Précharger la valeur prédite</span>
    <span class="nv">$predictedValue</span> <span class="p">=</span> <span class="nb">Get-PredictiveCache</span> <span class="n">-Key</span> <span class="nv">$prediction</span><span class="p">.</span><span class="n">Key</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
</section>
<section id="optimize-cachesize">
<h3>Optimize-CacheSize<a class="headerlink" href="#optimize-cachesize" title="Link to this heading"></a></h3>
<p>Optimise la taille du cache en supprimant les entrées les moins utilisées lorsque la taille maximale est dépassée.</p>
<section id="id16">
<h4>Syntaxe<a class="headerlink" href="#id16" title="Link to this heading"></a></h4>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nb">Optimize-CacheSize</span>
</pre></div>
</div>
</section>
<section id="id17">
<h4>Exemple<a class="headerlink" href="#id17" title="Link to this heading"></a></h4>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nb">Optimize-CacheSize</span>
</pre></div>
</div>
</section>
</section>
<section id="register-n8ncachehook">
<h3>Register-N8nCacheHook<a class="headerlink" href="#register-n8ncachehook" title="Link to this heading"></a></h3>
<p>Enregistre les hooks nécessaires pour intégrer le cache prédictif avec n8n.</p>
<section id="id18">
<h4>Syntaxe<a class="headerlink" href="#id18" title="Link to this heading"></a></h4>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nb">Register-N8nCacheHook</span> <span class="n">-N8nApiUrl</span> <span class="p">&lt;</span><span class="n">String</span><span class="p">&gt;</span> <span class="p">[</span><span class="n">-ApiKey</span> <span class="p">&lt;</span><span class="n">String</span><span class="p">&gt;]</span>
</pre></div>
</div>
</section>
<section id="id19">
<h4>Paramètres<a class="headerlink" href="#id19" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><strong>N8nApiUrl</strong> : URL de l’API n8n.</p></li>
<li><p><strong>ApiKey</strong> : Clé API pour l’authentification avec n8n.</p></li>
</ul>
</section>
<section id="id20">
<h4>Valeur de retour<a class="headerlink" href="#id20" title="Link to this heading"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">$true</span></code> si les hooks ont été enregistrés avec succès, <code class="docutils literal notranslate"><span class="pre">$false</span></code> sinon.</p>
</section>
<section id="id21">
<h4>Exemple<a class="headerlink" href="#id21" title="Link to this heading"></a></h4>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$hooksRegistered</span> <span class="p">=</span> <span class="nb">Register-N8nCacheHook</span> <span class="n">-N8nApiUrl</span> <span class="s2">&quot;http://localhost:5678/api/v1&quot;</span> <span class="n">-ApiKey</span> <span class="s2">&quot;your_api_key&quot;</span>
<span class="k">if</span> <span class="p">(</span><span class="nv">$hooksRegistered</span><span class="p">)</span> <span class="p">{</span>
    <span class="nb">Write-Host</span> <span class="s2">&quot;Hooks n8n enregistrés avec succès.&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="integration-avec-n8n">
<h2>Intégration avec n8n<a class="headerlink" href="#integration-avec-n8n" title="Link to this heading"></a></h2>
<p>Le module <code class="docutils literal notranslate"><span class="pre">PredictiveCache</span></code> s’intègre avec n8n via le script <code class="docutils literal notranslate"><span class="pre">Initialize-N8nPredictiveCache.ps1</span></code> qui configure le cache prédictif pour n8n et enregistre les hooks nécessaires.</p>
<section id="exemple-d-utilisation-avec-n8n">
<h3>Exemple d’utilisation avec n8n<a class="headerlink" href="#exemple-d-utilisation-avec-n8n" title="Link to this heading"></a></h3>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="c"># Initialiser le cache prédictif pour n8n</span>
<span class="p">&amp;</span> <span class="s2">&quot;.\scripts\n8n\cache\Initialize-N8nPredictiveCache.ps1&quot;</span> <span class="n">-N8nApiUrl</span> <span class="s2">&quot;http://localhost:5678/api/v1&quot;</span> <span class="n">-ApiKey</span> <span class="s2">&quot;your_api_key&quot;</span> <span class="n">-MaxCacheSizeMB</span> <span class="n">200</span>

<span class="c"># Dans les workflows n8n, utiliser l&#39;objet global $predictiveCache</span>
<span class="c"># Exemple de code JavaScript dans un nœud Function de n8n:</span>
<span class="p">/*</span>
<span class="n">const</span> <span class="n">key</span> <span class="p">=</span> <span class="s1">&#39;example-key&#39;</span><span class="p">;</span>
<span class="n">const</span> <span class="n">value</span> <span class="p">=</span> <span class="p">{</span> <span class="n">data</span><span class="p">:</span> <span class="s1">&#39;example-value&#39;</span> <span class="p">};</span>

<span class="p">//</span> <span class="n">Mettre</span> <span class="n">en</span> <span class="n">cache</span> <span class="n">la</span> <span class="n">valeur</span>
<span class="nv">$predictiveCache</span><span class="p">.</span><span class="n">set</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">);</span>

<span class="p">//</span> <span class="n">Récupérer</span> <span class="n">la</span> <span class="n">valeur</span> <span class="n">du</span> <span class="n">cache</span>
<span class="n">const</span> <span class="n">cachedValue</span> <span class="p">=</span> <span class="nv">$predictiveCache</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">key</span><span class="p">);</span>

<span class="p">//</span> <span class="n">Obtenir</span> <span class="n">des</span> <span class="n">prédictions</span>
<span class="n">const</span> <span class="n">predictions</span> <span class="p">=</span> <span class="nv">$predictiveCache</span><span class="p">.</span><span class="n">predict</span><span class="p">(</span><span class="n">key</span><span class="p">);</span>
<span class="p">*/</span>
</pre></div>
</div>
</section>
</section>
<section id="algorithmes-de-prediction">
<h2>Algorithmes de prédiction<a class="headerlink" href="#algorithmes-de-prediction" title="Link to this heading"></a></h2>
<p>Le module utilise plusieurs algorithmes pour prédire les prochains accès au cache :</p>
<ol class="simple">
<li><p><strong>Analyse de séquence</strong> : Détecte les modèles dans les séquences d’accès au cache.</p></li>
<li><p><strong>Analyse contextuelle</strong> : Prend en compte le contexte (workflow et nœud) pour affiner les prédictions.</p></li>
<li><p><strong>Pondération temporelle</strong> : Donne plus de poids aux accès récents.</p></li>
</ol>
</section>
<section id="performance">
<h2>Performance<a class="headerlink" href="#performance" title="Link to this heading"></a></h2>
<p>Les performances du module dépendent de la taille du cache et du nombre d’accès enregistrés :</p>
<ul class="simple">
<li><p><strong>Mise en cache</strong> : Opération rapide (&lt; 10 ms).</p></li>
<li><p><strong>Récupération</strong> : Opération très rapide (&lt; 5 ms).</p></li>
<li><p><strong>Prédiction</strong> : Opération plus intensive (10-50 ms).</p></li>
</ul>
</section>
<section id="compatibilite">
<h2>Compatibilité<a class="headerlink" href="#compatibilite" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>PowerShell 5.1 et versions ultérieures.</p></li>
<li><p>Compatible avec PowerShell 7.</p></li>
<li><p>Compatible avec n8n via l’API JavaScript.</p></li>
</ul>
</section>
<section id="limitations-connues">
<h2>Limitations connues<a class="headerlink" href="#limitations-connues" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>Les objets très volumineux (&gt; 10 MB) peuvent entraîner des problèmes de performance.</p></li>
<li><p>Les prédictions sont moins précises pour les nouveaux workflows avec peu d’historique d’utilisation.</p></li>
</ul>
</section>
<section id="exemples-avances">
<h2>Exemples avancés<a class="headerlink" href="#exemples-avances" title="Link to this heading"></a></h2>
<section id="utilisation-avec-prechargement-automatique">
<h3>Utilisation avec préchargement automatique<a class="headerlink" href="#utilisation-avec-prechargement-automatique" title="Link to this heading"></a></h3>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="k">function</span> <span class="nb">Get-DataWithCache</span> <span class="p">{</span>
    <span class="k">param</span> <span class="p">(</span>
        <span class="no">[string]</span><span class="nv">$Key</span><span class="p">,</span>
        <span class="no">[string]</span><span class="nv">$WorkflowId</span><span class="p">,</span>
        <span class="no">[string]</span><span class="nv">$NodeId</span><span class="p">,</span>
        <span class="no">[scriptblock]</span><span class="nv">$DataFetcher</span>
    <span class="p">)</span>
    
    <span class="c"># Essayer de récupérer du cache</span>
    <span class="nv">$cachedValue</span> <span class="p">=</span> <span class="nb">Get-PredictiveCache</span> <span class="n">-Key</span> <span class="nv">$Key</span>
    
    <span class="k">if</span> <span class="p">(</span><span class="nv">$cachedValue</span> <span class="o">-ne</span> <span class="nv">$null</span><span class="p">)</span> <span class="p">{</span>
        <span class="c"># Enregistrer l&#39;accès au cache</span>
        <span class="nb">Register-CacheAccess</span> <span class="n">-Key</span> <span class="nv">$Key</span> <span class="n">-WorkflowId</span> <span class="nv">$WorkflowId</span> <span class="n">-NodeId</span> <span class="nv">$NodeId</span>
        
        <span class="c"># Obtenir les prédictions</span>
        <span class="nv">$predictions</span> <span class="p">=</span> <span class="nb">Get-PredictedCacheKeys</span> <span class="n">-Key</span> <span class="nv">$Key</span> <span class="n">-WorkflowId</span> <span class="nv">$WorkflowId</span> <span class="n">-NodeId</span> <span class="nv">$NodeId</span>
        
        <span class="c"># Précharger les valeurs prédites en arrière-plan</span>
        <span class="nb">Start-Job</span> <span class="n">-ScriptBlock</span> <span class="p">{</span>
            <span class="k">param</span><span class="p">(</span><span class="nv">$predictions</span><span class="p">,</span> <span class="nv">$modulePath</span><span class="p">)</span>
            
            <span class="nb">Import-Module</span> <span class="nv">$modulePath</span> <span class="n">-Force</span>
            
            <span class="k">foreach</span> <span class="p">(</span><span class="nv">$prediction</span> <span class="k">in</span> <span class="nv">$predictions</span><span class="p">)</span> <span class="p">{</span>
                <span class="nv">$predictedValue</span> <span class="p">=</span> <span class="nb">Get-PredictiveCache</span> <span class="n">-Key</span> <span class="nv">$prediction</span><span class="p">.</span><span class="n">Key</span>
                <span class="k">if</span> <span class="p">(</span><span class="nv">$predictedValue</span> <span class="o">-eq</span> <span class="nv">$null</span><span class="p">)</span> <span class="p">{</span>
                    <span class="c"># La valeur n&#39;est pas en cache, la récupérer</span>
                    <span class="c"># (Ceci est un exemple, dans un cas réel, vous auriez besoin de plus d&#39;informations)</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span> <span class="n">-ArgumentList</span> <span class="nv">$predictions</span><span class="p">,</span> <span class="nv">$modulePath</span>
        
        <span class="k">return</span> <span class="nv">$cachedValue</span>
    <span class="p">}</span>
    
    <span class="c"># La valeur n&#39;est pas en cache, la récupérer</span>
    <span class="nv">$value</span> <span class="p">=</span> <span class="p">&amp;</span> <span class="nv">$DataFetcher</span>
    
    <span class="c"># Mettre en cache la valeur</span>
    <span class="nb">Set-PredictiveCache</span> <span class="n">-Key</span> <span class="nv">$Key</span> <span class="n">-Value</span> <span class="nv">$value</span>
    
    <span class="c"># Enregistrer l&#39;accès au cache</span>
    <span class="nb">Register-CacheAccess</span> <span class="n">-Key</span> <span class="nv">$Key</span> <span class="n">-WorkflowId</span> <span class="nv">$WorkflowId</span> <span class="n">-NodeId</span> <span class="nv">$NodeId</span>
    
    <span class="k">return</span> <span class="nv">$value</span>
<span class="p">}</span>

<span class="c"># Exemple d&#39;utilisation</span>
<span class="nv">$data</span> <span class="p">=</span> <span class="nb">Get-DataWithCache</span> <span class="n">-Key</span> <span class="s2">&quot;user-123&quot;</span> <span class="n">-WorkflowId</span> <span class="s2">&quot;user-workflow&quot;</span> <span class="n">-NodeId</span> <span class="s2">&quot;fetch-user&quot;</span> <span class="n">-DataFetcher</span> <span class="p">{</span>
    <span class="c"># Simuler une requête API</span>
    <span class="nb">Start-Sleep</span> <span class="n">-Seconds</span> <span class="n">2</span>
    <span class="k">return</span> <span class="p">@{</span>
        <span class="n">id</span> <span class="p">=</span> <span class="n">123</span>
        <span class="n">name</span> <span class="p">=</span> <span class="s2">&quot;John Doe&quot;</span>
        <span class="n">email</span> <span class="p">=</span> <span class="s2">&quot;john.doe@example.com&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="analyse-des-performances-du-cache">
<h3>Analyse des performances du cache<a class="headerlink" href="#analyse-des-performances-du-cache" title="Link to this heading"></a></h3>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="k">function</span> <span class="n">Analyze-CachePerformance</span> <span class="p">{</span>
    <span class="p">[</span><span class="k">CmdletBinding</span><span class="p">()]</span>
    <span class="k">param</span> <span class="p">(</span>
        <span class="p">[</span><span class="k">Parameter</span><span class="p">(</span><span class="k">Mandatory</span> <span class="p">=</span> <span class="nv">$false</span><span class="p">)]</span>
        <span class="no">[string]</span><span class="nv">$OutputPath</span> <span class="p">=</span> <span class="s2">&quot;&quot;</span>
    <span class="p">)</span>
    
    <span class="c"># Obtenir les statistiques du cache</span>
    <span class="nv">$cacheStats</span> <span class="p">=</span> <span class="nb">Get-PredictiveCacheStats</span>
    
    <span class="c"># Calculer le taux de succès du cache</span>
    <span class="nv">$hitRate</span> <span class="p">=</span> <span class="k">if</span> <span class="p">(</span><span class="nv">$cacheStats</span><span class="p">.</span><span class="n">TotalRequests</span> <span class="o">-gt</span> <span class="n">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="nv">$cacheStats</span><span class="p">.</span><span class="n">CacheHits</span> <span class="p">/</span> <span class="nv">$cacheStats</span><span class="p">.</span><span class="n">TotalRequests</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="n">0</span>
    <span class="p">}</span>
    
    <span class="c"># Calculer l&#39;efficacité des prédictions</span>
    <span class="nv">$predictionAccuracy</span> <span class="p">=</span> <span class="k">if</span> <span class="p">(</span><span class="nv">$cacheStats</span><span class="p">.</span><span class="n">TotalPredictions</span> <span class="o">-gt</span> <span class="n">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="nv">$cacheStats</span><span class="p">.</span><span class="n">SuccessfulPredictions</span> <span class="p">/</span> <span class="nv">$cacheStats</span><span class="p">.</span><span class="n">TotalPredictions</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="n">0</span>
    <span class="p">}</span>
    
    <span class="c"># Créer le rapport d&#39;analyse</span>
    <span class="nv">$report</span> <span class="p">=</span> <span class="no">[PSCustomObject]</span><span class="p">@{</span>
        <span class="n">GeneratedAt</span> <span class="p">=</span> <span class="p">(</span><span class="nb">Get-Date</span><span class="p">).</span><span class="n">ToString</span><span class="p">(</span><span class="s2">&quot;o&quot;</span><span class="p">)</span>
        <span class="n">CacheSize</span> <span class="p">=</span> <span class="nv">$cacheStats</span><span class="p">.</span><span class="n">CacheSize</span>
        <span class="n">MaxCacheSize</span> <span class="p">=</span> <span class="nv">$cacheStats</span><span class="p">.</span><span class="n">MaxCacheSize</span>
        <span class="n">CacheUtilization</span> <span class="p">=</span> <span class="nv">$cacheStats</span><span class="p">.</span><span class="n">CacheSize</span> <span class="p">/</span> <span class="nv">$cacheStats</span><span class="p">.</span><span class="n">MaxCacheSize</span>
        <span class="n">TotalRequests</span> <span class="p">=</span> <span class="nv">$cacheStats</span><span class="p">.</span><span class="n">TotalRequests</span>
        <span class="n">CacheHits</span> <span class="p">=</span> <span class="nv">$cacheStats</span><span class="p">.</span><span class="n">CacheHits</span>
        <span class="n">CacheMisses</span> <span class="p">=</span> <span class="nv">$cacheStats</span><span class="p">.</span><span class="n">CacheMisses</span>
        <span class="n">HitRate</span> <span class="p">=</span> <span class="nv">$hitRate</span>
        <span class="n">TotalPredictions</span> <span class="p">=</span> <span class="nv">$cacheStats</span><span class="p">.</span><span class="n">TotalPredictions</span>
        <span class="n">SuccessfulPredictions</span> <span class="p">=</span> <span class="nv">$cacheStats</span><span class="p">.</span><span class="n">SuccessfulPredictions</span>
        <span class="n">PredictionAccuracy</span> <span class="p">=</span> <span class="nv">$predictionAccuracy</span>
        <span class="n">TopCachedKeys</span> <span class="p">=</span> <span class="nv">$cacheStats</span><span class="p">.</span><span class="n">TopCachedKeys</span>
        <span class="n">TopPredictedKeys</span> <span class="p">=</span> <span class="nv">$cacheStats</span><span class="p">.</span><span class="n">TopPredictedKeys</span>
    <span class="p">}</span>
    
    <span class="c"># Enregistrer le rapport si demandé</span>
    <span class="k">if</span> <span class="p">(</span><span class="nv">$OutputPath</span><span class="p">)</span> <span class="p">{</span>
        <span class="nv">$report</span> <span class="p">|</span> <span class="nb">ConvertTo-Json</span> <span class="n">-Depth</span> <span class="n">10</span> <span class="p">|</span> <span class="nb">Out-File</span> <span class="n">-FilePath</span> <span class="nv">$OutputPath</span> <span class="n">-Encoding</span> <span class="n">utf8</span>
    <span class="p">}</span>
    
    <span class="k">return</span> <span class="nv">$report</span>
<span class="p">}</span>

<span class="c"># Exemple d&#39;utilisation</span>
<span class="nv">$report</span> <span class="p">=</span> <span class="n">Analyze-CachePerformance</span> <span class="n">-OutputPath</span> <span class="s2">&quot;.\reports\cache_performance.json&quot;</span>
<span class="nb">Write-Host</span> <span class="s2">&quot;Taux de succès du cache: </span><span class="p">$(</span><span class="no">[Math]</span><span class="p">::</span><span class="n">Round</span><span class="p">(</span><span class="nv">$report</span><span class="p">.</span><span class="n">HitRate</span> <span class="p">*</span> <span class="n">100</span><span class="p">,</span> <span class="n">2</span><span class="p">))</span><span class="s2">%&quot;</span>
<span class="nb">Write-Host</span> <span class="s2">&quot;Précision des prédictions: </span><span class="p">$(</span><span class="no">[Math]</span><span class="p">::</span><span class="n">Round</span><span class="p">(</span><span class="nv">$report</span><span class="p">.</span><span class="n">PredictionAccuracy</span> <span class="p">*</span> <span class="n">100</span><span class="p">,</span> <span class="n">2</span><span class="p">))</span><span class="s2">%&quot;</span>
</pre></div>
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, EMAIL_SENDER_1 Team.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>